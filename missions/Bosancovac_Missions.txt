#coded by schwendigo
bosancovac_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = G33
			AND = {
				tag = U70
				was_tag = G33
			}
			AND = {
				tag = H27
				was_tag = G33
			}
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	bosancovac_reconciliation = {
		icon = friends_in_high_places
		required_missions = { bosancovac_network_of_faith }
		position = 3

		provinces_to_highlight = {
			province_id = 1182
		}

		trigger = {
			OR = {
				grebniesth_area = {
					type = all
					country_or_subject_holds = ROOT
				}
				1182 = { # Grebniesth
					owner = {
						has_opinion = {
							who = ROOT
							value = 150
						}
					}
				}
			}
			1182 = {
				NOT = { devastation = 0.01 }
			}
			amacimst_area = {
				type = all
				country_or_subject_holds = ROOT
			}
			malacnar_area = {
				type = all
				country_or_subject_holds = ROOT
			}
			OR = {
				AND = {
					G32 = {
						is_subject_of = ROOT
						has_opinion = {
							who = ROOT
							value = 150
						}
					}
				}
				NOT = { exists = G32 }
			}
			OR = {
				AND = {
					G26 = {
						is_subject_of = ROOT
						has_opinion = {
							who = ROOT
							value = 150
						}
					}
				}
				NOT = { exists = G26 }
			}
		}

		effect = {
			G32 = { # Malacnar
				if = {
					limit = { exists = yes }
					add_trust = {
						who = ROOT
						value = 10
					}
					add_liberty_desire = -15
				}
				else = {
					malacnar_area = {
						add_local_autonomy = -25
					}
				}
			}
			G26 = { # Amacimst
				if = {
					limit = { exists = yes }
					add_trust = {
						who = ROOT
						value = 10
					}
					add_liberty_desire = -15
				}
				else = {
					amacimst_area = {
						add_local_autonomy = -25
					}
				}
			}
		}
	}

	bosancovac_subdue_the_rabblerousers = {
		icon = mission_destroyed_city
		required_missions = { bosancovac_reconciliation bosancovac_found_the_city_guard }
		position = 4

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_repatriate_the_tromseloc_way = {
		icon = mission_green_village
		required_missions = { bosancovac_subdue_the_rabblerousers bosancovac_guidance_of_the_river }
		position = 5

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_reimagining_the_dams = {
		icon = mission_advance_to_the_dnieper
		required_missions = { bosancovac_repatriate_the_tromseloc_way }
		position = 6

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_just_doing_business = {
		icon = mission_advance_to_the_dnieper
		required_missions = { bosancovac_reimagining_the_dams }
		position = 7

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_a_gemstone_currency = {
		icon = mission_rb_inland_india
		required_missions = { bosancovac_just_doing_business }
		position = 8

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_technological_showcase = {
		icon = mission_advance_to_the_dnieper
		required_missions = { bosancovac_a_gemstone_currency bosancovac_improved_metallurgy }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}
}

bosancovac_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = G33
			AND = {
				tag = U70
				was_tag = G33
			}
			AND = {
				tag = H27
				was_tag = G33
			}
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	bosancovac_a_noble_rivalry = {
		icon = mission_protect_granada
		required_missions = {  }
		position = 1

		provinces_to_highlight = {
			OR = {
				area = amacimst_area
				area = malacnar_area
			}
		}

		trigger = {
			estate_loyalty = {
				estate = estate_nobles
				loyalty = 60
			}
			estate_influence = {
				estate = estate_nobles
				influence = 60
			}
			num_of_generals = 1
			num_of_cavalry = 2
			OR = {
				AND = {
					is_rival = G26
					G26 = {
						has_opinion_modifier = {
							who = ROOT
							modifier = insulted
						}
					}
					is_rival = G32
					G32 = {
						has_opinion_modifier = {
							who = ROOT
							modifier = insulted
						}
					}
				}
				AND = {
					amacimst_area = {
						type = all
						country_or_subject_holds = ROOT
					}
					malacnar_area = {
						type = all
						country_or_subject_holds = ROOT
					}
				}
			}
		}

		effect = {
			if = {
				limit = {
					amacimst_area = {
						type = all
						country_or_subject_holds = ROOT
					}
					malacnar_area = {
						type = all
						country_or_subject_holds = ROOT
					}
				}
				add_power_projection = {
					type = mission_rewards_power_projection
					amount = 10
				}
				add_country_modifier = {
					name = bosancovac_triumph_over_rivals
					duration = 5475
				}
			}
			else = {
				country_event = {
					id = flavour_bosancovac.210
				}
			}
		}
	}

	bosancovac_network_of_faith = {
		icon = mission_religious
		required_missions = { bosancovac_a_noble_rivalry }
		position = 2

		provinces_to_highlight = {
			
		}

		trigger = {
			num_of_subjects = 2
			all_subject_country = {
				has_spy_network_from = {
					who = ROOT
					value = 25
				}
			}
			devotion = 85
			employed_advisor = {
				category = DIP
			}
		}

		effect = {
			every_subject_country = {
				add_treasury = -25
				ROOT = { add_treasury = 25 }
			}
			random_subject_country = {
				limit = { capital_scope = { NOT = { has_building = temple } } }
				capital_scope = { add_building = temple }
			}
			random_subject_country = {
				limit = { capital_scope = { NOT = { has_building = temple } } }
				capital_scope = { add_building = temple }
			}
		}
	}

	bosancovac_found_the_city_guard = {
		icon = mission_new_army
		required_missions = { bosancovac_network_of_faith }
		position = 3

		provinces_to_highlight = {
			
		}

		trigger = {
			1165 = { # Bosancovac
				num_of_units_in_province = {
					amount = 3
					who = ROOT
				}
				infantry_in_province = 3
				has_fort_building_trigger = yes
				base_manpower = 5
			}
			army_professionalism = 0.10
		}

		effect = {
			kill_units = { who = owner type = infantry amount = 3 }
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = bosancovac_unlocked_a_district } }
				}
				set_country_flag = bosancovac_unlocked_a_district
			}
			custom_tooltip = boasncovac_build_garrison_tt
		}
	}

	bosancovac_guidance_of_the_river = {
		icon = mission_hands_praying
		required_missions = { bosancovac_found_the_city_guard bosancovac_the_gem_of_dolindha }
		position = 4

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_develop_new_industries = {
		icon = promote_urbanization
		required_missions = { bosancovac_repatriate_the_tromseloc_way bosancovac_sway_their_clergy }
		position = 6

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_finding_a_niche = {
		icon = mission_armor_choice
		required_missions = { bosancovac_reimagining_the_dams bosancovac_develop_new_industries }
		position = 7

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_improved_metallurgy = {
		icon = mission_iron_and_copper
		required_missions = { bosancovac_just_doing_business bosancovac_finding_a_niche bosancovac_rise_of_the_patricians }
		position = 8

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_standard_time_clock_terminal = {
		icon = italian_riches
		required_missions = { bosancovac_improved_metallurgy bosancovac_formalize_succession }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_clockwork_city = {
		icon = mission_industrialize_bengal
		required_missions = { bosancovac_technological_showcase bosancovac_standard_time_clock_terminal bosancovac_centralize_the_temples }
		position = 10

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}
}

bosancovac_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = G33
			AND = {
				tag = U70
				was_tag = G33
			}
			AND = {
				tag = H27
				was_tag = G33
			}
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	bosancovac_secure_more_materials = {
		icon = mission_develop_the_scandes
		required_missions = { bosancovac_downriver_relations }
		position = 2

		provinces_to_highlight = {
			
		}

		trigger = {
			1167 = {
				owner = {
					OR = {
						tag = ROOT
						custom_trigger_tooltip = {
							tooltip = "Has opinion modifier §YReceiving Subsidies§! at §G+15§!"
							has_opinion_modifier = {
								who = ROOT
								modifier = getting_subsidies
								value = 15
							}
						}
					}
				}
			}
			2813 = {
				owner = {
					OR = {
						tag = ROOT
						custom_trigger_tooltip = {
							tooltip = "Has opinion modifier §YReceiving Subsidies§! at §G+15§!"
							has_opinion_modifier = {
								who = ROOT
								modifier = getting_subsidies
								value = 15
							}
						}
					}
				}
			}
			2838 = {
				owner = {
					OR = {
						tag = ROOT
						custom_trigger_tooltip = {
							tooltip = "Has opinion modifier §YReceiving Subsidies§! at §G+15§!"
							has_opinion_modifier = {
								who = ROOT
								modifier = getting_subsidies
								value = 15
							}
						}
					}
				}
			}
			2488 = {
				owner = {
					OR = {
						tag = ROOT
						AND = {
							custom_trigger_tooltip = {
								tooltip = "Has opinion modifier §YReceiving Subsidies§! at §G+15§!"
								has_opinion_modifier = {
									who = ROOT
									modifier = getting_subsidies
									value = 15
								}
							}
							has_spy_network_from = {
								who = ROOT
								value = 50
							}
						}
					}
				}
			}
			OR = {
				prestige = 15
				treasury = 25
			}
		}

		effect = {
			add_country_modifier = {
				name = bosancovac_building_supplies
				duration = 18250
			}
			country_event = {
				id = flavour_bosancovac.320
			}
		}
	}

	bosancovac_the_gem_of_dolindha = {
		icon = mission_early_game_buildings
		required_missions = { bosancovac_network_of_faith bosancovac_secure_more_materials bosancovac_support_the_merchant_fleet }
		position = 3

		provinces_to_highlight = {
			
		}

		trigger = {
			1165 = {
				if = {
					limit = { dolindha_region = { NOT = { province_id = 1165 } development = 17 } }
					development = 18
				}
				else_if = {
					limit = { dolindha_region = { NOT = { province_id = 1165 } development = 16 } }
					development = 17
				}
				else_if = {
					limit = { dolindha_region = { NOT = { province_id = 1165 } development = 15 } }
					development = 16
				}
				else = {
					development = 15
				}
				has_trade_building_trigger = yes
				NOT = { devastation = 0.01 }
				OR = {
					has_province_modifier = bosancovac_foundations_1
					has_province_modifier = bosancovac_foundations_2
					has_province_modifier = bosancovac_foundations_3
					has_province_modifier = bosancovac_foundations_4
				}
			}
		}

		effect = {
			1165 = { center_of_trade = 1 }
			add_prestige = 10
		}
	}

	bosancovac_expand_the_merchant_fleet = {
		icon = adriatic_access
		required_missions = { bosancovac_the_gem_of_dolindha bosancovac_establish_trading_ports }
		position = 4

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_sway_their_clergy = {
		icon = mission_native_build_army_mission
		required_missions = { bosancovac_guidance_of_the_river bosancovac_expand_the_merchant_fleet bosancovac_influence_of_the_confluence }
		position = 5

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_rise_of_the_patricians = {
		icon = immaculate_government
		required_missions = { bosancovac_develop_new_industries bosancovac_hostile_takeover }
		position = 7

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_formalize_succession = {
		icon = hand-picked_bureaucrats
		required_missions = { bosancovac_rise_of_the_patricians }
		position = 8

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_centralize_the_temples = {
		icon = invest_in_the_provinces
		required_missions = { bosancovac_formalize_succession bosancovac_cornering_the_market }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}
}

bosancovac_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = G33
			AND = {
				tag = U70
				was_tag = G33
			}
			AND = {
				tag = H27
				was_tag = G33
			}
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	bosancovac_downriver_relations = {
		icon = catholic_confraternity
		required_missions = {  }
		position = 1

		provinces_to_highlight = {
			OR = {
				AND = {
					is_capital_of = G84
					ROOT = {
						NOT = {
							reverse_has_opinion = {
								who = G84
								value = 150
							}
						}
					}
				}
				AND = {
					is_capital_of = G39
					ROOT = {
						NOT = {
							reverse_has_opinion = {
								who = G39
								value = 100
							}
						}
					}
				}
			}
		}

		trigger = {
			reverse_has_opinion = {
				who = G84
				value = 150
			}
			G84 = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = "Has opinion modifier §YSent Gift§! at §G+25§!"
						has_opinion_modifier = {
							who = ROOT
							modifier = sent_gift
							value = 25
						}
					}
					has_opinion_modifier = {
						who = ROOT
						modifier = honored_alliance
					}
				}
			}
			reverse_has_opinion = {
				who = G39
				value = 100
			}
			1139 = { has_trader = G33 }
		}

		effect = {
			add_country_modifier = {
				name = bosancovac_theological_debate
				duration = 5475
			}
			hidden_effect = {
				set_country_flag = vels_bacar_free_passage
			}
			custom_tooltip = "Receive §Gfree passage§! through the §TVels Bacar§! dam.\n"
			define_advisor = {
				type = commandant
				culture = sarda
				discount = yes
			}
		}
	}

	bosancovac_support_the_merchant_fleet = {
		icon = mission_ne_birch_bark_canoes
		required_missions = { bosancovac_downriver_relations }
		position = 2

		provinces_to_highlight = {
		}

		trigger = {
			estate_loyalty = {
				estate = estate_burghers
				loyalty = 70
			}
			estate_influence = {
				estate = estate_burghers
				influence = 60
			}
			estate_loyalty = {
				estate = estate_church
				loyalty = 70
			}
			estate_influence = {
				estate = estate_church
				influence = 60
			}
			has_estate_privilege = estate_burghers_free_enterprise
			has_estate_privilege = estate_church_religious_diplomats
		}

		effect = {
			unlock_estate_privilege = {
				estate_privilege = estate_burghers_sponsor_new_ships
			}
			unlock_estate_privilege = {
				estate_privilege = estate_church_clerical_convincing
			}
		}
	}

	bosancovac_establish_trading_ports = {
		icon = mission_dominate_home_trade_node
		required_missions = { bosancovac_support_the_merchant_fleet }
		position = 3

		provinces_to_highlight = {
			has_province_modifier = ynn_holy_merchant_port
		}

		trigger = {
			dip_power = 50
			calc_true_if = {
				amount = 4
				all_known_country = {
					any_owned_province = { has_province_modifier = ynn_holy_merchant_port }
					OR = {
						has_spy_network_from = {
							who = ROOT
							value = 25
						}
						has_opinion = {
							who = ROOT
							value = 75
						}
					}
				}
			}
			calc_true_if = {
				amount = 8
				ynn_riverside = {
					has_province_modifier = ynn_holy_merchant_port
				}
			}
		}

		effect = {
			add_dip_power = -50
			every_known_country = {
				limit = {
					any_owned_province = { has_province_modifier = ynn_holy_merchant_port }
					OR = {
						has_spy_network_from = {
							who = ROOT
							value = 25
						}
						has_opinion = {
							who = ROOT
							value = 75
						}
					}
				}
				country_event = {
					id = flavour_bosancovac.430
				}
			}
		}
	}

	bosancovac_influence_of_the_confluence = {
		icon = renaissance_city
		required_missions = { bosancovac_the_gem_of_dolindha bosancovac_establish_trading_ports bosancovac_knights_aboard }
		position = 4

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_revitalized_administration = {
		icon = mission_the_governing_senate
		required_missions = { bosancovac_influence_of_the_confluence }
		position = 5

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_hostile_takeover = {
		icon = mission_ynnic_knights
		required_missions = { bosancovac_sway_their_clergy bosancovac_revitalized_administration }
		position = 6

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_remove_the_false_belief = {
		icon = mission_ynnic_knights
		required_missions = { bosancovac_hostile_takeover }
		position = 7

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_cornering_the_market = {
		icon = mission_arverynn_street
		required_missions = { bosancovac_remove_the_false_belief }
		position = 8

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_celebration_of_reynnification = {
		icon = mng_expand_bogue
		required_missions = { bosancovac_centralize_the_temples bosancovac_establish_holy_site }
		position = 10

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}
}

bosancovac_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = G33
			AND = {
				tag = U70
				was_tag = G33
			}
			AND = {
				tag = H27
				was_tag = G33
			}
		}
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	bosancovac_upriver_exercises = {
		icon = mission_expand_into_the_forest
		required_missions = { bosancovac_downriver_relations }
		position = 2

		provinces_to_highlight = {
			
		}

		trigger = {
			employed_advisor = { category = MIL }
			army_size_percentage = 0.9
			num_of_mercenaries = 1
			has_spy_network_in = {
				who = G26
				value = 25
			}
			num_of_regiments_at_full_drill = 6
		}

		effect = {
			2829 = {
				if = {
					limit = { NOT = { is_core = ROOT } }
					add_permanent_claim = ROOT
				}
				if = {
					limit = {
						owner = { is_subject_of = ROOT }
					}
					cede_province = ROOT
				}
			}
			add_country_modifier = {
				name = bosancovac_river_drills
				duration = 1825
			}
		}
	}

	bosancovac_knights_aboard = {
		icon = mission_warrior_gold
		required_missions = { bosancovac_support_the_merchant_fleet bosancovac_upriver_exercises }
		position = 3

		provinces_to_highlight = {
			
		}

		trigger = {
			has_leader_with = { total_pips = 7 }
			OR = {
				estate_loyalty = {
					estate = estate_adventurers
					loyalty = 60
				}
				mil_power = 100
			}
			treasury = 100
			OR = {
				any_hired_mercenary_company = {
					hired_for_months = 60
				}
				treasury = 200
			}
			OR = {
				NOT = { has_country_modifier = bosancovac_river_drills }
				has_estate_privilege = estate_adventurers_organization_licensed_adventurers
			}
		}

		effect = {
			unlock_merc_company = {
				merc_company = merc_paddleboard_knights
				free_merc = yes # Only include this line if “elite” merc that costs no professionalism
			}
			if = {
				limit = {
					NOT = {
						estate_loyalty = {
							estate = estate_adventurers
							loyalty = 60
						}
					}
				}
				add_mil_power = -100
			}
			if = {
				limit = {
					any_hired_mercenary_company = {
						hired_for_months = 60
					}
				}
				random_hired_mercenary_company = {
					limit = { hired_for_months = 60 }
					disband_mercenary_company = THIS
				}
			}
			else = { add_treasury = -100 }
			add_treasury = -100
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = bosancovac_unlocked_a_district } }
				}
				set_country_flag = bosancovac_unlocked_a_district
			}
			custom_tooltip = boasncovac_build_docks_tt
		}
	}

	bosancovac_expedition_up_vitreynn = {
		icon = mission_galleys_in_port
		required_missions = { bosancovac_influence_of_the_confluence bosancovac_knights_aboard }
		position = 5

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_create_a_path_to_the_source = {
		icon = mission_the_caucasus_rus
		required_missions = { bosancovac_revitalized_administration bosancovac_expedition_up_vitreynn }
		position = 6

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_secure_the_lake = {
		icon = mission_seize_the_bengal_coast
		required_missions = { bosancovac_create_a_path_to_the_source }
		position = 8

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}

	bosancovac_establish_holy_site = {
		icon = mission_protestant_heddal_church
		required_missions = { bosancovac_cornering_the_market bosancovac_secure_the_lake }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			
		}

		effect = {
			
		}
	}
}
