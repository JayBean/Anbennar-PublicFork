namespace = flavour_bosancovac

#Accepts Trading Port
country_event = {
	id = flavour_bosancovac.000
	title = flavour_bosancovac.000.t
	desc = flavour_bosancovac.000.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		NOT = { has_country_flag = bosancovac_no_notification }
	}

	option = {
		name = flavour_bosancovac.000.a
		add_mercantilism = 1
		add_opinion = {
			who = FROM
			modifier = g33_accepted_port
		}
		if = {
			limit = { FROM = { is_subject_of = ROOT } }
			FROM = { add_liberty_desire = -5 }
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.000.b
		custom_tooltip = "You will stop receiving notifications about this."
		hidden_effect = { set_country_flag = bosancovac_no_notification }
		add_mercantilism = 1
		add_opinion = {
			who = FROM
			modifier = g33_accepted_port
		}
		if = {
			limit = { FROM = { is_subject_of = ROOT } }
			FROM = { add_liberty_desire = -5 }
		}
		ai_chance = {
			factor = 0
		}
	}
}

#Accepts Trading Port Hidden
country_event = {
	id = flavour_bosancovac.001
	title = flavour_bosancovac.001.t
	desc = flavour_bosancovac.001.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		has_country_flag = bosancovac_no_notification
	}

	option = {
		name = flavour_bosancovac.001.a
		add_mercantilism = 1
		add_opinion = {
			who = FROM
			modifier = g33_accepted_port
		}
		if = {
			limit = { FROM = { is_subject_of = ROOT } }
			FROM = { add_liberty_desire = -5 }
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Bosancovac Overloaded
country_event = {
	id = flavour_bosancovac.010
	title = flavour_bosancovac.010.t
	desc = {
		trigger = { is_year = 1445 }
		desc = flavour_bosancovac.010.d1
	}
	desc = {
		trigger = { NOT = { is_year = 1445 } }
		desc = flavour_bosancovac.010.d2
	}
	picture = REVOLUTION_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		NOT = { has_country_flag = bosancovac_stable_foundations }
		1165 = {
			OR = {
				AND = {
					development = 11
					NOT = {
						has_province_modifier = bosancovac_foundations_1
						has_province_modifier = bosancovac_foundations_2
						has_province_modifier = bosancovac_foundations_3
						has_province_modifier = bosancovac_foundations_4
					}
				}
				AND = {
					development = 16
					NOT = {
						has_province_modifier = bosancovac_foundations_2
						has_province_modifier = bosancovac_foundations_3
						has_province_modifier = bosancovac_foundations_4
					}
				}
				AND = {
					development = 21
					NOT = {
						has_province_modifier = bosancovac_foundations_3
						has_province_modifier = bosancovac_foundations_4
					}
				}
				AND = {
					development = 31
					NOT = {
						has_province_modifier = bosancovac_foundations_4
					}
				}
				development = 41
			}
		}
	}

	option = {
		name = flavour_bosancovac.010.a
		add_stability = -1
		if = {
			limit = { is_year = 1445 } #So that the first event doesn't give you a bad start
			1165 = {
				random_list = {
					60 = {
	
					}
					10 = {
						add_base_tax = -1
					}
					10 = {
						add_base_production = -1
					}
					10 = {
						add_base_manpower = -1
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Foundation completed
country_event = {
	id = flavour_bosancovac.011
	title = flavour_bosancovac.011.t
	desc = flavour_bosancovac.011.d
	picture = CITY_DEVELOPMENT_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		1165 = { NOT = { has_province_modifier = bosancovac_building_project } }
	}

	option = {
		name = flavour_bosancovac.011.a
		add_stability_or_adm_power = yes
		1165 = {
			if = {
				limit = { has_province_modifier = bosancovac_foundations_1 }
				remove_province_modifier = bosancovac_foundations_1
				add_permanent_province_modifier = {
					name = bosancovac_foundations_2
					duration = -1
				}
				custom_tooltip = bosancovac_foundation_2_tt
			}
			else_if = {
				limit = { has_province_modifier = bosancovac_foundations_2 }
				remove_province_modifier = bosancovac_foundations_2
				add_permanent_province_modifier = {
					name = bosancovac_foundations_3
					duration = -1
				}
				custom_tooltip = bosancovac_foundation_3_tt
			}
			else_if = {
				limit = { has_province_modifier = bosancovac_foundations_3 }
				remove_province_modifier = bosancovac_foundations_3
				add_permanent_province_modifier = {
					name = bosancovac_foundations_4
					duration = -1
				}
				custom_tooltip = bosancovac_foundation_4_tt
			}
			else = {
				add_permanent_province_modifier = {
					name = bosancovac_foundations_1
					duration = -1
				}
				custom_tooltip = bosancovac_foundation_1_tt
			}
		}
		hidden_effect = {
			clr_country_flag = bosancovac_building_foundations
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Water Serpents Attack
country_event = {
	id = flavour_bosancovac.012
	title = flavour_bosancovac.012.t
	desc = flavour_bosancovac.012.d
	picture = FLAGSHIP_SUNK_eventPicture

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			OR = {
				has_personal_deity = ynn_zodiac_deity_6		#Giant Beaver
				has_personal_deity = ynn_zodiac_deity_11	#Poskawa Whale
				has_country_modifier = ynn_bad_stuir_balia
			}
		}
		modifier = {
			factor = 0.5
			mission_completed = bosancovac_expand_the_merchant_fleet
		}
	}

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		has_country_flag = bosancovac_building_foundations
	}

	option = {
		name = flavour_bosancovac.012.a
		add_stability = -1
		1165 = { add_devastation = 30 }
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.012.b
		add_mil_power = -50
		add_manpower = -1.5
		ai_chance = {
			factor = 100
		}
	}
}

#Heavy Rains
country_event = {
	id = flavour_bosancovac.013
	title = flavour_bosancovac.013.t
	desc = flavour_bosancovac.013.d
	picture = OVEREXTENSION_eventPicture

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			OR = {
				has_personal_deity = ynn_zodiac_deity_6		#Giant Beaver
				has_personal_deity = ynn_zodiac_deity_11	#Poskawa Whale
				has_country_modifier = ynn_bad_stuir_balia
			}
		}
		modifier = {
			factor = 0.5
			mission_completed = bosancovac_expand_the_merchant_fleet
		}
	}

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		has_country_flag = bosancovac_building_foundations
	}

	option = {
		name = flavour_bosancovac.013.a
		custom_tooltip = "The progress towards building the foundations will be reset"
		1165 = { add_devastation = 20 }
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = bosancovac_building_foundations
				}
				1165 = {
					remove_province_modifier = bosancovac_building_project
					add_province_modifier = {
						name = bosancovac_building_project
						duration = 1095
					}
				}
				country_event = {
					id = flavour_bosancovac.011
					days = 1098
				}
			}
			else = {
				1165 = { add_devastation = 20 }
			}
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.013.b
		add_treasury = -50
		ai_chance = {
			factor = 100
		}
	}
}

#Patricians Cover Costs
country_event = {
	id = flavour_bosancovac.014
	title = flavour_bosancovac.014.t
	desc = flavour_bosancovac.014.d
	picture = CORRUPTION_eventPicture

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		has_country_flag = bosancovac_building_foundations
	}

	option = {
		name = flavour_bosancovac.014.a
		add_treasury = 25
		ai_chance = {
			factor = 100
		}
	}
}

#Water Serpents Allow Construction
country_event = {
	id = flavour_bosancovac.015
	title = flavour_bosancovac.015.t
	desc = flavour_bosancovac.015.d
	picture = SHIP_SAILING_eventPicture

	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 3
			OR = {
				has_personal_deity = ynn_zodiac_deity_10	#Whitetail Fox
				has_personal_deity = ynn_zodiac_deity_2		#Snapping Otter
				has_personal_deity = ynn_zodiac_deity_7		#Ynnea Pig
				has_country_modifier = ynn_good_stuir_balia
			}
		}
	}

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		has_country_flag = bosancovac_building_foundations
	}

	option = {
		name = flavour_bosancovac.015.a
		add_stability_or_adm_power = yes
		ai_chance = {
			factor = 100
		}
	}
}

#District selection
country_event = {
	id = flavour_bosancovac.020
	title = flavour_bosancovac.020.t
	desc = flavour_bosancovac.020.d
	picture = CITY_VIEW_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.020.a
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.020.b
		trigger = {
			mission_completed = bosancovac_knights_aboard
			NOT = { 1165 = { has_province_modifier = bosancovac_docks_district } }
		}
		add_treasury = -100
		1165 = {
			add_province_modifier = {
				name = bosancovac_building_project
				duration = 365
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_bosancovac.021
				days = 365
			}
		}
		custom_tooltip = bosancovac_district_effect_tt
		tooltip = {
			1165 = {
				add_permanent_province_modifier = {
					name = bosancovac_docks_district
					duration = -1
				}
			}
		}
		custom_tooltip = bosancovac_unlock_fleet_tt
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.020.c
		trigger = {
			mission_completed = bosancovac_found_the_city_guard
			NOT = { 1165 = { has_province_modifier = bosancovac_garrison_district } }
		}
		add_treasury = -100
		1165 = {
			add_province_modifier = {
				name = bosancovac_building_project
				duration = 365
			}
		}
		custom_tooltip = bosancovac_district_effect_tt
		tooltip = {
			1165 = {
				add_permanent_province_modifier = {
					name = bosancovac_garrison_district
					duration = -1
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_bosancovac.022
				days = 365
			}
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.020.dd
		trigger = {
			mission_completed = bosancovac_develop_new_industries
			NOT = { 1165 = { has_province_modifier = bosancovac_warehouse_district } }
		}
		add_treasury = -100
		1165 = {
			add_province_modifier = {
				name = bosancovac_building_project
				duration = 365
			}
		}
		custom_tooltip = bosancovac_district_effect_tt
		tooltip = {
			1165 = {
				add_permanent_province_modifier = {
					name = bosancovac_warehouse_district
					duration = -1
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_bosancovac.023
				days = 365
			}
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.020.e
		trigger = {
			mission_completed = bosancovac_finding_a_niche
			NOT = { 1165 = { has_province_modifier = bosancovac_foreign_quarter_district } }
		}
		add_treasury = -100
		1165 = {
			add_province_modifier = {
				name = bosancovac_building_project
				duration = 365
			}
		}
		custom_tooltip = bosancovac_district_effect_tt
		tooltip = {
			1165 = {
				add_permanent_province_modifier = {
					name = bosancovac_foreign_quarter_district
					duration = -1
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_bosancovac.024
				days = 365
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Dock completion
country_event = {
	id = flavour_bosancovac.021
	title = flavour_bosancovac.021.t
	desc = flavour_bosancovac.021.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.021.a
		1165 = {
			add_permanent_province_modifier = {
				name = bosancovac_docks_district
				duration = -1
			}
		}
		custom_tooltip = bosancovac_unlock_fleet_tt
		hidden_effect = {
			set_country_flag = bosancovac_can_build_fleet
		}

		ai_chance = {
			factor = 100
		}
	}
}

#Garrison completion
country_event = {
	id = flavour_bosancovac.022
	title = flavour_bosancovac.022.t
	desc = flavour_bosancovac.022.d
	picture = LAND_MILITARY_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.022.a
		1165 = {
			add_permanent_province_modifier = {
				name = bosancovac_garrison_district
				duration = -1
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Warehouse completion
country_event = {
	id = flavour_bosancovac.023
	title = flavour_bosancovac.023.t
	desc = flavour_bosancovac.023.d
	picture = TRADE_GOODS_FURS_FISH_AND_SALT_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.023.a
		1165 = {
			add_permanent_province_modifier = {
				name = bosancovac_warehouse_district
				duration = -1
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Foreign quarter completion
country_event = {
	id = flavour_bosancovac.024
	title = flavour_bosancovac.024.t
	desc = flavour_bosancovac.024.d
	picture = HOUSE_OF_TRADE_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.024.a
		1165 = {
			add_permanent_province_modifier = {
				name = bosancovac_foreign_quarter_district
				duration = -1
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Fleet building
country_event = {
	id = flavour_bosancovac.030
	title = flavour_bosancovac.030.t
	desc = flavour_bosancovac.030.d
	picture = NAVAL_MILITARY_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.030.a
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.030.b
		trigger = {
			treasury = 10
			manpower = 0.2
		}
		add_treasury = -10
		add_manpower = -0.2
		6501 = {
			transport = ROOT
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.030.c
		trigger = {
			treasury = 30
			manpower = 0.6
		}
		custom_tooltip = bosancovac_ship_cost_tt
		for = {
			amount = 3
			effect = "
				add_treasury = -10
				add_manpower = -0.2
				6501 = {
					transport = ROOT
				}
			"
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.030.dd
		trigger = {
			treasury = 50
			manpower = 1
		}
		custom_tooltip = bosancovac_ship_cost_tt
		for = {
			amount = 5
			effect = "
				add_treasury = -10
				add_manpower = -0.2
				6501 = {
					transport = ROOT
				}
			"
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.030.e
		trigger = {
			treasury = 100
			manpower = 2
		}
		custom_tooltip = bosancovac_ship_cost_tt
		for = {
			amount = 10
			effect = "
				add_treasury = -10
				add_manpower = -0.2
				6501 = {
					transport = ROOT
				}
			"
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Bostynn Revolts
country_event = {
	id = flavour_bosancovac.140
	title = flavour_bosancovac.140.t
	desc = flavour_bosancovac.140.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		2862 = {
			country_or_subject_holds = ROOT
		}
	}

	option = {
		name = flavour_bosancovac.140.a
		2862 = {
			add_unrest = 10
			add_permanent_province_modifier = {
				name = bostynn_revolt_mod
				duration = -1
			}
		}
	}
}

#Specializing Our Mines
country_event = {
	id = flavour_bosancovac.180
	title = flavour_bosancovac.180.t
	desc = flavour_bosancovac.180.d
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.180.a
		1159 = {
			change_trade_goods = gems
			if = {
				limit = {
					NOT = { culture_group = dwarven }
				}
				add_dwarven_minority_size_effect = yes
			}
		}
		1176 = {
			change_trade_goods = gems
			if = {
				limit = {
					NOT = { culture_group = dwarven }
				}
				add_dwarven_minority_size_effect = yes
			}
		}
	}

	option = {
		name = flavour_bosancovac.180.b
		trigger = {
			NOT = { tag = G33 }
			NOT = { was_tag = G33 }
		}
		add_treasury = 100
		ai_chance = {
			factor = 0
		}
	}

	after = {
		FROM = {
			country_event = {
				id = flavour_bosancovac.181
				days = 60
				random = 30
			}
		}
	}
}

#War of Denomination
country_event = {
	id = flavour_bosancovac.181
	title = flavour_bosancovac.181.t
	desc = flavour_bosancovac.181.d
	picture = TRADE_GOODS_METALS_AND_MINING_EQUIPENT_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.181.a
		trigger = {
			1134 = {
				owner = {
					NOT = { tag = ROOT }
				}
			}
		}
		add_treasury = -250
		1134 = {
			add_unrest = 5
		}
	}

	option = {
		name = flavour_bosancovac.181.b
		trigger = {
			1134 = {
				owner = {
					tag = ROOT
				}
			}
		}
		add_treasury = -500
		1134 = {
			owner = {
				add_treasury = 250
			}
		}
	}
}

#A Sign of Ynnterest
country_event = {
	id = flavour_bosancovac.190
	title = flavour_bosancovac.190.t
	desc = flavour_bosancovac.190.d
	picture = INVENTION_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.190.a
		add_prestige = 10
		medium_increase_of_gnomish_tolerance_effect = yes
		1165 = { add_gnomish_minority_size_effect = yes }
		if = {
			limit = { exists = A79 }
			A79 = {
				capital_scope = {
					area = {
						discover_country = ROOT
					}
				}
				1165 = { discover_country = PREV }
			}
		}
		else_if = {
			limit = { exists = A06 }
			A06 = {
				capital_scope = {
					area = {
						discover_country = ROOT
					}
				}
				1165 = { discover_country = PREV }
			}
		}
		else_if = {
			limit = { any_country = { culture_is_gnomish = yes } }
			random_country = {
				limit = { culture_is_gnomish = yes }
				capital_scope = {
					area = {
						discover_country = ROOT
					}
				}
				1165 = { discover_country = PREV }
			}
		}
		else = {
			nimscodd_area = {
				discover_country = ROOT
			}
		}
	}
}

#A Timely Offer
country_event = {
	id = flavour_bosancovac.210
	title = flavour_bosancovac.210.t
	desc = flavour_bosancovac.210.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.210.a
		G26 = { country_event = { id = flavour_bosancovac.211 } }
		custom_tooltip = bosancovac_offer_amacimst_tt
		hidden_effect = { set_country_flag = bosancovac_chose_amacimst }
	}

	option = {
		name = flavour_bosancovac.210.b
		G32 = { country_event = { id = flavour_bosancovac.211 } }
		custom_tooltip = bosancovac_offer_malacnar_tt
		hidden_effect = { set_country_flag = bosancovac_chose_malacnar }
	}

	option = {
		name = flavour_bosancovac.210.c
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 10
		}
		add_country_modifier = {
			name = bosancovac_triumph_over_rivals
			duration = 5475
		}
	}
}

#Accepting the Call
country_event = {
	id = flavour_bosancovac.211
	title = flavour_bosancovac.211.t
	desc = flavour_bosancovac.211.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G26
			tag = G32
		}
	}

	option = {
		name = flavour_bosancovac.211.a
		trigger = { tag = G26 }
		custom_tooltip = bosancovac_amacimst_offer_tt
		hidden_effect = {
			G33 = {
				declare_war_with_cb = {
					casus_belli = cb_iosahar_annex
					who = G32
				}
			}
			join_all_offensive_wars_of = G33
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.211.b
		trigger = { tag = G32 }
		custom_tooltip = bosancovac_malacnar_offer_tt
		hidden_effect = {
			G33 = {
				declare_war_with_cb = {
					casus_belli = cb_iosahar_annex
					who = G26
				}
			}
			join_all_offensive_wars_of = G33
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = flavour_bosancovac.211.c
		add_trust = {
			who = G33
			value = -30
		}
		ai_chance = {
			factor = 0
		}
	}
}

#Honoring the deal
country_event = {
	id = flavour_bosancovac.212
	title = flavour_bosancovac.212.t
	desc = flavour_bosancovac.212.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { has_country_flag = bosancovac_chose_amacimst }
				every_owned_province = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { area = malacnar_area }
						NOT = { area = drevonsred_area }
					}
					if = {
						limit = { any_core_country = { exists = no } }
						random_core_country = {
							limit = { exists = no }
							PREV = { cede_province = PREV }
							G26 = { create_iosahar = { tag = PREV } }
						}
					}
					else_if = {
						limit = { any_core_country = { is_subject_of = G26 } }
						random_core_country = {
							limit = { is_subject_of = G26 }
							PREV = { cede_province = PREV }
						}
					}
					else = { cede_province = G26 }
				}
				G32 = {
					if = {
						limit = {
							is_subject_of = G33
						}
						every_owned_province = {
							limit = {
								NOT = { area = malacnar_area }
								NOT = { area = drevonsred_area }
							}
							if = {
								limit = { any_core_country = { exists = no } }
								random_core_country = {
									limit = { exists = no }
									PREV = { cede_province = PREV }
									G26 = { create_iosahar = { tag = PREV } }
								}
							}
							else_if = {
								limit = { any_core_country = { is_subject_of = G26 } }
								random_core_country = {
									limit = { is_subject_of = G26 }
									PREV = { cede_province = PREV }
								}
							}
							else = { cede_province = G26 }
						}
					}
				}
			}
			else_if = {
				limit = { has_country_flag = bosancovac_chose_malacnar }
				every_owned_province = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { area = bosancovac_area }
						NOT = { area = amacimst_area }
					}
					if = {
						limit = { any_core_country = { exists = no } }
						random_core_country = {
							limit = { exists = no }
							PREV = { cede_province = PREV }
							G32 = { create_iosahar = { tag = PREV } }
						}
					}
					else_if = {
						limit = { any_core_country = { is_subject_of = G32 } }
						random_core_country = {
							limit = { is_subject_of = G32 }
							PREV = { cede_province = PREV }
						}
					}
					else = { cede_province = G32 }
				}
				G26 = {
					if = {
						limit = {
							is_subject_of = G33
						}
						every_owned_province = {
							limit = {
								NOT = { area = malacnar_area }
								NOT = { area = drevonsred_area }
							}
							if = {
								limit = { any_core_country = { exists = no } }
								random_core_country = {
									limit = { exists = no }
									PREV = { cede_province = PREV }
									G32 = { create_iosahar = { tag = PREV } }
								}
							}
							else_if = {
								limit = { any_core_country = { is_subject_of = G32 } }
								random_core_country = {
									limit = { is_subject_of = G32 }
									PREV = { cede_province = PREV }
								}
							}
							else = { cede_province = G32 }
						}
					}
				}
			}
		}
	}

	option = {
		name = flavour_bosancovac.212.a
		add_prestige = 5
		if = {
			limit = { has_country_flag = bosancovac_chose_amacimst }
			add_opinion = { who = G26 modifier = g33_hasty_occupation }
		}
		else_if = {
			limit = { has_country_flag = bosancovac_chose_malacnar }
			add_opinion = { who = G32 modifier = g33_hasty_occupation }
		}
		hidden_effect = { clr_country_flag = bosancovac_chose_amacimst clr_country_flag = bosancovac_chose_malacnar }
	}
}

#A Timely Offer
country_event = {
	id = flavour_bosancovac.2100
	title = flavour_bosancovac.2100.t
	desc = flavour_bosancovac.2100.d
	picture = CITY_VIEW_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
	}

	option = {
		name = flavour_bosancovac.2100.a
		1165 = {
			remove_province_modifier = bosancovac_docks_district
			remove_province_modifier = bosancovac_warehouse_district
			remove_province_modifier = bosancovac_garrison_district
			remove_province_modifier = bosancovac_foreign_quarter_district
			remove_province_modifier = bosancovac_foundations_4
			add_permanent_province_modifier = {
				name = bosancovac_clockwork_city
				duration = -1
			}
		}
		custom_tooltip = bosancovac_no_overload_tt
		hidden_effect = { set_country_flag = bosancovac_stable_foundations }
	}
}

#First Impressions
country_event = {
	id = flavour_bosancovac.320
	title = flavour_bosancovac.320.t
	desc = flavour_bosancovac.320.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.320.a
		trigger = { treasury = 100 }
		add_treasury = -5
		hidden_effect = { set_country_flag = bosancovac_splashed_cash }
		country_event = {
			id = flavour_bosancovac.321
		}
	}

	option = {
		name = flavour_bosancovac.320.b
		add_treasury = -25
		trigger = { NOT = { prestige = 15 } }
		country_event = {
			id = flavour_bosancovac.321
		}
	}

	option = {
		name = flavour_bosancovac.320.c
		trigger = { prestige = 15 }
		country_event = {
			id = flavour_bosancovac.321
		}
	}
}

#Successful Display
country_event = {
	id = flavour_bosancovac.321
	title = flavour_bosancovac.321.t
	desc = flavour_bosancovac.321.d
	picture = ARTWORK_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
	}

	option = {
		name = flavour_bosancovac.321.a
		trigger = { has_country_flag = bosancovac_splashed_cash }
		hidden_effect = { clr_country_flag = bosancovac_splashed_cash }
		define_advisor = {
			type = artist
			culture = dolindhan
		}
		hidden_effect = { set_country_flag = bosancovac_foundations_unlocked }
		custom_tooltip = bosancovac_foundations_unlock_tt
	}

	option = {
		name = flavour_bosancovac.321.b
		trigger = { NOT = { has_country_flag = bosancovac_splashed_cash } }
		define_advisor = {
			type = artist
			culture = dolindhan
			discount = yes
		}
		hidden_effect = { set_country_flag = bosancovac_foundations_unlocked }
		custom_tooltip = bosancovac_foundations_unlock_tt
	}
}

#A Chosen Patrician
country_event = {
	id = flavour_bosancovac.370
	title = flavour_bosancovac.370.t
	desc = flavour_bosancovac.370.d
	picture = POPE_PREACHING_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.370.a
		define_heir = {
			name = "Camovac"
			dynasty = "Sivadarant"
			age = 32
			adm = 3
			dip = 3
			mil = 3
			claim = 100
		}
		custom_tooltip = bosancovac_patricians_tt
		hidden_effect = {
			set_country_flag = bosancovac_patricians_enabled
			set_ruler_flag = bosancovac_non_patrician_ruler
			set_heir_flag = bosancovac_patrician_ruler
		}
	}
}

#Heir is needed
country_event = {
	id = flavour_bosancovac.380
	title = flavour_bosancovac.380.t
	desc = flavour_bosancovac.380.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		OR = {
			has_country_flag = bosancovac_patrician_succession
		}
		NOT = { has_reform = papacy_reform }
		NOT = { has_country_flag = in_theocracy_heir_selection }
		NOT = { has_country_flag = is_selecting_stat_bonus_for_heir }
		has_government_attribute = heir

		# Anbennar
		NOT = { has_adventurer_reform = yes }
		NOT = { has_reform = magocracy_reform }
		NOT = { has_reform = magisterium_reform }
		NOT = { has_reform = verkal_ozovar_magocracy }
		NOT = { has_reform = tehanek_magocracy_reform }
		NOT = { has_reform = chaingrasper_dakocracy_reform }
		NOT = { 
			OR = {
				has_reform = wulin
				has_reform = xiaken
				has_reform = indep_xiaken
				has_reform = one_xia
			}
		}
		NOT = { has_reform = tagharoghi_reform }
		NOT = { has_estate = estate_acolytes }	#they have their own evil thing
		NOT = { has_reform = kar_ankash_theocracy_reform }	#They select heirs through shatteredcrown.44
		NOT = { has_reform = balrijin_sage_council_reform }	#They select heirs through flavour_balrijin.30
		OR = { #They select heirs through theocracy.2
			NOT = { has_reform = oracular_order_reform }
			NOT = { has_country_flag = has_caste_estates }
		}
		NOT = { has_country_flag = lich_ruler_has_phylactery }
	}

	immediate = {
		hidden_effect = {
			set_country_flag = in_theocracy_heir_selection

			clr_country_flag = theo_local_noble_flag
			clr_country_flag = theo_foreign_noble_flag
			clr_country_flag = theo_merchants_son_flag
			clr_country_flag = theo_talented_theologian_flag
			clr_country_flag = theo_local_preacher_flag
			clr_country_flag = theo_papal_protege_flag
			clr_country_flag = theo_imam_khatib_flag
			clr_country_flag = theo_influential_reformer_flag
		}
	}
	
	# Anbennar 
	after = {
		hidden_effect = {
			set_variable = {
				which = heirStats
				value = 0
			}
			random_list = {
				10 = { change_variable = { which = heirStats value = 1 } }
				10 = { change_variable = { which = heirStats value = 2 } }
				10 = { change_variable = { which = heirStats value = 3 } }
				10 = { change_variable = { which = heirStats value = 4 } }
				10 = { change_variable = { which = heirStats value = 5 } }
				10 = { change_variable = { which = heirStats value = 6 } }
				10 = { change_variable = { which = heirStats value = 7 } }
				10 = { change_variable = { which = heirStats value = 8 } }
				10 = { change_variable = { which = heirStats value = 9 } }
			}
			for_variable_amount = {
				variable = heirStats
				effect = "
					random_list = {
						33 = { trigger = { NOT = { heir_adm = 6 } } change_heir_adm = 1 }
						33 = { trigger = { NOT = { heir_dip = 6 } } change_heir_dip = 1 }
						33 = { trigger = { NOT = { heir_mil = 6 } } change_heir_mil = 1 }
					}
				"
			}
		}
	}

	option = {
		name = flavour_bosancovac.380.a
		define_heir = {
			dynasty = "Niruensresten"
			adm = 3
			dip = 1
			mil = 1
			claim = 75
			age = 35
		}
		custom_tooltip = bosancovac_random_stats_tt
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		tooltip = {
			add_country_modifier = {
				name = bosancovac_niruensresten
				duration = -1
			}
		}
		clr_country_flag = in_theocracy_heir_selection
	}

	option = {
		name = flavour_bosancovac.380.b
		define_heir = {
			dynasty = "Plakorifem"
			adm = 1
			dip = 3
			mil = 1
			claim = 75
			age = 35
		}
		custom_tooltip = bosancovac_random_stats_tt
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		tooltip = {
			add_country_modifier = {
				name = bosancovac_plakorifem
				duration = -1
			}
		}
		clr_country_flag = in_theocracy_heir_selection
	}

	option = {
		name = flavour_bosancovac.380.c
		define_heir = {
			dynasty = "Crvenrogavus"
			adm = 1
			dip = 1
			mil = 3
			claim = 75
			age = 35
		}
		custom_tooltip = bosancovac_random_stats_tt
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		tooltip = {
			add_country_modifier = {
				name = bosancovac_crvenrogavus
				duration = -1
			}
		}
		if = {
			limit = {
				has_government_attribute = theocratic_monarchy_mechanic
			}
			custom_tooltip = monarchistic_direction_tt
			set_heir_flag = monarchistic_heir
			change_statists_vs_orangists = 0.15
		}
		clr_country_flag = in_theocracy_heir_selection
	}

	option = {
		name = flavour_bosancovac.380.dd
		define_heir = {
			dynasty = "Sivadarant"
			adm = 2
			dip = 2
			mil = 2
			claim = 80
			age = 35
		}
		custom_tooltip = bosancovac_random_stats_tt
		tooltip = {
			add_country_modifier = {
				name = bosancovac_sivadarant
				duration = -1
			}
		}
		if = {
			limit = {
				has_government_attribute = theocratic_monarchy_mechanic
			}
			custom_tooltip = theocratic_direction_tt
			set_heir_flag = theocratic_heir
			change_statists_vs_orangists = -0.15
		}
		clr_country_flag = in_theocracy_heir_selection
	}

	option = {
		name = flavour_bosancovac.380.e
		define_heir = {
			dynasty = "yen Zmijar"
			adm = 0
			dip = 0
			mil = 0
			claim = 75
			age = 35
		}
		custom_tooltip = bosancovac_random_stats_tt
		add_years_of_income = 0.5
		tooltip = {
			add_country_modifier = {
				name = bosancovac_zmijar
				duration = -1
			}
		}
		clr_country_flag = in_theocracy_heir_selection
	}
}

#Ruler modifier
country_event = {
	id = flavour_bosancovac.381
	title = flavour_bosancovac.380.t
	desc = flavour_bosancovac.380.d
	picture = POPE_PREACHING_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = {
		OR = {
			tag = G33
			was_tag = G33
		}
		OR = {
			has_country_flag = bosancovac_patrician_succession
			has_ruler_flag = bosancovac_patrician_ruler
		}
	}

	immediate = {
		
	}

	option = {
		name = flavour_bosancovac.380.a
		trigger_switch = {
			on_trigger = dynasty
			"Niruensresten" = { add_ruler_modifier = { name = bosancovac_niruensresten duration = -1 } }
			"Plakorifem" = { add_ruler_modifier = { name = bosancovac_plakorifem duration = -1 } }
			"Crvenrogavus" = { add_ruler_modifier = { name = bosancovac_crvenrogavus duration = -1 } }
			"Sivadarant" = { add_ruler_modifier = { name = bosancovac_sivadarant duration = -1 } }
			"yen Zmijar" = { add_ruler_modifier = { name = bosancovac_zmijar duration = -1 } }
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Opening Trade
country_event = {
	id = flavour_bosancovac.430
	title = flavour_bosancovac.430.t
	desc = flavour_bosancovac.430.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.430.a
		FROM = { add_mercantilism = 1 }
		add_mercantilism = -5
		if = {
			limit = {
				has_spy_network_from = {
					who = FROM
					value = 25
				}
			}
			add_corruption = 2
		}
	}
}

#Free Trade
country_event = {
	id = flavour_bosancovac.440
	title = flavour_bosancovac.440.t
	desc = flavour_bosancovac.440.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.440.a
		add_mercantilism = -100
	}
}

#The Grand Parade
country_event = {
	id = flavour_bosancovac.4100
	title = flavour_bosancovac.4100.t
	desc = flavour_bosancovac.4100.d
	picture = RELIGIOUS_CONVERSION_eventPicture

	is_triggered_only = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.4100.a
		custom_tooltip = bosancovac_subject_tithe_tt
		hidden_effect = {
			every_subject_country = {
				limit = { culture_group = ynnic_ruinborn_elf }
				export_to_variable = {
					which = subjectDevelopment
					value = total_development
					who = THIS
				}
				multiply_variable = {
					which = subjectDevelopment
					value = 0.1
				}
				for_variable_amount = {
					variable = subjectDevelopment
					effect = "
						add_treasury = -20
						overlord = { add_treasury = 20 }
					"
				}
			}
		}
		add_devotion = 10
		add_prestige = 50
		custom_tooltip = bosancovac_parade_tt
		hidden_effect = {
			ynn_riverside = {
				add_devastation = -15
				add_prosperity = 50
				add_base_tax = 1
			}
		}
		add_country_modifier = {
			name = bosancovac_united_ynn
			duration = -1
		}
	}
}

#Launch Expedition
country_event = {
	id = flavour_bosancovac.550
	title = flavour_bosancovac.550.t
	desc = flavour_bosancovac.550.d
	picture = east_slavic_EXPLORERS_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.550.a
		hidden_effect = {
			country_event = { id = flavour_bosancovac.551 days = 150 random = 150 }
			country_event = { id = flavour_bosancovac.554 days = 90 random = 30 }
		}
	}
}

#Wendigo Attack
country_event = {
	id = flavour_bosancovac.551
	title = flavour_bosancovac.551.t
	desc = flavour_bosancovac.551.d
	picture = BATTLE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.551.a
		hidden_effect = {
			country_event = { id = flavour_bosancovac.552 days = 2 }
		}
	}

	option = {
		name = flavour_bosancovac.551.b
		hidden_effect = {
			country_event = { id = flavour_bosancovac.553 days = 2 }
		}
	}
}

#Escaped
country_event = {
	id = flavour_bosancovac.552
	title = flavour_bosancovac.552.t
	desc = flavour_bosancovac.552.d
	picture = FLAGSHIP_SUNK_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.552.a
		hidden_effect = {
			set_country_flag = wendigo_escaped
		}
	}
}

#Wendigo Defeated
country_event = {
	id = flavour_bosancovac.553
	title = flavour_bosancovac.553.t
	desc = flavour_bosancovac.553.d
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.553.a
		hidden_effect = {
			set_country_flag = wendigo_killed
		}
		add_prestige = 10
	}
}

#Found Fork
country_event = {
	id = flavour_bosancovac.554
	title = flavour_bosancovac.554.t
	desc = flavour_bosancovac.554.d
	picture = SHIP_SAILING_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	immediate = {
		hidden_effect = {
			1181 = { discover_country = ROOT }
			1183 = { discover_country = ROOT }
			1750 = { discover_country = ROOT }
			1748 = { discover_country = ROOT }
		}
	}

	option = {
		name = flavour_bosancovac.554.a
		goto = 1197
		hidden_effect = {
			country_event = { id = flavour_bosancovac.556 days = 90 random = 30 }
		}
	}

	option = {
		name = flavour_bosancovac.554.b
		goto = 1184
		hidden_effect = {
			country_event = { id = flavour_bosancovac.555 days = 90 random = 30 }
		}
	}
}

#Dead End
country_event = {
	id = flavour_bosancovac.555
	title = flavour_bosancovac.555.t
	desc = flavour_bosancovac.555.d
	picture = EXPLORERS_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	immediate = {
		hidden_effect = {
			set_country_flag = found_dead_end
			1184 = { discover_country = ROOT }
			1185 = { discover_country = ROOT }
			1196 = { discover_country = ROOT }
			1198 = { discover_country = ROOT }
		}
	}

	option = {
		name = flavour_bosancovac.555.a
		goto = 1197
		trigger = { NOT = { has_country_flag = found_lake } }
		add_mil_power = -50
		hidden_effect = {
			country_event = { id = flavour_bosancovac.556 days = 365 random = 60 }
		}
	}

	option = {
		name = flavour_bosancovac.555.b
		goto = 1165
		trigger = { has_country_flag = found_lake }
		hidden_effect = {
			country_event = { id = flavour_bosancovac.557 days = 120 random = 30 }
		}
	}
}

#Found Lake
country_event = {
	id = flavour_bosancovac.556
	title = flavour_bosancovac.556.t
	desc = flavour_bosancovac.556.d
	picture = EXPLORERS_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	immediate = {
		hidden_effect = {
			set_country_flag = found_lake
			1197 = { discover_country = ROOT }
			1747 = { discover_country = ROOT }
			1742 = { discover_country = ROOT }
			1745 = { discover_country = ROOT }
			1743 = { discover_country = ROOT }
		}
	}

	option = {
		name = flavour_bosancovac.556.a
		goto = 1165
		hidden_effect = {
			country_event = { id = flavour_bosancovac.557 days = 120 random = 30 }
		}
	}

	option = {
		name = flavour_bosancovac.556.b
		goto = 1184
		trigger = { NOT = { has_country_flag = found_dead_end } }
		add_mil_power = -50
		hidden_effect = {
			country_event = { id = flavour_bosancovac.555 days = 365 random = 60 }
		}
	}
}

#Expedition Returns
country_event = {
	id = flavour_bosancovac.557
	title = flavour_bosancovac.557.t
	desc = flavour_bosancovac.557.d
	picture = POPE_PREACHING_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		
	}

	option = {
		name = flavour_bosancovac.557.a
		hidden_effect = {
			set_country_flag = bosancovac_expedition_returned
		}
		if = {
			limit = { has_country_flag = wendigo_escaped }
			add_manpower = 2.25
			6501 = {
				transport = ROOT
			}
			6501 = {
				transport = ROOT
			}
		}
		else_if = {
			limit = { has_country_flag = wendigo_killed }
			add_manpower = 0.75
			6501 = {
				transport = ROOT
			}
		}
	}
}