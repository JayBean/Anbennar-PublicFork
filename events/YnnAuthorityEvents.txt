
namespace = ynn_authority_events #By Susurrus

#good stuir balia
country_event = {
	id = ynn_authority_events.100
	title = ynn_authority_events.100.t
	desc = ynn_authority_events.100.d
	picture = 19_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
		NOT = {
			has_country_modifier = ynn_good_stuir_balia
			has_country_modifier = ynn_normal_stuir_balia
			has_country_modifier = ynn_bad_stuir_balia
		}
	}

	option = {
		name = ynn_authority_events.100.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_good_stuir_balia
			duration = 1460
		}
	}
}

#normal stuir balia
country_event = {
	id = ynn_authority_events.101
	title = ynn_authority_events.101.t
	desc = ynn_authority_events.101.d
	picture = 19_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
		NOT = {
			has_country_modifier = ynn_good_stuir_balia
			has_country_modifier = ynn_normal_stuir_balia
			has_country_modifier = ynn_bad_stuir_balia
		}
	}

	option = {
		name = ynn_authority_events.101.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_normal_stuir_balia
			duration = 1460
		}
	}
}

#bad stuir balia
country_event = {
	id = ynn_authority_events.102
	title = ynn_authority_events.102.t
	desc = ynn_authority_events.102.d
	picture = 20_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
		NOT = {
			has_country_modifier = ynn_good_stuir_balia
			has_country_modifier = ynn_normal_stuir_balia
			has_country_modifier = ynn_bad_stuir_balia
		}
	}

	option = {
		name = ynn_authority_events.102.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_bad_stuir_balia
			duration = 1460
		}
	}
}

#happy nobles gang :)
country_event = {
	id = ynn_authority_events.103
	title = ynn_authority_events.103.t 
	desc = ynn_authority_events.103.d 
	picture = KING_DOING_GREAT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		estate_loyalty = {
			estate = estate_nobles
			loyalty = 60
		}
		NOT = {
			has_ruler_flag = ynn_ruler_celebrated
		}
	}

	option = {	#pog
		name = ynn_authority_events.103.a
		ai_chance = {
			factor = 1
		}
		add_authority = 10
		set_ruler_flag = ynn_ruler_celebrated
	}
}

#angery nobles gang :(
country_event = {
	id = ynn_authority_events.104
	title = ynn_authority_events.104.t
	desc = ynn_authority_events.104.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture
	goto = ynn_angry_noble_province

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_religion_reformed = no
		is_subject = no
		has_dlc = "El Dorado"
		NOT = {
			estate_loyalty = {
				estate = estate_nobles
				loyalty = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = ynn_angry_noble_province
			}
		}
	}

	option = {	#I suppose I have no choice
		name = ynn_authority_events.104.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				ruler_has_personality = craven_personality
			}
			modifier = {
				factor = 0
				OR = {
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = strict_personality
					ruler_has_personality = malevolent_personality
				}
			}
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = ynn_nobles_appeased_desc
			influence = 10
			duration = 3650
		}
		add_authority = -5
	}

	option = {	#I will not be blackmailed
		name = ynn_authority_events.104.b
		ai_chance = {
			factor = 50
		}
		event_target:ynn_angry_noble_province = {
			spawn_rebels = {
				size = 2
				type = noble_rebels
			}
		}
	}
}

#happy merchant gang :)
country_event = {
	id = ynn_authority_events.105
	title = ynn_authority_events.105.t
	desc = ynn_authority_events.105.d
	picture = BURGHER_ESTATE_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		estate_loyalty = {
			estate = estate_burghers
			loyalty = 60
		}
		calc_true_if = {
			all_states = {
				is_prosperous = yes
				unrest = -3
			}
			amount = 2
		}
	}

	option = {	#that's very kind of you
		name = ynn_authority_events.105.a
		ai_chance = {
			factor = 1
		}
		add_years_of_income = 0.3
		add_authority = 5
	}
}

#ancaps smh
country_event = {
	id = ynn_authority_events.106
	title = ynn_authority_events.106.t
	desc = ynn_authority_events.106.d
	picture = CITY_DEVELOPMENT_eventPicture
	goto = ynn_lawless_merchant_prov

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		NOT = { 
			estate_loyalty = {
				estate = estate_burghers
				loyalty = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = ynn_lawless_merchant_prov
			}
		}
	}

	option = {	#I will not be blackmailed
		name = ynn_authority_events.106.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = strict_personality
					ruler_has_personality = malevolent_personality
				}
			}
			modifier = {
				factor = 0
				ruler_has_personality = craven_personality
				ruler_has_personality = embezzler_personality
				ruler_has_personality = industrious_personality
			}
		}
		event_target:ynn_lawless_merchant_prov = {
			spawn_rebels = {
				size = 2
				type = particularist_rebels
			}
		}
		add_authority = 5
	}

	option = {	#I suppose this is a good thing
		name = ynn_authority_events.106.b
		ai_chance = {
			factor = 50
		}
		event_target:ynn_lawless_merchant_prov = {
			add_base_production = 2
		}
		add_authority = -5
	}
}

#Abusive Baron causes revolt
country_event = {
	id = ynn_authority_events.107
	title = ynn_authority_events.107.t
	desc = ynn_authority_events.107.d
	picture = ANGRY_MOB_eventPicture
	goto = ynn_abusive_baron_prov

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		any_owned_province = {
			likely_rebels = leadered_peasant_rebels
			unrest = 1
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					likely_rebels = leadered_peasant_rebels
					unrest = 1
				}
				save_event_target_as = ynn_abusive_baron_prov
			}
		}
	}

	option = {	#The Baron is within their rights
		name = ynn_authority_events.107.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
				}
			}
		}
		event_target:ynn_abusive_baron_prov = {
			spawn_rebels = {
				type = leadered_peasant_rebels
				size = 2
			}
		}
		every_owned_province = {
			add_unrest = 10
		}
		add_authority = 5
	}

	option = {	#Leave it be, not our business
		name = ynn_authority_events.107.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = drunkard_personality	#would not care either way
					ruler_has_personality = embezzler_personality	
				}
			}
		}
		event_target:ynn_abusive_baron_prov = {
			spawn_rebels = {
				type = leadered_peasant_rebels
				size = 2
			}
		}
	}

	option = {	#the peasants are right
		name = ynn_authority_events.107.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = just_personality
					ruler_has_personality = naive_personality
					ruler_has_personality = benevolent_personality
				}
			}
		}
		every_owned_province = {
			add_unrest = -10
		}
		add_authority = -5
	}
}

#Bandit emulates Rhovynuc
country_event = {
	id = ynn_authority_events.108
	title = ynn_authority_events.108.t
	desc = ynn_authority_events.108.d
	picture = BORDER_TENSION_eventPicture
	goto = ynn_rhovynuc_prov

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		has_estate = estate_nobles
	}

	immediate = {
		hidden_effect = {
			if = {	#Sherwood forest innit
				limit = {
					any_owned_province = {
						OR = {
							has_terrain = forest
							has_terrain = woods
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							has_terrain = forest
							has_terrain = woods
						}
					}
					save_event_target_as = ynn_rhovynuc_prov
				}
			}
			else = {
				random_owned_province = {
					save_event_target_as = ynn_rhovynuc_prov
				}
			}
		}
	}

	option = {	#I will have this rabble rouser hanged!
		name = ynn_authority_events.108.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
					ruler_has_personality = lawgiver_personality
				}
			}
		}
		add_years_of_income = -0.3
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		event_target:ynn_rhovynuc_prov = {
			spawn_rebels = {
				type = particularist_rebels
				size = 1
			}
		}
		add_authority = 3
	}

	option = {	#Let him continue riding through the glens
		name = ynn_authority_events.108.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = naive_personality
					ruler_has_personality = craven_personality
				}
			}
			modifier = {
				factor = 1.5
				num_of_loans = 1
			}
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = ynn_rhovynuc_at_large
			influence = -10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		event_target:ynn_rhovynuc_prov = {
			add_province_modifier = {
				name = aw_bandits_1
				duration = -1
			}
		}
		add_authority = -3
		hidden_effect = {
			random = {
				chance = 50
				country_event = {
					id = ynn_authority_events.109
					days = 365
					random = 132
				}
			}
		}
	}
}

#Rhovynuc robs a tax collector
country_event = {
	id = ynn_authority_events.109
	title = ynn_authority_events.109.t
	desc = ynn_authority_events.109.d
	picture = COSSACK_ESTATE_RAIDERS_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		has_estate = estate_nobles
	}

	option = {	#:obrtroll:
		name = ynn_authority_events.109.a
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.5
		add_authority = -3
	}
}

####	EVENTS PERTAINING IOSAHARS	####

#Iosahar celebrate ruler
country_event = {
	id = ynn_authority_events.150
	title = ynn_authority_events.150.t
	desc = ynn_authority_events.150.d
	picture = KING_DOING_GREAT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		ynnic_iosahar = 3
		NOT = {
			any_subject_country = {
				is_subject_of_type = ynnic_iosahar
				liberty_desire = 21
			}
			has_ruler_flag = ynn_ruler_iosahar_celebrated
		}
	}

	option = {	#friends :)
		name = ynn_authority_events.150.a
		ai_chance = {
			factor = 1
		}
		add_authority = 10
		set_ruler_flag = ynn_ruler_iosahar_celebrated
	}
}

#Iosahar complains about high taxes
country_event = {
	id = ynn_authority_events.151
	title = ynn_authority_events.151.t
	desc = ynn_authority_events.151.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		any_subject_country = {
			is_subject_of_type = ynnic_iosahar
			liberty_desire = 50
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = ynnic_iosahar
					liberty_desire = 51
				}
				save_event_target_as = ynn_overtaxed_iosahar
			}
		}
	}

	option = {	#They are right, apologize and pay them some back
		name = ynn_authority_events.151.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = naive_personality
					ruler_has_personality = benevolent_personality
				}
			}
		}
		add_treasury = -50
		event_target:ynn_overtaxed_iosahar = {
			add_treasury = 50
			add_liberty_desire = -10
			add_opinion = {
				who = ROOT
				modifier = ynn_iosahar_taxes_alleviated
			}
		}
		add_authority = -3
	}

	option = {	#pay ur damn taxes I don't care
		name = ynn_authority_events.151.b 
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
					ruler_has_personality = greedy_personality
				}
			}
		}
		event_target:ynn_overtaxed_iosahar = {
			add_liberty_desire = 10
			add_opinion = {
				who = ROOT
				modifier = ynn_iosahar_taxes_unalleviated
			}
		}
		add_authority = 3
	}
}

#iosahar offers levies
country_event = {
	id = ynn_authority_events.152
	title = ynn_authority_events.152.t
	desc = ynn_authority_events.152.d
	picture = DISCIPLINED_SOLDIERS_eventPicture
	goto = ynn_levy_iosahar

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		any_subject_country = {
			is_subject_of_type = ynnic_iosahar
			NOT = {
				liberty_desire = 50
			}
		}
		is_at_war = yes
		NOT = {
			manpower_percentage = 75
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = {
						liberty_desire = 50
					}
				}
				save_event_target_as = ynn_levy_iosahar
			}
		}
	}

	option = {	#thank you for the bois I will not use them as arrow fodder haha
		name = ynn_authority_events.152.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = conqueror_personality
					ruler_has_personality = great_conqueror_personality
					ruler_has_personality = mythical_conqueror_personality
				}
			}
		}
		add_manpower = 5
		event_target:ynn_levy_iosahar = {
			add_manpower = -5
		}
		add_authority = -3
	}

	option = {	#we can win without the help
		name = ynn_authority_events.152.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				manpower_percentage = 50
			}
			modifier = {
				factor = 2
				manpower_percentage = 65
			}
			modifier = {
				factor = 2
				ruler_has_personality = bold_fighter_personality
			}
		}
		add_authority = 2
	}
}

#iOSAHAR PROTESTS WAR 
country_event = {
	id = ynn_authority_events.153
	title = ynn_authority_events.153.t
	desc = ynn_authority_events.153.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes
	
	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		any_subject_country = {
			is_subject_of_type = ynnic_iosahar
			OR = {
				is_in_war = {
					attacker_leader = ROOT
				}
				is_in_war = {
					defender_leader = ROOT
				}
			}
			war_exhaustion = 4
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = ynnic_iosahar
					OR = {
						is_in_war = {
							attacker_leader = ROOT
						}
						is_in_war = {
							defender_leader = ROOT
						}
					}
					war_exhaustion = 4
				}
				save_event_target_as = ynn_whiny_iosahar
			}
		}
	}

	option = {	#whiners, should I call you a WAAAAAmbulance?
		name = ynn_authority_events.153.a 
		ai_chance = {
			factor = 1
		}
		add_authority = -3
	}
}

#Host jousting tournament
country_event = {
	id = ynn_authority_events.154
	title = ynn_authority_events.154.t
	desc = ynn_authority_events.154.desc
	picture = NOBLE_ESTATE_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
		NOT = {
			has_country_flag = ynn_canoe_host
			has_country_flag = ynn_joust_host
			has_country_modifier = ynn_hosted_tournament
			has_country_modifier = ynn_hosted_bad_tournament
			any_subject_country = {
				OR = {
					has_opinion_modifier = {
						modifier = ynn_canoe_race_good
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_canoe_race_bad
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_canoe_brawl
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_jousting_tournament_bad
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_jousting_tournament_good
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_joust_brawl
						who = ROOT
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.154.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = {
					num_of_loans = 0
				}
			}
			modifier = {
				factor = 2
				treasury = 100
			}
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = martial_educator_personality
					ruler_has_personality = tactical_genius_personality
				}
			}
		}
		add_treasury = -100
		hidden_effect = {
			random_list = {
				50 = {
					country_event = {
						id = ynn_authority_events.155
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.156
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.157
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.158
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_joust_host
		}
	}

	option = {
		name = ynn_authority_events.154.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				NOT = {
					num_of_loans = 0
				}
			}
			modifier = {
				factor = 2
				treasury = 75
			}
		}
		add_treasury = -75
		hidden_effect = {
			random_list = {
				25 = {
					country_event = {
						id = ynn_authority_events.155
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.156
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.157
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.158
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_joust_host
		}
	}

	option = {
		name = ynn_authority_events.154.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				NOT = {
					num_of_loans = 1
				}
			}
			modifier = {
				factor = 2
				NOT = {
					treasury = 50
				}
			}
		}
		add_treasury = -50
		hidden_effect = {
			random_list = {
				15 = {
					country_event = {
						id = ynn_authority_events.155
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.156
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.157
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.158
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_joust_host
		}
	}

	option = {
		name = ynn_authority_events.154.d
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = {
					num_of_loans = 5
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					treasury = 25
				}
			}
		}
		add_treasury = -25
		hidden_effect = {
			random_list = {
				10 = {
					country_event = {
						id = ynn_authority_events.155
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.156
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.157
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.158
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_joust_host
		}
	}

	option = {
		name = ynn_authority_events.154.e
		add_prestige = -5
	}
}

#Amazing jousting tournament
country_event = {
	id = ynn_authority_events.155
	title = ynn_authority_events.155.t
	desc = ynn_authority_events.155.d
	picture = TOURNAMENT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.155.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_jousting_tournament_good
			}
		}
		add_prestige = 10
		add_authority = 3
		clr_country_flag = ynn_joust_host
	}
}

#Ok jousting tournament
country_event = {
	id = ynn_authority_events.156
	title = ynn_authority_events.156.t
	desc = ynn_authority_events.156.d
	picture = TOURNAMENT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.156.a
		add_prestige = 5
		add_authority = 1
		clr_country_flag = ynn_joust_host
	}
}

#Competitors start fighting
country_event = {
	id = ynn_authority_events.157
	title = ynn_authority_events.157.t
	desc = ynn_authority_events.157.d
	picture = SOLDIER_INFIGHTING_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_flag = ynn_joust_host
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				save_event_target_as = iosahar_rowdy_1
			}
			random_subject_country = {
				limit = {
					NOT = {
						tag = event_target:iosahar_rowdy_1
					}
				}
				save_event_target_as = iosahar_rowdy_2
			}
		}
	}

	option = {
		name = ynn_authority_events.157.a
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_joust_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_joust_brawl
			}
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_1
			modifier = ynn_joust_brawl
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_2
			modifier = ynn_joust_brawl
		}
		add_authority = -3
		clr_country_flag = ynn_joust_host
	}

	option = {
		trigger = {
			OR = {
				ruler_has_personality = cruel_personality
				ruler_has_personality = malevolent_personality
			}
		}
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_joust_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_joust_brawl
			}
		}
		add_authority = 2
		clr_country_flag = ynn_joust_host
	}
}

#Atrocious jousting tournament
country_event = {
	id = ynn_authority_events.158
	title = ynn_authority_events.158.t
	desc = ynn_authority_events.158.d
	picture = TOURNAMENT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.158.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_jousting_tournament_bad
			}
		}
		add_prestige = -10
		add_authority = -5
		clr_country_flag = ynn_joust_host
	}
}

#All Iosahar band together and demand lowered taxes
country_event = {
	id = ynn_authority_events.159
	title = ynn_authority_events.159.t
	desc = ynn_authority_events.159.d
	picture = NOBLE_ESTATE_TAKE_OVER_eventPicture

	is_triggered_only = yes

	trigger = {
		has_dlc = "El Dorado"
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		religion = ynn_river_worship
		is_religion_reformed = no
		ynnic_iosahar = 2
		any_subject_country = {
			is_subject_of_type = ynnic_iosahar
			is_in_war = {
				attacker_leader = ROOT
				duration = 1825
			}
		}
		NOT = {
			has_country_modifier = ynn_lowered_subject_taxes
		}
	}

	option = {	#we will lower the taxes
		name = ynn_authority_events.159.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = craven_personality
					ruler_has_personality = benevolent_personality
					ruler_has_personality = naive_personality
				}
			}
		}
		add_country_modifier = {
			name = ynn_lowered_subject_taxes
			duration = 3650
		}
		add_authority = -5
	}

	option = {	#HOW DARE YOU!!?!?!?!?!?
		name = ynn_authority_events.159.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = conqueror_personality
					ruler_has_personality = great_conqueror_personality
					ruler_has_personality = mythical_conqueror_personality
				}
			}
		}
		every_subject_country = {
			add_liberty_desire = 10
		}
		add_authority = 3
	}
}

#Ruler negotiates subservience
country_event = {
	id = ynn_authority_events.160
	title = ynn_authority_events.160.t
	desc = ynn_authority_events.160.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = charismatic_negotiator_personality
			ruler_has_personality = silver_tongue_personality
			ruler_has_personality = intricate_web_weaver_personality
			ruler_has_personality = fierce_negotiator_personality
		}
	}

	immediate = {
		hidden_effect = {
			random_list = {
				1 = {
					set_country_flag = iosahar_subservient
					random_subject_country = {
						save_event_target_as = subservient_iosahar
					}
				}
				1 = {
					set_country_flag = iosahar_subservience
				}
			}
		}
	}

	option = {	#Your loyalty is appreciated
		trigger = {
			has_country_flag = iosahar_subservient
		}
		name = ynn_authority_events.160.a
		ai_chance = {
			factor = 1
		}
		event_target:subservient_iosahar = {
			add_liberty_desire = -15
		}
		add_authority = 5
		clr_country_flag = iosahar_subservient
	}

	option = {	#All your loyalties are appreciated
		trigger = {
			has_country_flag = iosahar_subservience
		}
		name = ynn_authority_events.160.b
		ai_chance = {
			factor = 1
		}
		every_subject_country = {
			add_liberty_desire = -5
		}
		add_authority = 2
		clr_country_flag = iosahar_subservience
	}
}

#Ruler offends Iosahar
country_event = {
	id = ynn_authority_events.161
	title = ynn_authority_events.161.t
	desc = ynn_authority_events.161.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = babbling_buffoon_personality
			ruler_has_personality = drunkard_personality
			ruler_has_personality = malevolent_personality
			ruler_has_personality = cruel_personality
		}
	}

	immediate = {
		random_subject_country = {
			save_event_target_as = iosahar_insulted
		}
	}

	option = {	#I'm Sorry
		name = ynn_authority_events.161.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				ruler_has_personality = naive_personality
			}
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 5
		}
		add_authority = -2
	}

	option = {	#lmao go fuck yourself
		name = ynn_authority_events.161.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = cruel_personality
					ruler_has_personality = malevolent_personality
					ruler_has_personality = bold_fighter_personality
				}
			}
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 10
		}
		every_subject_country = {
			limit = {
				NOT = {
					tag = event_target:iosahar_insulted
				}
			}
			add_liberty_desire = 5
		}
		add_authority = 2
	}
}

#Host canoe race
country_event = {
	id = ynn_authority_events.162
	title = ynn_authority_events.162.t
	desc = ynn_authority_events.162.desc
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
		NOT = {
			has_country_flag = ynn_canoe_host
			has_country_flag = ynn_joust_host
			has_country_modifier = ynn_hosted_tournament
			has_country_modifier = ynn_hosted_bad_tournament
			any_subject_country = {
				OR = {
					has_opinion_modifier = {
						modifier = ynn_canoe_race_good
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_canoe_race_bad
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_canoe_brawl
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_jousting_tournament_bad
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_jousting_tournament_good
						who = ROOT
					}
					has_opinion_modifier = {
						modifier = ynn_joust_brawl
						who = ROOT
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = {
					num_of_loans = 0
				}
			}
			modifier = {
				factor = 2
				treasury = 100
			}
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = martial_educator_personality
					ruler_has_personality = tactical_genius_personality
				}
			}
		}
		add_treasury = -100
		hidden_effect = {
			random_list = {
				50 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_canoe_host
		}
	}

	option = {
		name = ynn_authority_events.162.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				NOT = {
					num_of_loans = 0
				}
			}
			modifier = {
				factor = 2
				treasury = 75
			}
		}
		add_treasury = -75
		hidden_effect = {
			random_list = {
				25 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_canoe_host
		}
	}

	option = {
		name = ynn_authority_events.162.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				NOT = {
					num_of_loans = 1
				}
			}
			modifier = {
				factor = 2
				NOT = {
					treasury = 50
				}
			}
		}
		add_treasury = -50
		hidden_effect = {
			random_list = {
				15 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_canoe_host
		}
	}

	option = {
		name = ynn_authority_events.162.d
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = {
					num_of_loans = 5
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					treasury = 25
				}
			}
		}
		add_treasury = -25
		hidden_effect = {
			random_list = {
				10 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
			set_country_flag = ynn_canoe_host
		}
	}

	option = {
		name = ynn_authority_events.162.e
		add_prestige = -5
	}
}

#Amazing canoe race
country_event = {
	id = ynn_authority_events.163
	title = ynn_authority_events.163.t
	desc = ynn_authority_events.163.d
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.163.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_canoe_race_good
			}
		}
		add_prestige = 10
		add_authority = 3
		add_country_modifier = {
			name = ynn_hosted_tournament
			duration = 3650
		}
		clr_country_flag = ynn_canoe_host
	}
}

#Ok canoe race
country_event = {
	id = ynn_authority_events.164
	title = ynn_authority_events.164.t
	desc = ynn_authority_events.164.d
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.164.a
		add_prestige = 5
		add_authority = 1
		add_country_modifier = {
			name = ynn_hosted_tournament
			duration = 3650
		}
		clr_country_flag = ynn_canoe_host
	}
}

#Competitors start fighting
country_event = {
	id = ynn_authority_events.165
	title = ynn_authority_events.165.t
	desc = ynn_authority_events.165.d
	picture = SOLDIER_INFIGHTING_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_flag = ynn_canoe_host
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				save_event_target_as = iosahar_rowdy_1
			}
			random_subject_country = {
				limit = {
					NOT = {
						tag = event_target:iosahar_rowdy_1
					}
				}
				save_event_target_as = iosahar_rowdy_2
			}
		}
	}

	option = {
		name = ynn_authority_events.165.a
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_canoe_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_canoe_brawl
			}
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_1
			modifier = ynn_canoe_brawl
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_2
			modifier = ynn_canoe_brawl
		}
		add_authority = -3
		add_country_modifier = {
			name = ynn_hosted_bad_tournament
			duration = 3650
		}
		clr_country_flag = ynn_canoe_host
	}

	option = {
		trigger = {
			OR = {
				ruler_has_personality = cruel_personality
				ruler_has_personality = malevolent_personality
			}
		}
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_canoe_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_canoe_brawl
			}
		}
		add_authority = 2
		add_country_modifier = {
			name = ynn_hosted_bad_tournament
			duration = 3650
		}
		clr_country_flag = ynn_canoe_host
	}
}

#Atrocious canoe race
country_event = {
	id = ynn_authority_events.166
	title = ynn_authority_events.166.t
	desc = ynn_authority_events.166.d
	picture = FLAGSHIP_SUNK_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.166.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_canoe_race_bad
			}
		}
		add_prestige = -10
		add_authority = -5
		add_country_modifier = {
			name = ynn_hosted_bad_tournament
			duration = 3650
		}
		clr_country_flag = ynn_canoe_host
	}
}

#Dam Pilgrimage
country_event = {
	id = ynn_authority_events.225
	title = ynn_authority_events.225.t
	desc = ynn_authority_events.225.d
	picture = PILGRIMAGE_eventPicture
	goto = ynn_pilgrim_start_prov

	is_triggered_only = yes

	trigger = {
		has_dlc = "El Dorado"
		religion = ynn_river_worship
		is_religion_reformed = no
		is_subject = no 
		ynn_dams = {
			NOT = {
				owned_by = ROOT
				owner = {
					is_subject_of_type_with_overlord = {
						who = ROOT
						type = ynnic_iosahar
					}
				}
			}
		}
		NOT = {
			has_country_flag = ynn_dam_pilgrimage
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					religion = ynn_river_worship
				}
				save_event_target_as = ynn_pilgrim_start_prov
			}
			random_province = {
				limit = {
					province_group = ynn_dams
					NOT = {
						owned_by = ROOT
						owner = {
							is_subject_of_type_with_overlord = {
								who = ROOT
								type = ynnic_iosahar
							}
						}
					}
				}
				save_event_target_as = ynn_pilgrim_target
			}
			if = {
				limit = {
					1133 = {
						has_saved_event_target = ynn_pilgrim_target
					}
				}
				if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = adbrabohvi_dam_near
						}
					}
					set_country_flag = ynn_pilgrimage_distance_1
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = adbrabohvi_dam_far
						}
					}
					set_country_flag = ynn_pilgrimage_distance_2
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							NOT = {
								province_group = adbrabohvi_dam_far
								province_group = adbrabohvi_dam_near
							}
						}
					}
					set_country_flag = ynn_pilgrimage_distance_3
				}
			}
			else_if = {
				limit = {
					1138 = {
						has_saved_event_target = ynn_pilgrim_target
					}
				}
				if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = vels_bacar_dam_near
						}
					}
					set_country_flag = ynn_pilgrimage_distance_1
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = vels_bacar_dam_far
						}
					}
					set_country_flag = ynn_pilgrimage_distance_2
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							NOT = {
								province_group = vels_bacar_dam_far
								province_group = vels_bacar_dam_near
							}
						}
					}
					set_country_flag = ynn_pilgrimage_distance_3
				}
			}
			else_if = {
				limit = {
					1165 = {
						has_saved_event_target = ynn_pilgrim_target
					}
				}
				if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = bosancovac_dam_near
						}
					}
					set_country_flag = ynn_pilgrimage_distance_1
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = bosancovac_dam_far
						}
					}
					set_country_flag = ynn_pilgrimage_distance_2
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							NOT = {
								province_group = bosancovac_dam_far
								province_group = bosancovac_dam_near
							}
						}
					}
					set_country_flag = ynn_pilgrimage_distance_3
				}
			}
			else_if = {
				limit = {
					1186 = {
						has_saved_event_target = ynn_pilgrim_target
					}
				}
				if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = mocbarja_dam_near
						}
					}
					set_country_flag = ynn_pilgrimage_distance_1
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							province_group = mocbarja_dam_far
						}
					}
					set_country_flag = ynn_pilgrimage_distance_2
				}
				else_if = {
					limit = {
						event_target:ynn_pilgrim_start_prov = {
							NOT = {
								province_group = mocbarja_dam_far
								province_group = mocbarja_dam_near
							}
						}
					}
					set_country_flag = ynn_pilgrimage_distance_3
				}
			}
		}
	}

	option = {	#good luck 
		name = ynn_authority_events.225.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = greedy_personality
					ruler_has_personality = sinner_personality
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
					ruler_has_personality = naive_personality
				}
			}
		}
		goto = ynn_pilgrim_target
		hidden_effect = {
			random_list = {
				50 = {
					if = {
						limit = {
							has_country_flag = ynn_pilgrimage_distance_1
						}
						country_event = {
							id = ynn_authority_events.226
							days = 10
							random = 10
						}
					}
					else_if = {
						limit = {
							has_country_flag = ynn_pilgrimage_distance_2
						}
						country_event = {
							id = ynn_authority_events.226
							days = 15
							random = 15
						}
					}
					else_if = {
						limit = {
							has_country_flag = ynn_pilgrimage_distance_3
						}
						country_event = {
							id = ynn_authority_events.226
							days = 20
							random = 20
						}
					}
				}
				50 = {
					set_country_flag = ynn_dam_pilgrimage
				}
			}
		}
	}

	option = {	#have an escort
		name = ynn_authority_events.225.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = zealot_personality
					ruler_has_personality = benevolent_personality
					ruler_has_personality = kind_hearted_personality
				}
			}
		}
		goto = ynn_pilgrim_target
		add_treasury = -25
		set_country_flag = ynn_dam_pilgrimage
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = ynn_dam_pilgrimage
				}
				if = {
					limit = {
						has_country_flag = ynn_pilgrimage_distance_1
					}
					event_target:ynn_pilgrim_target = {
						province_event = {
							id = ynn_authority_events.227
							days = 10
							random = 10
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = ynn_pilgrimage_distance_2
					}
					event_target:ynn_pilgrim_target = {
						province_event = {
							id = ynn_authority_events.227
							days = 15
							random = 15
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = ynn_pilgrimage_distance_3
					}
					event_target:ynn_pilgrim_target = {
						province_event = {
							id = ynn_authority_events.227
							days = 20
							random = 20
						}
					}
				}
			}
		}
	}
}

#Pilgrims go missing, maybe they die?  or maybe THERE IS AN IMPPOSTOR AMONG US!!!! SUS!! AMOGUS!!
country_event = {
	id = ynn_authority_events.226
	title = ynn_authority_events.226.t
	desc = ynn_authority_events.226.d
	picture = DARK_FOREST_eventPicture
	goto = ynn_pilgrim_start_prov

	is_triggered_only = yes

	trigger = {
		always = yes
	}

	option = {	#SUS AMOGUS
		name = ynn_authority_events.226.a
		ai_chance = {
			factor = 1
		}
		add_authority = -2
		add_manpower = -1
		random_list = {
			1 = {
				event_target:ynn_pilgrim_start_prov = {
					add_province_modifier = {
						name = aw_wendigo_2
						duration = -1
					}
				}
			}
			1 = {
				event_target:ynn_pilgrim_start_prov = {
					add_province_modifier = {
						name = aw_bandits_2
						duration = -1
					}
				}
			}
			1 = {
			}
		}
	}
}

#Pilgrims arrive at Dam
province_event = {
	id = ynn_authority_events.227
	title = ynn_authority_events.227.t
	desc = ynn_authority_events.227.d
	picture = JERUSALEM_eventPicture
	goto = ynn_pilgrim_target

	is_triggered_only = yes

	trigger = {
		always = yes
	}

	option = {	#let them in
		name = ynn_authority_events.227.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				owner = {
					OR = {
						ruler_has_personality = benevolent_personality
						ruler_has_personality = kind_hearted_personality
						ruler_has_personality = greedy_personality
					}
				}
			}
			modifier = {
				factor = 2
				owner = {
					OR = {
						religion = ynn_river_worship
						religion = ynn_river_reformed
					}
					ruler_has_personality = zealot_personality
				}
			}
		}
		owner = {
			add_authority = 1
			add_trust = {
				who = FROM
				value = 5
				mutual = yes
			}
			FROM = {
				add_opinion = {
					who = PREV
					modifier = ynn_accepted_pilgrims
				}
			}
			add_country_modifier = {
				name = ynn_welcoming_pilgrims
				duration = 3650
			}
		}
		add_province_modifier = {
			name = ynn_pilgrimage_target
			duration = 3650
		}
		FROM = {
			if = {
				limit = {
					has_country_flag = ynn_pilgrimage_distance_1
				}
				country_event = {
					id = ynn_authority_events.228
					days = 10
					random = 10
				}
			}
			else_if = {
				limit = {
					has_country_flag = ynn_pilgrimage_distance_2
				}
				country_event = {
					id = ynn_authority_events.228
					days = 15
					random = 15
				}
			}
		}
	}

	option = {	#go away you silly peasants
		name = ynn_authority_events.227.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				owner = {
					OR = {
						ruler_has_personality = sinner_personality
						ruler_has_personality = cruel_personality
						ruler_has_personality = malevolent_personality
					}
				}
			}
			modifier = {
				factor = 2
				owner = {
					NOT = {
						religion = ynn_river_reformed
						religion = ynn_river_worship
					}
					ruler_has_personality = zealot_personality
				}
			}
		}
		owner = {
			add_trust = {
				who = FROM
				value = -5
				mutual = yes
			}
			FROM = {
				add_opinion = {
					who = PREV
					modifier = ynn_rejected_pilgrims
				}
			}
			add_country_modifier = {
				name = ynn_sus_pilgrims
				duration = 3650
			}
			if = {
				limit = {
					has_country_modifier = ynn_welcoming_pilgrims
				}
				remove_country_modifier = ynn_welcoming_pilgrims
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_modifier = ynn_pilgrimage_target
					}
				}
				every_owned_province = {
					limit = {
						has_province_modifier = ynn_pilgrimage_target
					}
					remove_province_modifier = ynn_pilgrimage_target
				}
			}
		}
		FROM = {
			if = {
				limit = {
					has_country_flag = ynn_pilgrimage_distance_1
				}
				country_event = {
					id = ynn_authority_events.229
					days = 10
					random = 10
				}
			}
			else_if = {
				limit = {
					has_country_flag = ynn_pilgrimage_distance_2
				}
				country_event = {
					id = ynn_authority_events.229
					days = 15
					random = 15
				}
			}
		}
	}
}

#happy pilgrims come back
country_event = {
	id = ynn_authority_events.228
	title = ynn_authority_events.228.t
	desc = ynn_authority_events.228.d
	picture = PILGRIMAGE_eventPicture

	is_triggered_only = yes

	trigger = {
		has_country_flag = ynn_dam_pilgrimage
	}

	option = {	#welcome home :)
		name = ynn_authority_events.228.a
		ai_chance = {
			factor = 1
		}
		add_authority = 3
		tooltip = {
			FROM = {
				owner = {
					ROOT = {
						add_opinion = {
							who = PREV
							modifier = ynn_accepted_pilgrims
						}
					}
				}
			}
		}
		clr_country_flag = ynn_dam_pilgrimage
	}
}

#pilgrims turned away
country_event = {
	id = ynn_authority_events.229
	title = ynn_authority_events.229.t
	desc = ynn_authority_events.229.d
	picture = REFUGEES_ESCAPING_eventPicture
	goto = ynn_pilgrim_target

	is_triggered_only = yes

	trigger = {
		has_country_flag = ynn_dam_pilgrimage
	}

	immediate = {
		hidden_effect = {
			FROM = {
				owner = {
					save_event_target_as = ynn_lord_rejecting_pilgrims
				}
			}
		}
	}

	option = {	#it's only a building
		name = ynn_authority_events.229.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = naive_personality
					ruler_has_personality = benevolent_personality
					ruler_has_personality = craven_personality
					ruler_has_personality = sinner_personality
				}
			}
		}
		add_authority = -3
		tooltip = {
			FROM = {
				owner = {
					ROOT = {
						add_opinion = {
							who = PREV
							modifier = ynn_rejected_pilgrims
						}
					}
				}
			}
		}
		clr_country_flag = ynn_dam_pilgrimage
	}

	option = {	#HOW DARE THEY
		name = ynn_authority_events.229.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = bold_fighter_personality
					ruler_has_personality = zealot_personality
					ruler_has_personality = just_personality
				}
			}
		}
		add_casus_belli = {
			type = cb_insult
			target = event_target:ynn_lord_rejecting_pilgrims
			months = 12
		}
		add_opinion = {
			who = event_target:ynn_lord_rejecting_pilgrims
			modifier = insulted
		}
		add_authority = -1
		tooltip = {
			FROM = {
				owner = {
					ROOT = {
						add_opinion = {
							who = PREV
							modifier = ynn_rejected_pilgrims
						}
					}
				}
			}
		}
	}
}


	##### Republic Events #####

#A respected mayor
country_event = {
	id = ynn_authority_events.300
	title = ynn_authority_events.300.t
	desc = ynn_authority_events.300.d
	picture = NOBLE_ESTATE_eventPicture

	is_triggered_only = yes

	trigger = {
		culture_group = ynnic_ruinborn_elf
		government = republic
		ynnic_iosahar = 1
		months_of_ruling = 49
	}

	option = {	#reelect them
		name = ynn_authority_events.300.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				ruler_has_personality = craven_personality
				ruler_has_personality = malevolent_personality
				ruler_has_personality = great_conqueror_personality
				ruler_has_personality = mythical_conqueror_personality
			}
		}
		add_scaled_republican_tradition = -5
		add_authority = 3
		set_country_flag = ynn_forced_reelection
		custom_tooltip = ynn_forced_reelection_tt
		hidden_effect = {
			country_event = {
				id = 700
				days = 1
			}
		}
	}

	option = {	#this is against our republic's values
		name = ynn_authority_events.300.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				ruler_has_personality = righteous_personality
				ruler_has_personality = lawgiver_personality
				ruler_has_personality = reformist_personality
			}
		}
		add_scaled_republican_tradition = 3
		add_authority = -2
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = 5
		}
	}
}

#swearing anew	
country_event = {
	id = ynn_authority_events.301
	title = ynn_authority_events.301.t
	desc = ynn_authority_events.301.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	trigger = {
		culture_group = ynnic_ruinborn_elf
		government = republic
		ynnic_iosahar = 1
		NOT = {
			has_reform = brelar_ynnic_dynastic_republic
			religion = ynn_river_reformed
		}
	}

	option = {	#cope and seethe
		name = ynn_authority_events.301.a
		ai_chance = {
			factor = 1
		}
		add_scaled_republican_tradition = 3
		add_authority = 2
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = 5
		}
	}

	option = {	#I apologise for being a billy random but this is how it works
		name = ynn_authority_events.301.b
		ai_chance = {
			factor = 1
		}
		add_prestige = -10
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				liberty_desire = 50
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = 5
		}
	}

	option = {	#Lol, lmao, even
		name = ynn_authority_events.301.c
		ai_chance = {
			factor = 1
		}
		add_authority = -10
		add_stability = -1
		add_scaled_republican_tradition = 5
	}
}

#questioned by clergy
country_event = {
	id = ynn_authority_events.302
	title = ynn_authority_events.302.t
	desc = ynn_authority_events.302.d
	picture = CHURCH_ESTATE_UPSET_eventPicture

	is_triggered_only = yes

	trigger = {
		culture_group = ynnic_ruinborn_elf
		government = republic
		ynnic_iosahar = 1
		religion = ynn_river_worship
		has_estate = estate_church
		NOT = {
			has_reform = brelar_ynnic_dynastic_republic
			religion = ynn_river_reformed
		}
	}

	option = {	#your claims are but claims, republics are not heresy
		name = ynn_authority_events.302.a
		ai_chance = {
			factor = 1
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_prestige = -5
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				religion = ROOT
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = 5
		}
	}

	option = {	#I disagree with your findings, here are opposing sources
		trigger = {
			OR = {
				dip = 5
				ruler_has_personality = scholar_personality
				ruler_has_personality = reformist_personality
				ruler_has_personality = lawgiver_personality
				ruler_has_personality = fierce_negotiator_personality
			}
		}
		name = ynn_authority_events.302.b
		highlight = yes
		ai_chance = {
			factor = 1
		}
		add_authority = 4
		add_scaled_republican_tradition = 3
	}
}

#Grumbling Nobility
country_event = {
	id = ynn_authority_events.303
	title = ynn_authority_events.303.t
	desc = ynn_authority_events.303.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	trigger = {
		culture_group = ynnic_ruinborn_elf
		government = republic
		any_subject_country = {
			government = monarchy
			is_subject_of_type = ynnic_iosahar
		}
		NOT = {
			has_reform = brelar_ynnic_dynastic_republic
			religion = ynn_river_reformed
		}
	}

	option = {	#this is hurting the republic's foundations we need to crank it down
		name = ynn_authority_events.303.a
		ai_chance = {
			factor = 1
		}
		add_scaled_republican_tradition = -5
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				government = monarchy
			}
			add_liberty_desire = 5
		}
	}

	option = {	#take only moderate action, we don't want to upset people
		name = ynn_authority_events.303.b
		ai_chance = {
			factor = 1
		}
		add_scaled_republican_tradition = -10
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				government = monarchy
				liberty_desire = 50
			}
			add_liberty_desire = 5
		}
	}
}

#too long in office
country_event = {
	id = ynn_authority_events.304
	title = ynn_authority_events.304.t
	desc = ynn_authority_events.304.d
	picture = COURT_eventPicture

	is_triggered_only = yes

	trigger = {
		culture_group = ynnic_ruinborn_elf
		government = republic
		ynnic_iosahar = 1
		months_of_ruling = 120
		NOT = {
			has_reform = brelar_ynnic_dynastic_republic
			religion = ynn_river_reformed
		}
	}

	option = {	#it may be wise to let them think it can happen
		name = ynn_authority_events.304.a
		ai_chance = {
			factor = 1
		}
		add_scaled_republican_tradition = -5
		add_authority = 3
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = -10
		}
	}

	option = {	#Get rid of them, now!
		name = ynn_authority_events.304.b
		ai_chance = {
			factor = 1
		}
		set_country_flag = ynn_mayor_no_death
		kill_ruler = yes	#due to how ynn republics are set up this shouldn't fire the barges
		add_authority = -10
		add_scaled_republican_tradition = 10
		every_subject_country = {
			limit = {
				is_subject_of_type = ynnic_iosahar
				NOT = {
					government = republic
				}
			}
			add_liberty_desire = 5
		}
	}

	after = {
		clr_country_flag = ynn_mayor_no_death
	}
}