

namespace = flavour_covenblad

#Dynasty Naming
country_event = {
	id = flavour_covenblad.1
	title = dynasty_setup.1.t
	desc = dynasty_setup.1.d
	picture = {
		trigger = {
			NOT = { has_dlc = "Rights of Man" }
		}
		picture = COURT_eventPicture
	}
	picture = {
		trigger = {
			has_dlc = "Rights of Man"
		}
		picture = ROYAL_COUPLE_FUTURE_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = Z37
	}
	
	#New Dynasty Name after country
	option = {		
		name = "flavour_covenblad.1.a"
		ai_chance = { factor = 30 }	
		define_heir = {
			dynasty = "síl Covenblad"
			age = 16
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			hide_skills = yes
		}
	}
	
	#Maybe another option
	option = {		
		name = "flavour_covenblad.1.b"
		ai_chance = { factor = 65 }
		define_heir = {
			dynasty = "síl Aldre"
			age = 16
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			hide_skills = yes
		}
	}
	
	#Keep their name
	option = {
		name = "flavour_covenblad.1.c"
		ai_chance = { factor = 5 }
		define_heir = {
			dynasty = ROOT
			age = 16
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			hide_skills = yes
		}
	}
}
#Heroes of the Greentide
country_event = {
	id = flavour_covenblad.2
	title = flavour_covenblad.2.t
	desc = flavour_covenblad.2.d
	picture = TOURNAMENT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.2.a"
		hidden_effect = {
			set_country_flag = Z37_arbiters
		}
		add_government_reform = covenblad_covenant_arbiters
		add_country_modifier = { 
			name = covenblad_descent_virtuous
			duration = -1  
		}
		custom_tooltip = covenblad_start_descent_tt
		add_country_modifier = { 
			name = covenblad_errant_knights_escann
			duration = 9125
		}
		custom_tooltip = covenblad_apathy_danger_tt
		ROOT = {
			country_event = { 
				id = flavour_covenblad.80
			}
		}
		ROOT = {
			country_event = { 
				id = flavour_covenblad.4
				days = 365
			}
		}
		hidden_effect = {
			ROOT = {
				country_event = { 
					id = flavour_covenblad.3
					days = 9125
				}
			}
			set_variable =  { which = CovenbladDescent value = 0 }
		}
	}
}

#Apathy is Death
country_event = {
	id = flavour_covenblad.3
	title = flavour_covenblad.3.t
	desc = flavour_covenblad.3.d
	picture = STREET_SPEECH_eventPicture
	
	trigger = {
		NOT = { mission_completed = covenblad__reclaiming_an_old_seat }
	}
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.3.a"
		add_country_modifier = { 
			name = covenblad_apathetic_people
			duration = 9125
		}
		custom_tooltip = covenblad_small_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 1
			}
			update_descent_value = yes
		}
	}
}


#The Prodigal Knight
country_event = {
	id = flavour_covenblad.4
	title = flavour_covenblad.4.t
	desc = flavour_covenblad.4.d
	picture = LIBERUM_VETO_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.4.a"
		define_ruler = {
			name = "Laurens"
			dynasty = "sil Place"
			adm = 2
			dip = 5
			mil = 4
			age = 60
			claim = 40
		}
		add_ruler_personality = mage_personality
		add_ruler_personality = cruel_personality
		set_ruler_flag = enchantment_1
		set_ruler_flag = enchantment_2
		set_ruler_flag = enchantment_3
		set_ruler_flag = initialized_magic_flags
		custom_tooltip = covenblad_large_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 5
			}
			update_descent_value = yes
		}
	}
	option = {		
		name = "flavour_covenblad.4.b"
		define_consort = {
			name = "Laurens"
			dynasty = "sil Place"
			adm = 2
			dip = 5
			mil = 4
			age = 60
		}
		add_queen_personality =  mage_personality
		add_queen_personality = cruel_personality
		custom_tooltip = covenblad_medium_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 3
			}
			update_descent_value = yes
		}
	}
	option = {		
		name = "flavour_covenblad.4.c"
		add_adm_power = 50
		custom_tooltip = covenblad_small_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 1
			}
			update_descent_value = yes
		}
	}
}

#White Walls Shadow
country_event = {
	id = flavour_covenblad.10
	title = flavour_covenblad.10.t
	desc = flavour_covenblad.10.d
	picture = FORT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.10.a"
		add_country_modifier = { 
			name = covenblad_white_walls_reward_global
			duration = 9125
		}
		add_prestige = 10
		castonath_area = {
			add_province_modifier = {
				name = covenblad_white_walls_reward
				duration = 9125
			}
		}
		upper_nath_area = {
			add_province_modifier = {
				name = covenblad_white_walls_reward
				duration = 9125
			}
		}
		southgate_area = {
			add_province_modifier = {
				name = covenblad_white_walls_reward
				duration = 9125
			}
		}
	}
	option = {		
		name = "flavour_covenblad.10.b"
		custom_tooltip = covenblad_medium_descent_tt
		castonath_area = {
			add_province_modifier = {
				name = covenblad_white_walls_bane
				duration = 9125
			}
		}
		upper_nath_area = {
			add_province_modifier = {
				name = covenblad_white_walls_bane
				duration = 9125
			}
		}
		southgate_area = {
			add_province_modifier = {
				name = covenblad_white_walls_bane
				duration = 9125
			}
		}
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 3
			}
			update_descent_value = yes
		}
	}
}

#Origin of Ruin
country_event = {
	id = flavour_covenblad.11
	title = flavour_covenblad.11.t
	desc = flavour_covenblad.11.d
	picture = WOUNDED_SOLDIERS_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.11.a"
		trialmount_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_reward
				duration = 9125
			}
			add_base_production = 1
		}
		steelhyl_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_reward
				duration = 9125
			}
			add_base_production = 1
		}
		serpentsmarck_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_reward
				duration = 9125
			}
			add_base_production = 1
		}
	}
	option = {		
		name = "flavour_covenblad.11.b"
		custom_tooltip = covenblad_medium_descent_tt
		trialmount_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_bane
				duration = 9125
			}
		}
		steelhyl_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_bane
				duration = 9125
			}
		}
		serpentsmarck_area = {
			add_province_modifier = {
				name = covenblad_origin_ruin_bane
				duration = 9125
			}
		}
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 3
			}
			update_descent_value = yes
		}
	}
}

#Pride of the Bumpkins
country_event = {
	id = flavour_covenblad.20
	title = flavour_covenblad.20.t
	desc = flavour_covenblad.20.d
	picture = WOUNDED_SOLDIERS_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.20.a"
		add_country_modifier = { 
			name = covenblad_pride_bumpkins_reward_global
			duration = 9125
		}
		add_prestige = 10
		cannwood_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_reward
				duration = 9125
			}
		}
		balmire_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_reward
				duration = 9125
			}
		}
		falsemire_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_reward
				duration = 9125
			}
		}
	}
	option = {		
		name = "flavour_covenblad.20.b"
		custom_tooltip = covenblad_medium_descent_tt
		cannwood_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_bane
				duration = 9125
			}
		}
		balmire_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_bane
				duration = 9125
			}
		}
		falsemire_area = {
			add_province_modifier = {
				name = covenblad_pride_bumpkins_bane
				duration = 9125
			}
		}
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 3
			}
			update_descent_value = yes
		}
	}
}

#Under the Stone's Shade
country_event = {
	id = flavour_covenblad.21
	title = flavour_covenblad.21.t
	desc = flavour_covenblad.21.d
	picture = FORT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.21.a"
		ardent_glade_area = {
			add_province_modifier = {
				name = covenblad_stones_shade_reward
				duration = 9125
			}
			add_base_manpower = 1
		}
		oldhaven_area = {
			add_province_modifier = {
				name = covenblad_stones_shade_reward
				duration = 9125
			}
			add_base_manpower = 1
		}
	}
	option = {		
		name = "flavour_covenblad.21.b"
		custom_tooltip = covenblad_medium_descent_tt
		ardent_glade_area = {
			add_province_modifier = {
				name = covenblad_stones_shade_bane
				duration = 9125
			}
		}
		oldhaven_area = {
			add_province_modifier = {
				name = covenblad_stones_shade_bane
				duration = 9125
			}
		}
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 3
			}
			update_descent_value = yes
		}
	}
}

#Judging of Character
country_event = {
	id = flavour_covenblad.30
	title = flavour_covenblad.30.t
	desc = flavour_covenblad.30.d
	picture = MILITARY_CAMP_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.30.a"
		add_country_modifier = { 
			name = covenblad_character_judged_elite
			duration = -1
		}
	}
	option = {		
		name = "flavour_covenblad.30.b"
		add_country_modifier = { 
			name = covenblad_character_judged_volunteer
			duration = -1
		}
	}
}

#Return
country_event = {
	id = flavour_covenblad.31
	title = flavour_covenblad.31.t
	desc = flavour_covenblad.31.d
	picture = REFORM_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.31.a"
		whistlevale_area = {
			change_culture = covenbladic
			add_base_manpower = -1
			add_base_production = -1
		}
		cursewood_area = {
			add_base_manpower = -1
			add_base_production = -1
			change_culture = covenbladic
		}
		if = {
			limit = {
				accepted_culture = newfoot_halfling
			}
			remove_accepted_culture = newfoot_halfling
		}
		if = {
			limit = {
				accepted_culture = redfoot_halfling
			}
			remove_accepted_culture = redfoot_halfling
		}
		if = {
			limit = {
				accepted_culture = green_orc
			}
			remove_accepted_culture = green_orc
		}
		custom_tooltip = covenblad_large_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 5
			}
			update_descent_value = yes
		}
	}
	option = {		
		name = "flavour_covenblad.31.b"
		whistlevale_area = {
			add_local_autonomy = 25
			add_culture_construction = {
				speed = 1
				cost = 0
			}
		}
		cursewood_area = {
			add_local_autonomy = 25
			add_culture_construction = {
				speed = 1
				cost = 0
			}
		}
	}
}

#Covenbladic Diranbe
country_event = {
	id = flavour_covenblad.32
	title = flavour_covenblad.32.t
	desc = flavour_covenblad.32.d
	picture = ST_PETERS_CHURCH_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.32.a"
		custom_tooltip = covenblad_medium_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 2
			}
			update_descent_value = yes
		}
	}
	option = {		
		name = "flavour_covenblad.32.b"
		custom_tooltip = covenblad_small_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 1
			}
			update_descent_value = yes
		}
	}
}

#Elven Odyssey
country_event = {
	id = flavour_covenblad.40
	title = flavour_covenblad.40.t
	desc = flavour_covenblad.40.d
	picture = CITY_VIEW_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.40.a"
		add_country_modifier = { 
			name = covenblad_found_artifact
			duration = 5475
		}
		ROOT = {
			country_event = { 
				id = flavour_covenblad.41
				days = 365
			}
		}
	}
	option = {		
		name = "flavour_covenblad.40.b"
		add_treasury = 100
		ROOT = {
			country_event = { 
				id = flavour_covenblad.41
				days = 365
			}
		}
	}
}

country_event = {
	id = flavour_covenblad.41
	title = flavour_covenblad.41.t
	desc = flavour_covenblad.41.d
	picture = BIG_BOOK_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.41.a"
		add_country_modifier = { 
			name = covenblad_weathered_diary
			duration = 3650
		}
		ROOT = {
			country_event = { 
				id = flavour_covenblad.42
				days = 365
			}
		}
	}
}

country_event = {
	id = flavour_covenblad.42
	title = flavour_covenblad.42.t
	desc = flavour_covenblad.42.d
	picture = CITY_VIEW_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.42.a"
		medium_increase_of_half_elven_tolerance_effect = yes
		medium_increase_of_elven_tolerance_effect = yes
		set_country_flag = elven_expedition_finished
	}
}

#Halessi Bizzare Adventures
country_event = {
	id = flavour_covenblad.43
	title = flavour_covenblad.43.t
	desc = flavour_covenblad.43.d
	picture = FLAGSHIP_CAPTURED_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.43.a"
		add_prestige = -20
		add_country_modifier = { 
			name = covenblad_influences_halann
			duration = 3650
		}
		ROOT = {
			country_event = { 
				id = flavour_covenblad.44
				days = 1095
			}
		}
	}
	option = {		
		name = "flavour_covenblad.43.b"
		add_prestige = 10
		add_legitimacy = 10
		add_adm_power = 40
		add_dip_power = 40
		add_mil_power = 40
		ROOT = {
			country_event = { 
				id = flavour_covenblad.44
				days = 1095
			}
		}
	}
}

country_event = {
	id = flavour_covenblad.44
	title = flavour_covenblad.44.t
	desc = flavour_covenblad.44.d
	picture = CORRUPTION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.44.a"
		add_dip_power = -30
		if = {
			limit = {
				has_country_modifier = covenblad_influences_halann
			}
			extend_country_modifier = { name = covenblad_influences_halann duration = 3650 }
		}
		else = {
			add_country_modifier = { name = covenblad_influences_halann duration = 3650 }
		}
		ROOT = {
			country_event = { 
				id = flavour_covenblad.45
				days = 730
			}
		}
	}
	option = {		
		name = "flavour_covenblad.44.b"
		add_prestige = 10
		add_legitimacy = 10
		add_adm_power = 60
		add_dip_power = 60
		add_mil_power = 60
		ROOT = {
			country_event = { 
				id = flavour_covenblad.45
				days = 730
			}
		}
	}
}

country_event = {
	id = flavour_covenblad.45
	title = flavour_covenblad.45.t
	desc = flavour_covenblad.45.d
	picture = THE_HEROINE_eventPicture
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.45.a"
		if = {
			limit = {
				has_country_modifier = covenblad_influences_halann
			}
			extend_country_modifier = { name = covenblad_influences_halann duration = 3650 }
		}
		else = {
			add_country_modifier = { name = covenblad_influences_halann duration = 3650 }
		}
		set_country_flag = eastern_expedition_finished
	}
}

#Status of the Covenant
country_event = {
	id = flavour_covenblad.46
	title = flavour_covenblad.46.t
	desc = flavour_covenblad.46.d
	picture = SPELL_LIST_eventPicture
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.46.a"
		if = {
			limit = {
				OR = {
					has_country_modifier = covenblad_descent_virtuous
					has_country_modifier = covenblad_descent_just
				}
			}
			ROOT = {
				add_country_modifier = { 
					name = covenblad_shining_paragons
					duration = -1  
				}
			}
		}
		else_if = {
			limit = {
				has_country_modifier = covenblad_descent_neutral
			}
			ROOT = {
				add_country_modifier = { 
					name = covenblad_grey_wardens
					duration = -1  
				}
			}
		}
		else = {
			ROOT = {
				add_country_modifier = { 
					name = covenblad_shadowed_renegades
					duration = -1  
				}
			}
		}
	}
}

#The End of Promise
country_event = {
	id = flavour_covenblad.50
	title = flavour_covenblad.50.t
	desc = flavour_covenblad.50.d
	picture = DEATH_OF_HEIR_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.50.a"
	}
}
#A Triumphant Roar
country_event = {
	id = flavour_covenblad.51
	title = flavour_covenblad.51.t
	desc = flavour_covenblad.51.d
	picture = BORDER_TENSION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.51.a"
		ROOT = {
			clr_country_flag = active_tree
			remove_estate_privilege = estate_nobility_covenblad_black_tree
		}
		873 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
			}
		}
		872 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
		874 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
	}
}

#Roots Strangle the Drake
country_event = {
	id = flavour_covenblad.52
	title = flavour_covenblad.52.t
	desc = flavour_covenblad.52.d
	picture = KING_SICK_IN_BED_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.52.a"
		custom_tooltip = covenblad_large_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 5
			}
			update_descent_value = yes
		}
		ROOT = {
			clr_country_flag = active_dragon
			remove_estate_privilege = estate_nobility_covenblad_young_dragon
		}
		229 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
			}
		}
		230 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
		232 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
	}
}

#A Force Unleashed
country_event = {
	id = flavour_covenblad.53
	title = flavour_covenblad.53.t
	desc = flavour_covenblad.53.d
	picture = WESTERNISATION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.53.a"
		ROOT = {
			clr_country_flag = active_reliquary
			remove_estate_privilege = estate_nobility_covenblad_silver_reliquary
		}
		829 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
			}
		}
		830 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
		828 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
	}
}

#Archival Difficulties
country_event = {
	id = flavour_covenblad.54
	title = flavour_covenblad.54.t
	desc = flavour_covenblad.54.d
	picture = HOUSE_OF_TRADE_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.54.a"
		custom_tooltip = covenblad_large_descent_tt
		hidden_effect = {
			change_variable = {
				which = CovenbladDescent
				value = 5
			}
			update_descent_value = yes
		}
		ROOT = {
			clr_country_flag = active_chain
			remove_estate_privilege = estate_nobility_covenblad_broken_chain
		}
		860 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
			}
		}
		859 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
		861 = {
			spawn_rebels = {
				type = noble_rebels
				size = 2
			}
		}
	}
}

#Capstone - The Sinews of Magic
country_event = {
	id = flavour_covenblad.60
	title = flavour_covenblad.60.t
	
	desc = {
		trigger = { has_country_modifier = covenblad_descent_virtuous }
		desc = flavour_covenblad.60.virtuous
	}
	picture = {
		trigger = { has_country_modifier = covenblad_descent_virtuous }
		picture = COURT_eventPicture
	}
	desc = {
		trigger = { has_country_modifier = covenblad_descent_just }
		desc = flavour_covenblad.60.just
	}
	picture = {
		trigger = { has_country_modifier = covenblad_descent_just }
		picture = GOOD_WITH_MONARCH_eventPicture
	}
	desc = {
		trigger = { has_country_modifier = covenblad_descent_neutral }
		desc = flavour_covenblad.60.neutral
	}
	picture = {
		trigger = { has_country_modifier = covenblad_descent_neutral }
		picture = ACCUSATION_eventPicture
	}
	desc = {
		trigger = { has_country_modifier = covenblad_descent_corrupted }
		desc = flavour_covenblad.60.corrupted
	}
	picture = {
		trigger = { has_country_modifier = covenblad_descent_corrupted }
		picture = BAD_WITH_MONARCH_eventPicture
	}
	desc = {
		trigger = { has_country_modifier = covenblad_descent_tyrannical }
		desc = flavour_covenblad.60.tyrannical
	}
	picture = {
		trigger = { has_country_modifier = covenblad_descent_tyrannical }
		picture = ASSASSINATION_eventPicture
	}
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.60.a"
		add_splendor = 400
	}
}

#Just to Good
country_event = {
	id = flavour_covenblad.70
	title = flavour_covenblad.70.t
	desc = flavour_covenblad.70.d
	picture = COURT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.70.a"
		ROOT = {
			remove_country_modifier = covenblad_descent_virtuous
			add_country_modifier = { 
				name = covenblad_descent_just
				duration = -1  
			}
		}
	}
}
#Good to Neutral
country_event = {
	id = flavour_covenblad.71
	title = flavour_covenblad.71.t
	desc = flavour_covenblad.71.d
	picture = COURT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.71.a"
		ROOT = {
			remove_country_modifier = covenblad_descent_just
			add_country_modifier = { 
				name = covenblad_descent_neutral
				duration = -1  
			}
		}
	}
}
#Neutral to Bad
country_event = {
	id = flavour_covenblad.72
	title = flavour_covenblad.72.t
	desc = flavour_covenblad.72.d
	picture = COURT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.72.a"
		ROOT = {
			remove_country_modifier = covenblad_descent_neutral
			add_country_modifier = { 
				name = covenblad_descent_corrupted
				duration = -1  
			}
		}
	}
}
#Bad to Evil
country_event = {
	id = flavour_covenblad.73
	title = flavour_covenblad.73.t
	desc = flavour_covenblad.73.d
	picture = COURT_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {		
		name = "flavour_covenblad.73.a"
		ROOT = {
			remove_country_modifier = covenblad_descent_corrupted
			add_country_modifier = { 
				name = covenblad_descent_tyrannical
				duration = -1  
			}
		}
	}
}


#Consort Palatine Arbiter
country_event = {
	id = flavour_covenblad.80
	title = flavour_covenblad.80.t
	desc = flavour_covenblad.80.d
	picture = COURT_eventPicture
	
	trigger = {
		has_reform = covenblad_covenant_arbiters
	}
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			remove_country_modifier = covenblad_sword_arbiter 
			remove_country_modifier = covenblad_tree_arbiter 
			remove_country_modifier = covenblad_dragon_arbiter 
			remove_country_modifier = covenblad_chain_arbiter 
			remove_country_modifier = covenblad_reliquary_arbiter 
			
			kill_leader = {
				type = "Palatine-Arbiter of the Young Dragon"
			}
			kill_leader = {
				type = "Palatine-Arbiter of the Black Tree"
			}
			kill_leader = {
				type = "Palatine-Arbiter of the Broken Chain"
			}
			kill_leader = {
				type = "Palatine-Arbiter of the Silver Reliquary"
			}
			kill_leader = {
				type = "Palatine-Arbiter of the Burning Sword"
			}
		}
	}
	
	option = {		
		name = "flavour_covenblad.80.a"
		ai_chance = {
			factor = 20
		}
		ROOT = {
			define_consort = {
				dynasty = "of the Burning Sword"
				culture = ROOT
			}
			set_consort_mage_effect = yes
			add_country_modifier = { 
					name = covenblad_sword_arbiter
					duration = -1  
			}
			hidden_effect = {
				if = {
					limit = {
						army_tradition = 0.00
						NOT = { army_tradition = 20 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
					else = {
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							female = yes #check if female or not
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 20
						NOT = { army_tradition = 40 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
					else = {
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 40
						NOT = { army_tradition = 60 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
								fire = 2
								shock = 8
								manuever = 1
								siege = 4
								trait = war_wizard_personality
								name = "Palatine-Arbiter of the Burning Sword"
							}
					}
					else = {
						define_general = {
							fire = 2
							shock = 8
							manuever = 1
							siege = 4
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 60
						NOT = { army_tradition = 80 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
							fire = 2
							shock = 9
							manuever = 2
							siege = 5
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
					else = {
						define_general = {
						fire = 2
						shock = 9
						manuever = 2
						siege = 5
						trait = war_wizard_personality
						female = yes
						name = "Palatine-Arbiter of the Burning Sword"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 80
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
					else = {
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Burning Sword"
						}
					}
				}
			}
			custom_tooltip = covenblad_arbiter_event_tooltip_tt
		}
	}
	option = {		
		name = "flavour_covenblad.80.b"
		ai_chance = {
			factor = 20
		}
		ROOT = {
			define_consort = {
				dynasty = "of the Black Tree"
				culture = ROOT
			}
			set_consort_mage_effect = yes
			add_country_modifier = { 
					name = covenblad_tree_arbiter
					duration = -1  
			}
			hidden_effect = {
				if = {
					limit = {
						army_tradition = 0.00
						NOT = { army_tradition = 20 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
					else = {
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							female = yes #check if female or not
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 20
						NOT = { army_tradition = 40 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
					else = {
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 40
						NOT = { army_tradition = 60 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
								fire = 2
								shock = 8
								manuever = 1
								siege = 4
								trait = war_wizard_personality
								name = "Palatine-Arbiter of the Black Tree"
							}
					}
					else = {
						define_general = {
							fire = 2
							shock = 8
							manuever = 1
							siege = 4
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 60
						NOT = { army_tradition = 80 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
							fire = 2
							shock = 9
							manuever = 2
							siege = 5
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
					else = {
						define_general = {
						fire = 2
						shock = 9
						manuever = 2
						siege = 5
						trait = war_wizard_personality
						female = yes
						name = "Palatine-Arbiter of the Black Tree"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 80
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
					else = {
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Black Tree"
						}
					}
				}
			}
			custom_tooltip = covenblad_arbiter_event_tooltip_tt
		}
	}
	option = {		
		name = "flavour_covenblad.80.c"
		ai_chance = {
			factor = 20
		}
		ROOT = {
			define_consort = {
				dynasty = "of the Young Dragon"
				culture = ROOT
			}
			set_consort_mage_effect = yes
			add_country_modifier = { 
					name = covenblad_dragon_arbiter
					duration = -1  
			}
			hidden_effect = {
				if = {
					limit = {
						army_tradition = 0.00
						NOT = { army_tradition = 20 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
					else = {
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							female = yes #check if female or not
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 20
						NOT = { army_tradition = 40 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
					else = {
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 40
						NOT = { army_tradition = 60 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
								fire = 2
								shock = 8
								manuever = 1
								siege = 4
								trait = war_wizard_personality
								name = "Palatine-Arbiter of the Young Dragon"
							}
					}
					else = {
						define_general = {
							fire = 2
							shock = 8
							manuever = 1
							siege = 4
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 60
						NOT = { army_tradition = 80 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
							fire = 2
							shock = 9
							manuever = 2
							siege = 5
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
					else = {
						define_general = {
						fire = 2
						shock = 9
						manuever = 2
						siege = 5
						trait = war_wizard_personality
						female = yes
						name = "Palatine-Arbiter of the Young Dragon"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 80
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
					else = {
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Young Dragon"
						}
					}
				}
			}
			custom_tooltip = covenblad_arbiter_event_tooltip_tt
		}
	}
	option = {		
		name = "flavour_covenblad.80.e"
		ai_chance = {
			factor = 20
		}
		ROOT = {
			define_consort = {
				dynasty = "of the Broken Chain"
				culture = ROOT
			}
			set_consort_mage_effect = yes
			add_country_modifier = { 
					name = covenblad_chain_arbiter
					duration = -1  
			}
			hidden_effect = {
				if = {
					limit = {
						army_tradition = 0.00
						NOT = { army_tradition = 20 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
					else = {
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							female = yes #check if female or not
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 20
						NOT = { army_tradition = 40 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
					else = {
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 40
						NOT = { army_tradition = 60 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
								fire = 2
								shock = 8
								manuever = 1
								siege = 4
								trait = war_wizard_personality
								name = "Palatine-Arbiter of the Broken Chain"
							}
					}
					else = {
						define_general = {
							fire = 2
							shock = 8
							manuever = 1
							siege = 4
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 60
						NOT = { army_tradition = 80 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
							fire = 2
							shock = 9
							manuever = 2
							siege = 5
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
					else = {
						define_general = {
						fire = 2
						shock = 9
						manuever = 2
						siege = 5
						trait = war_wizard_personality
						female = yes
						name = "Palatine-Arbiter of the Broken Chain"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 80
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
					else = {
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Broken Chain"
						}
					}
				}
			}
			custom_tooltip = covenblad_arbiter_event_tooltip_tt
		}
	}
	option = {		
		name = "flavour_covenblad.80.f"
		ai_chance = {
			factor = 20
		}
		ROOT = {
			define_consort = {
				dynasty = "of the Silver Reliquary"
				culture = ROOT
			}
			set_consort_mage_effect = yes
			add_country_modifier = { 
					name = covenblad_reliquary_arbiter
					duration = -1  
			}
			hidden_effect = {
				if = {
					limit = {
						army_tradition = 0.00
						NOT = { army_tradition = 20 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
					else = {
						define_general = {
							fire = 1
							shock = 7
							manuever = 0
							siege = 2
							trait = war_wizard_personality
							female = yes #check if female or not
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 20
						NOT = { army_tradition = 40 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
					else = {
						define_general = {
							fire = 2
							shock = 7
							manuever = 1
							siege = 3
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 40
						NOT = { army_tradition = 60 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
								fire = 2
								shock = 8
								manuever = 1
								siege = 4
								trait = war_wizard_personality
								name = "Palatine-Arbiter of the Silver Reliquary"
							}
					}
					else = {
						define_general = {
							fire = 2
							shock = 8
							manuever = 1
							siege = 4
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 60
						NOT = { army_tradition = 80 }
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
							define_general = {
							fire = 2
							shock = 9
							manuever = 2
							siege = 5
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
					else = {
						define_general = {
						fire = 2
						shock = 9
						manuever = 2
						siege = 5
						trait = war_wizard_personality
						female = yes
						name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
				}
				if = {
					limit = {
						army_tradition = 80
					}
					if = {
						limit = { NOT = { has_female_consort = yes } }
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
					else = {
						define_general = {
							fire = 3
							shock = 10
							manuever = 3
							siege = 6
							trait = war_wizard_personality
							female = yes
							name = "Palatine-Arbiter of the Silver Reliquary"
						}
					}
				}
			}
			custom_tooltip = covenblad_arbiter_event_tooltip_tt
		}
	}
}
	
#Kill the consort if the general dies
country_event = {
	id = flavour_covenblad.100
	title = flavour_covenblad.100.t
	desc = flavour_covenblad.100.d
	picture = COURT_eventPicture
	
	hidden = yes

	trigger = {
		has_reform = covenblad_covenant_arbiters
		NOT = {
			has_leader_with = { # can't check if generals have trait
				shock = 7
				general = yes
			}
		}
		has_consort = yes
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		kill_consort = yes
	}
	
	option = {		
		name = "flavour_covenblad.100.a"
		ai_chance = {
			factor = 1
		}
	}
}