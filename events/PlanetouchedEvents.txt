namespace = planetouched

# Turning ruler into planetouched commander.
country_event = {
	id = planetouched.100
	title = planetouched.100.t
	desc = planetouched.100.d
	picture = BIG_BOOK_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { mil = 6 }
			define_ruler_to_general = {
				fire = 5
				shock = 7
				manuever = 8
				siege = 3
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { mil = 5 }
			define_ruler_to_general = {
				fire = 4
				shock = 6
				manuever = 7
				siege = 3
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { mil = 4 }
			define_ruler_to_general = {
				fire = 3
				shock = 6
				manuever = 5
				siege = 2
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { mil = 3 }
			define_ruler_to_general = {
				fire = 2
				shock = 5
				manuever = 4
				siege = 2
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { mil = 2 }
			define_ruler_to_general = {
				fire = 2
				shock = 4
				manuever = 4
				siege = 1
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { mil = 1 }
			define_ruler_to_general = {
				fire = 1
				shock = 3
				manuever = 3
				siege = 1
				trait = planetouched_commander_personality
			}
		}
		else = {
			define_ruler_to_general = {
				fire = 1
				shock = 2
				manuever = 3
				siege = 0
				trait = planetouched_commander_personality
			}
		}
	}
}

# Young Heir turns to be planetouched
country_event = {
	id = planetouched.101
	title = planetouched.101.t
    desc = planetouched.101.d
    picture = DIPLOMACY_eventPicture

	trigger = {
		heir_can_be_planetouched_monarchy = yes
	}

	mean_time_to_happen = {
		#years = 100
		years = 75 #once we have more stuff interacting with these modifiers we'll go back to 100

		modifier = {
			factor = 0.5
			planetouched_high_affinity = yes
		}
		modifier = {
			factor = 0.75
			planetouched_medium_affinity = yes
		}
		modifier = {
			factor = 1.25
			planetouched_low_affinity = yes
		}
	}

	option = {
		name = planetouched.101.a
		ai_chance = { factor = 100 }

		set_heir_random_planetouched_effect = yes
	}
}

# Theocracy, heir is planetouched
country_event = {
	id = planetouched.102
	title = planetouched.102.t
    desc = planetouched.102.d
    picture = DIPLOMACY_eventPicture

    is_triggered_only = yes

	trigger = {
		heir_can_be_planetouched_theocracy = yes
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = planetouched.102.a
		ai_chance = { factor = 100 }

        set_heir_random_planetouched_effect = yes
	}
}

# Planetouched commander
country_event = {
	id = planetouched.103
	title = planetouched.103.t
    desc = planetouched.103.d
    picture = DIPLOMACY_eventPicture

	trigger = {
		capital_scope = { continent = africa }
	}

	mean_time_to_happen = {
		#years = 75
		years = 50 #once we have more stuff interacting with these modifiers we'll go back to 75

		modifier = {
			factor = 0.5
			planetouched_high_affinity = yes
		}
		modifier = {
			factor = 0.75
			planetouched_medium_affinity = yes
		}
		modifier = {
			factor = 1.25
			planetouched_low_affinity = yes
		}
	}

	option = {
		name = planetouched.103.a
		ai_chance = { factor = 100 }

        #create_planetouched_general_effect = yes
		if = {
			limit = { army_tradition = 80 }
			define_general = {
				fire = 5
				shock = 5
				manuever = 5
				siege = 3
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { army_tradition = 60 }
			define_general = {
				fire = 4
				shock = 5
				manuever = 5
				siege = 2
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { army_tradition = 40 }
			define_general = {
				fire = 3
				shock = 5
				manuever = 4
				siege = 1
				trait = planetouched_commander_personality
			}
		}
		else_if = {
			limit = { army_tradition = 20 }
			define_general = {
				fire = 3
				shock = 4
				manuever = 3
				siege = 1
				trait = planetouched_commander_personality
			}
		}
		else = {
			define_general = {
				fire = 2
				shock = 3
				manuever = 3
				siege = 1
				trait = planetouched_commander_personality
			}
		}
	}
}
