########################################
# Events for Effelai Worshippers
#
# written by RiverDoge
########################################

namespace = effelai_worship

#Event handeler
country_event = {
	id = effelai_worship.1
	title = effelai_worship.1.t
	desc = effelai_worship.1.d
	picture = ARTWORK_eventPicture

	trigger = {
		
	}
	
	hidden = yes

	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				2199 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_brain_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.10
			}
		}
		else_if = {
			limit = {
				2232 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_maw_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.11
			}
		}
		else_if = {
			limit = {
				2240 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_claw_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.12
			}
		}
		else_if = {
			limit = {
				2302 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_desacration_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.13
			}
		}
		else_if = {
			limit = {
				2355 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_spine_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.14
			}
		}
		else_if = {
			limit = {
				2371 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_tumor_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.15
			}
		}
		else_if = {
			limit = {
				2377 = {
					owned_by = ROOT
					ROOT = {
						NOT = {
							has_country_flag = effelai_worship_heart_visited
						}
					}
				}
			}
			change_variable = {
				which = effelai_holy_sites_visited
				value = 1
			}
			country_event = {
				id = effelai_worship.16
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = effelai_holy_sites_visited
					value = 7
				}
			}
			set_country_flag = effelai_worship_all_holy_sites_visited
			country_event = {
				id = effelai_worship.200
			}
		}
	}
	
	option = {
		name = effelai_worship.1.a
		ai_chance = {
			factor = 100
		}
	}
}
#Effelai Worship Startup Event
country_event = {
	id = effelai_worship.2
	title = effelai_worship.2.t
	desc = effelai_worship.2.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
		NOT = {
			is_year = 1445 
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.2.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_worship_tribal_adventurers
			duration = -1
		}
		create_conquistador = {
			tradition = 50
		}
	}
}
#Event Manager For General Events
country_event = {
	id = effelai_worship.3
	title = effelai_worship.3.t
	desc = effelai_worship.3.d
	picture = ARTWORK_eventPicture
	
	hidden = yes
	
	is_triggered_only = yes
	
	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_settling_time
		}
		NOT = {
			num_of_cities = 2
		}
	}
	
	immediate = {
		random_owned_province = {
			trigger_switch = {
				on_trigger = region
				
				leechdens_region = {
					ROOT = {
						random_list = {
							70 = {
								change_variable = {
									which = effelai_no_events
									value = 1
								}
								modifier = {
									factor = 1
									is_variable_equal = {
										which = effelai_no_events
										value = 0
									}
								}
								modifier = {
									factor = 0.8
									is_variable_equal = {
										which = effelai_no_events
										value = 1
									}
								}
								modifier = {
									factor = 0.5
									is_variable_equal = {
										which = effelai_no_events
										value = 2
									}
								}
								modifier = {
									factor = 0.25
									is_variable_equal = {
										which = effelai_no_events
										value = 3
									}
								}
								modifier = {
									factor = 0.1
									check_variable = {
										which = effelai_no_events
										value = 4
									}
								}
							}
							15 = {
								country_event = {
									id = effelai_worship.53
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
								modifier = {
									factor = 0
									has_country_modifier = effelai_worhip_recent_leechmen_attack
								}
								modifier = {
									factor = 0.4
									has_country_modifier = effelai_worship_revenge_on_leechmen
								}
							}
							15 = {
								country_event = {
									id = effelai_worship.54
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
								modifier = {
									factor = 0.2
									has_country_modifier = effelai_worship_revenge_on_leechmen
								}
							}
						}
					}
				}
				soruin_region = {
					ROOT = {
						random_list = {
							60 = {
								change_variable = {
									which = effelai_no_events
									value = 1
								}
								modifier = {
									factor = 1
									is_variable_equal = {
										which = effelai_no_events
										value = 0
									}
								}
								modifier = {
									factor = 0.8
									is_variable_equal = {
										which = effelai_no_events
										value = 1
									}
								}
								modifier = {
									factor = 0.5
									is_variable_equal = {
										which = effelai_no_events
										value = 2
									}
								}
								modifier = {
									factor = 0.25
									is_variable_equal = {
										which = effelai_no_events
										value = 3
									}
								}
								modifier = {
									factor = 0.1
									check_variable = {
										which = effelai_no_events
										value = 4
									}
								}
							}
							40 = {
								country_event = {
									id = effelai_worship.50
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
								set_country_flag = effelai_worship_ancient_relics
								modifier = {
									factor = 0
									has_country_flag = effelai_worship_ancient_relics
								}
							}
						}
					}
				}
				dry_coast_region = {
					ROOT = {
						random_list = {
							85 = {
								change_variable = {
									which = effelai_no_events
									value = 1
								}
								modifier = {
									factor = 1
									is_variable_equal = {
										which = effelai_no_events
										value = 0
									}
								}
								modifier = {
									factor = 0.6
									is_variable_equal = {
										which = effelai_no_events
										value = 1
									}
								}
								modifier = {
									factor = 0.4
									is_variable_equal = {
										which = effelai_no_events
										value = 2
									}
								}
								modifier = {
									factor = 0.2
									is_variable_equal = {
										which = effelai_no_events
										value = 3
									}
								}
								modifier = {
									factor = 0.1
									check_variable = {
										which = effelai_no_events
										value = 4
									}
								}
							}
							15 = {
								country_event = {
									id = effelai_worship.56
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
							}
						}
					}
				}
				west_effelai_region = {
					ROOT = {
						random_list = {
							80 = {
								change_variable = {
									which = effelai_no_events
									value = 1
								}
								modifier = {
									factor = 1
									is_variable_equal = {
										which = effelai_no_events
										value = 0
									}
								}
								modifier = {
									factor = 0.8
									is_variable_equal = {
										which = effelai_no_events
										value = 1
									}
								}
								modifier = {
									factor = 0.5
									is_variable_equal = {
										which = effelai_no_events
										value = 2
									}
								}
								modifier = {
									factor = 0.25
									is_variable_equal = {
										which = effelai_no_events
										value = 3
									}
								}
								modifier = {
									factor = 0.1
									check_variable = {
										which = effelai_no_events
										value = 4
									}
								}
							}
							20 = {
								country_event = {
									id = effelai_worship.57
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
								modifier = {
									factor = 0
									has_country_modifier = effelai_worship_building_supplies
								}
							}
						}
					}
				}
				mushroom_forest_region = {
					ROOT = {
						random_list = {
							60 = {
								change_variable = {
									which = effelai_no_events
									value = 1
								}
								modifier = {
									factor = 1
									is_variable_equal = {
										which = effelai_no_events
										value = 0
									}
								}
								modifier = {
									factor = 0.8
									is_variable_equal = {
										which = effelai_no_events
										value = 1
									}
								}
								modifier = {
									factor = 0.5
									is_variable_equal = {
										which = effelai_no_events
										value = 2
									}
								}
								modifier = {
									factor = 0.25
									is_variable_equal = {
										which = effelai_no_events
										value = 3
									}
								}
								modifier = {
									factor = 0.1
									check_variable = {
										which = effelai_no_events
										value = 4
									}
								}
							}
							20 = {
								country_event = {
									id = effelai_worship.60
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
								modifier = {
									factor = 0
									has_country_modifier = effelai_worship_traded_for_mushrooms
								}
							}
							20 = {
								country_event = {
									id = effelai_worship.61
									days = 1
									random = 120
								}
								set_variable = {
									which = effelai_no_events
									value = 0
								}
							}
						}
					}
				}
			}
		}
		random_list = {
			90 = {
				change_variable = {
					which = effelai_no_general_events
					value = 1
				}
				modifier = {
					factor = 1
					is_variable_equal = {
						which = effelai_no_general_events
						value = 0
					}
				}
				modifier = {
					factor = 0.9
					is_variable_equal = {
						which = effelai_no_general_events
						value = 1
					}
				}
				modifier = {
					factor = 0.8
					is_variable_equal = {
						which = effelai_no_general_events
						value = 2
					}
				}
				modifier = {
					factor = 0.7
					is_variable_equal = {
						which = effelai_no_general_events
						value = 3
					}
				}
				modifier = {
					factor = 0.6
					is_variable_equal = {
						which = effelai_no_general_events
						value = 4
					}
				}
				modifier = {
					factor = 0.5
					is_variable_equal = {
						which = effelai_no_general_events
						value = 5
					}
				}
				modifier = {
					factor = 0.4
					is_variable_equal = {
						which = effelai_no_general_events
						value = 6
					}
				}
				modifier = {
					factor = 0
					check_variable = {
						which = effelai_no_general_events
						value = 7
					}
				}
			}
			3 = {
				country_event = {
					id = effelai_worship.55
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
			3 = {
				trigger = {
					NOT = {
						OR = {
							has_country_modifier = effelai_medicinal_seeds
							has_country_modifier = effelai_ruler_medicine
						}
					}
				}
				country_event = {
					id = effelai_worship.58
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
			2 = {
				country_event = {
					id = effelai_worship.59
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
			5 = {
				country_event = {
					id = effelai_worship.62
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
			5 = {
				country_event = {
					id = effelai_worship.63
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
			5 = {
				trigger = {
					NOT = {
						has_country_modifier = effelai_worship_warnings_from_natives
					}
				}
				country_event = {
					id = effelai_worship.64
					days = 1
					random = 300
				}
				set_variable = {
					which = effelai_no_general_events
					value = 0
				}
			}
		}
	}
	
	option = {
		name = effelai_worship.3.a
		ai_chance = {
			factor = 100
		}
		
	}
}

#Effelai Worship Brain Visit Event
country_event = {
	id = effelai_worship.10
	title = effelai_worship.10.t
	desc = effelai_worship.10.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_brain_visited
		set_country_flag = at_soruin
		set_country_flag = visited_soruin
	}
	
	option = {
		name = effelai_worship.10.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_brain_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
	}
}
#Effelai Worship Maw Visit Event
country_event = {
	id = effelai_worship.11
	title = effelai_worship.11.t
	desc = effelai_worship.11.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_maw_visited
		set_country_flag = at_leechdens
		set_country_flag = visited_leechdens
	}
	
	option = {
		name = effelai_worship.11.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_maw_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
		
	}
}
#Effelai Worship Claw Visit Event
country_event = {
	id = effelai_worship.12
	title = effelai_worship.12.t
	desc = effelai_worship.12.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_claw_visited
		set_country_flag = at_east_effelai
		set_country_flag = visited_east_effelai
	}
	
	option = {
		name = effelai_worship.12.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_claw_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
		
	}
}
#Effelai Worship Desacration Visit Event
country_event = {
	id = effelai_worship.13
	title = effelai_worship.13.t
	desc = effelai_worship.13.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_desacration_visited
		set_country_flag = at_dry_coast
		set_country_flag = visited_dry_coast
	}
	
	option = {
		name = effelai_worship.13.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_desacration_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
	}
}
#Effelai Worship Spine Visit Event
country_event = {
	id = effelai_worship.14
	title = effelai_worship.14.t
	desc = effelai_worship.14.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_spine_visited
		set_country_flag = at_west_effelai
		set_country_flag = visited_west_effelai
	}
	
	option = {
		name = effelai_worship.14.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_spine_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
	}
}
#Effelai Worship Tumor Visit Event
country_event = {
	id = effelai_worship.15
	title = effelai_worship.15.t
	desc = effelai_worship.15.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_tumor_visited
		set_country_flag = at_mushroom_forest
		set_country_flag = visited_mushroom_forest
	}
	
	option = {
		name = effelai_worship.15.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_tumor_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
		
	}
}
#Effelai Worship Heart Visit Event
country_event = {
	id = effelai_worship.16
	title = effelai_worship.16.t
	desc = effelai_worship.16.d
	picture = ARTWORK_eventPicture

	trigger = {
		religion = chahinanito
		NOT = {
			has_country_flag = effelai_worship_all_holy_sites_visited
		}
	}
	

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = effelai_worship_heart_visited
		set_country_flag = at_south_effelai
		set_country_flag = visited_south_effelai
	}
	
	option = {
		name = effelai_worship.16.a
		ai_chance = {
			factor = 100
		}
		
		add_country_modifier = {
			name = effelai_heart_visited
			duration = -1
		}
		
		country_event = {
			id = effelai_worship.100
			days = 30
		}
	}
}

#Effelai Worship General Events

#Effelai Soruin general Events
#Precursor Relics Event Chain - Tribal Scouts Find Ruins
country_event = {
	id = effelai_worship.50
	title = effelai_worship.50.t
	desc = effelai_worship.50.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.50.a
		
		add_adm_power = 10
		add_dip_power = 10
		add_mil_power = 10
		
		country_event = {
			id = effelai_worship.51
			days = 60
		}
	}
	
}
#Exploring The Ruins
country_event = {
	id = effelai_worship.51
	title = effelai_worship.51.t
	desc = effelai_worship.51.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.51.a
		
		add_manpower = -1
		add_adm_power = -20
		add_dip_power = -20
		add_mil_power = -20
		
		country_event = {
			id = effelai_worship.52
			days = 30
		}
	}
	
}
#Precursor Relics Discovered - Looks Important, Can't Use Yet
country_event = {
	id = effelai_worship.52
	title = effelai_worship.52.t
	desc = effelai_worship.52.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.52.a
		
		add_treasury = 150
		
		add_country_modifier = {
			name = effelai_worship_ancient_relics
			duration = -1
		}
	}
	
}
#Effelai Leechdens General Events
#Leechmen Attack
country_event = {
	id = effelai_worship.53
	title = effelai_worship.53.t
	desc = effelai_worship.53.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.53.a
		random_owned_province = {
			spawn_rebels = {
				type = leechmen_rebels
				size = 1
			}
		}
		random_list = {
			33 = {
				add_adm_power = -50
			}
			33 = {
				add_dip_power = -50
			}
			33 = {
				add_mil_power = -50
			}
		}
		add_country_modifier = {
			name = effelai_worhip_recent_leechmen_attack
			duration = 1095
		}
	}
	
}
#Tribesmen Caught And Sacrificed
country_event = {
	id = effelai_worship.54
	title = effelai_worship.54.t
	desc = effelai_worship.54.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	#Get Revenge
	option = {
		name = effelai_worship.54.a
		add_mil_power = -100
		
		country_event = {
			id = effelai_worship.90
			days = 30
		}
	}
	#There's No Helping Them Now - Keep Moving Forward
	option = {
		name = effelai_worship.54.b
		add_yearly_manpower = -0.75
		add_adm_power = -50
		add_dip_power = -50
		add_mil_power = -50
	}
	
}
#Effelai East Effelai General Events
#Hostile Fauna Kills Troops
country_event = {
	id = effelai_worship.55
	title = effelai_worship.55.t
	desc = effelai_worship.55.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.55.a
		add_yearly_manpower = -0.25
		add_mil_power = -100
	}
	
}
#Effelai Dry Coast General Events
#Signs Of The Jungles Renewal - Burned Coast Has Some Life Returning
country_event = {
	id = effelai_worship.56
	title = effelai_worship.56.t
	desc = effelai_worship.56.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.56.a
		add_dip_power = 50
	}
	
}
#Effelai West Effelai General Events
#Boons Of The Jungle - Materials For The Tribal Caravan And When Settling
country_event = {
	id = effelai_worship.57
	title = effelai_worship.57.t
	desc = effelai_worship.57.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.57.a
		add_adm_power = -50
		add_dip_power = -50
		
		add_country_modifier = {
			name = effelai_worship_building_supplies
			duration = -1
		}
	}
	
}
#Medicine Found - Leader Lifespan stuff/prosperity growth
country_event = {
	id = effelai_worship.58
	title = effelai_worship.58.t
	desc = effelai_worship.58.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.58.a
		hidden_effect = {
			set_country_flag = effelai_medicine_found
		}
		add_country_modifier = {
			name = effelai_ruler_medicine
			duration = 36500
		}
	}
	option = {
		name = effelai_worship.58.b
		add_country_modifier = {
			name = effelai_medicinal_seeds
			duration = -1
		}
	}
	
}
#Effelai South Effelai General Events
#Song Servants Attack
country_event = {
	id = effelai_worship.59
	title = effelai_worship.59.t
	desc = effelai_worship.59.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.59.a
		random_owned_province = {
			spawn_rebels = {
				type = song_servant_ambusher_rebels
				size = 1
			}
		}
		add_adm_power = -25
		add_mil_power = -50
	}
	
}
#Effelai Mushroom Forest General Events
#Trading With Locals For Various Goods
country_event = {
	id = effelai_worship.60
	title = effelai_worship.60.t
	desc = effelai_worship.60.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.60.a
		
		add_treasury = -50
		add_dip_power = -50
		
		add_country_modifier = {
			name = effelai_worship_traded_for_mushrooms
			duration = 7300
		}
	}
	
}
#Wild Growth Of Massive Mushrooms - Decaying Corpses Covered In Flowers And Fungal Growths
country_event = {
	id = effelai_worship.61
	title = effelai_worship.61.t
	desc = effelai_worship.61.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.61.a
		
		add_prestige = 15
	}
	
}
#Events That Can Spawn Anywhere
#Encountering Other Tribes Migrating Around - Effa'i or Lai'i - Trade Or Exhange Ideas
country_event = {
	id = effelai_worship.62
	title = effelai_worship.62.t
	desc = effelai_worship.62.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.62.a
		
		add_dip_power = 50
		add_treasury = 75
	}
	
}
#Song Servant Singing - Causes Distruption
country_event = {
	id = effelai_worship.63
	title = effelai_worship.63.t
	desc = effelai_worship.63.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.63.a
		
		add_yearly_manpower = -0.25
		add_adm_power = -50
		add_mil_power = -50
	}
	
}
#Native Warns About Effelai - Crazed Orwaii Or Some Other Tribesperson
country_event = {
	id = effelai_worship.64
	title = effelai_worship.64.t
	desc = effelai_worship.64.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
		NOT = {
			num_of_cities = 2
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.64.a
		
		add_adm_power = -25
		add_dip_power = -25
		
		add_country_modifier = {
			name = effelai_worship_warnings_from_natives
			duration = 5475
		}
	}
	
}
#Leechmen Attack Part 2
country_event = {
	id = effelai_worship.90
	title = effelai_worship.90.t
	desc = effelai_worship.90.d
	picture = ARTWORK_eventPicture
	
	trigger = {
	
	}
	
	is_triggered_only = yes
	
	#Get Revenge
	option = {
		name = effelai_worship.90.a
		add_country_modifier = {
			name = effelai_worship_revenge_on_leechmen
			duration = 1095
		}
		random_owned_province = {
			spawn_rebels = {
				type = leechmen_rebels
				size = 1
			}
		}
	}
}
#Effelai Teleport Event Manager - at_x = current holy site they are visting, visited_x = where the tag has already visited, teleport_x = destination option they are provided in options, walk_x = distance is short so they dont need a teleport.
country_event = {
	id = effelai_worship.100
	title = effelai_worship.100.t
	desc = effelai_worship.100.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
	}
	
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			clr_country_flag = teleport_east_effelai
			clr_country_flag = teleport_dry_coast
			clr_country_flag = teleport_south_effelai
			clr_country_flag = teleport_west_effelai
			clr_country_flag = teleport_leechdens
			clr_country_flag = teleport_mushroom_forest
			clr_country_flag = teleport_soruin
			clr_country_flag = walk_mushroom_forest
			clr_country_flag = walk_south_effelai
			clr_country_flag = walk_west_effelai
			clr_country_flag = walk_soruin
			if = {
				limit = {
					NOT = {
						check_variable = {
							which = effelai_holy_sites_visited
							value = 7
						}
					}
				}
				trigger_switch = {
					on_trigger = has_country_flag
					
					at_leechdens = {
						if = {
							limit = {
								has_country_flag = visited_soruin
							}
							#Teleport To East Effelai
							set_country_flag = teleport_east_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_east_effelai
							}
							#Teleport To Soruin
							set_country_flag = teleport_soruin
						}
						#They Went Here First/Out Of Order
						else = {
							set_country_flag = teleport_east_effelai
							set_country_flag = teleport_soruin
						}
					}
					at_east_effelai = {
						if = {
							limit = {
								has_country_flag = visited_leechdens
							}
							#Teleport To Dry Coast
							set_country_flag = teleport_dry_coast
						}
						else_if = {
							limit = {
								has_country_flag = visited_dry_coast
							}
							#Teleport To Leechdens
							set_country_flag = teleport_leechdens
						}
						#They Went Here First/Out Of Order
						else = {
							set_country_flag = teleport_dry_coast
							set_country_flag = teleport_leechdens
						}
					}
					at_dry_coast = {
						if = {
							limit = {
								has_country_flag = visited_east_effelai
							}
							#Teleport To South Effelai
							set_country_flag = teleport_south_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_south_effelai
							}
							#Teleport To East Effelai
							set_country_flag = teleport_east_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_east_effelai
								has_country_flag = visited_south_effelai
							}
							#They Cut Themselves Off From The Loop - SMH
							set_country_flag = teleport_west_effelai
						}
						#They Went Here First/Out Of Order
						else = {
							set_country_flag = teleport_south_effelai
							set_country_flag = teleport_east_effelai
						}
					}
					at_south_effelai = {
						if = {
							limit = {
								has_country_flag = visited_mushroom_forest
							}
							#Teleport To East Effelai
							set_country_flag = teleport_west_effelai
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_leechdens
									}
								}
								set_country_flag = teleport_leechdens
							}
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_dry_coast
									}
								}
								set_country_flag = teleport_dry_coast
							}
						}
						else_if = {
							limit = {
								NOT = {
									has_country_flag = visited_mushroom_forest
								}
							}
							#It's a Short Distance
							set_country_flag = walk_mushroom_forest
						}
					}
					at_mushroom_forest = {
						if = {
							limit = {
								has_country_flag = visited_south_effelai
								NOT = {
									has_country_flag = visited_west_effelai
								}
							}
							#Teleport To West Effelai
							set_country_flag = teleport_west_effelai
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_leechdens
									}
								}
								set_country_flag = teleport_leechdens
							}
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_dry_coast
									}
								}
								set_country_flag = teleport_dry_coast
							}
						}
						else_if = {
							limit = {
								NOT = {
									has_country_flag = visited_south_effelai
								}
							}
							#It's A Short Distance
							set_country_flag = walk_south_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_south_effelai
								NOT = {
									AND = {
										has_country_flag = visited_dry_coast
										has_country_flag = visited_west_effelai
									}
								}
							}
							#might be redundant to check this im tired
							set_country_flag = teleport_dry_coast
							set_country_flag = teleport_west_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_south_effelai
								has_country_flag = visited_west_effelai
								has_country_flag = visited_dry_coast
							}
							#They Cut Themselves Off From The Loop - SMH
							set_country_flag = teleport_soruin
						}
					}
					at_south_effelai = {
						if = {
							limit = {
								has_country_flag = visited_mushroom_forest
							}
							#Teleport To West Effelai
							set_country_flag = teleport_west_effelai
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_leechdens
									}
								}
								#They Missed The Leechdens
								set_country_flag = teleport_leechdens
							}
						}
						else_if = {
							limit = {
								has_country_flag = visited_mushroom_forest
								has_country_flag = visited_west_effelai
							}
							set_country_flag = teleport_dry_coast
						}
						else_if = {
							limit = {
								NOT = {
									has_country_flag = visited_mushroom_forest
								}
							}
							#Mushroom Forest Is Closeby
							set_country_flag = walk_mushroom_forest
						}
					}
					at_west_effelai = {
						if = {
							limit = {
								has_country_flag = visited_soruin
							}
							#Teleport To Mushroom Forest
							set_country_flag = teleport_mushroom_forest
							if = {
								limit = {
									NOT = {
										has_country_flag = visited_leechdens
									}
								}
								#If They Missed Leechdens
								set_country_flag = teleport_leechdens
							}
						}
						else_if = {
							limit = {
								has_country_flag = visited_south_effelai
								has_country_flag = visited_mushroom_forest
							}
							#Teleport To Soruin
							set_country_flag = walk_soruin
						}
						else_if = {
							limit = {
								has_country_flag = visited_soruin
								OR = {
									has_country_flag = visited_mushroom_forest
									has_country_flag = visited_south_effelai
								}
							}
							#They Cut Themselves Off From The Loop - SMH
							set_country_flag = teleport_dry_coast
						}
						else = {
							#They Went Here First
							set_country_flag = walk_soruin
							set_country_flag = teleport_leechdens
							set_country_flag = teleport_mushroom_forest
						}
					}
					at_soruin = {
						if = {
							limit = {
								has_country_flag = visited_leechdens
							}
							set_country_flag = walk_west_effelai
						}
						else_if = {
							limit = {
								has_country_flag = visited_west_effelai
							}
							set_country_flag = teleport_leechdens
						}
						else_if = {
							limit = {
								has_country_flag = visited_west_effelai
								has_country_flag = visited_leechdens
							}
							#They Cut Themselves Off From The Loop - SMH
							set_country_flag = teleport_mushroom_forest
						}
						else = {
							set_country_flag = teleport_leechdens
							set_country_flag = walk_west_effelai
						}
					}
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = effelai_holy_sites_visited
						value = 7
					}
				}
				set_country_flag = effelai_settling_time
				clr_country_flag = visited_leechdens
				clr_country_flag = visited_east_effelai
				clr_country_flag = visited_dry_coast
				clr_country_flag = visited_south_effelai
				clr_country_flag = visited_mushroom_forest
				clr_country_flag = visited_west_effelai
				clr_country_flag = visited_soruin
				clr_country_flag = at_leechdens
				clr_country_flag = at_east_effelai
				clr_country_flag = at_dry_coast
				clr_country_flag = at_south_effelai
				clr_country_flag = at_mushroom_forest
				clr_country_flag = at_west_effelai
				clr_country_flag = at_soruin
			}
		}
	}
	#Teleport East Effelai
	option = {
		name = effelai_worship.100.a
		trigger = {
			has_country_flag = teleport_east_effelai
		}
		
		if = {
			limit = {
				has_country_flag = at_leechdens
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = tskeobor_area
				area2 = arbukesthi_area
			}
		}
		else_if = {
			limit = {
				has_country_flag = at_dry_coast
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = truaine_area
				area2 = thamusaine_area
			}
		}

		
		hidden_effect = {
			clr_country_flag = at_leechdens
			clr_country_flag = at_dry_coast
		}
	}
	#Teleport Dry Coast
	option = {
		name = effelai_worship.100.b
		trigger = {
			has_country_flag = teleport_dry_coast
		}
		
		if = {
			limit = {
				has_country_flag = at_east_effelai
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = muudoron_aelu_area
			}
		}
		else_if = {
			limit = {
				OR = {
					has_country_flag = at_south_effelai
					has_country_flag = at_mushroom_forest
					has_country_flag = at_west_effelai
				}
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = borand_area
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_east_effelai
			clr_country_flag = at_south_effelai
			clr_country_flag = at_mushroom_forest
			clr_country_flag = at_west_effelai
		}
	}
	#Teleport South Effelai
	option = {
		name = effelai_worship.100.c
		trigger = {
			has_country_flag = teleport_south_effelai
		}
		
		if = {
			limit = {
				has_country_flag = at_dry_coast
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = junglemouth_area
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_dry_coast
		}
	}
	#Teleport Mushroom Forest
	option = {
		name = effelai_worship.100.e
		trigger = {
			has_country_flag = teleport_mushroom_forest
		}
		
		if = {
			limit = {
				has_country_flag = at_west_effelai
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = mistwood_area
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_west_effelai
		}
	}
	#Teleport West Effelai
	option = {
		name = effelai_worship.100.f
		trigger = {
			has_country_flag = teleport_west_effelai
		}
		
		if = {
			limit = {
				OR = {
					has_country_flag = at_mushroom_forest
					has_country_flag = at_south_effelai
					has_country_flag = at_dry_coast
				}
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = silent_expanse_area
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_south_effelai
			clr_country_flag = at_mushroom_forest
			clr_country_flag = at_dry_coast
		}
	}
	#Teleport Soruin
	option = {
		name = effelai_worship.100.g
		trigger = {
			has_country_flag = teleport_soruin
		}
		
		if = {
			limit = {
				has_country_flag = at_leechdens
			}
			if = {
				limit = {
					has_country_flag = at_leechdens
				}
				effelai_teleport_troops_migrate_scripted_effect = {
					area1 = trisfersland_area
				}
			}
			else_if = {
				limit = {
					has_country_flag = at_mushroom_forest
				}
				effelai_teleport_troops_migrate_scripted_effect = {
					area1 = lovers_coast_area
				}
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_leechdens
		}
	}
	#Teleport Leechdens
	option = {
		name = effelai_worship.100.h
		trigger = {
			has_country_flag = teleport_leechdens
		}
		
		if = {
			limit = {
				has_country_flag = at_soruin
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = spider_coast_area
			}
		}
		else_if = {
			limit = {
				has_country_flag = at_east_effelai
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = soaring_forest_area
				area2 = croakwood_area
			}
		}
		else_if = {
			limit = {
				has_country_flag = at_west_effelai
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = serpenthome_area
			}
		}
		else_if = {
			limit = {
				OR = {
					has_country_flag = at_south_effelai
					has_country_flag = at_mushroom_forest
				}
			}
			effelai_teleport_troops_migrate_scripted_effect = {
				area1 = edgewoods_area
				area2 = ungoths_trail_area
			}
		}
		
		hidden_effect = {
			clr_country_flag = at_east_effelai
			clr_country_flag = at_south_effelai
			clr_country_flag = at_mushroom_forest
			clr_country_flag = at_west_effelai
			clr_country_flag = at_soruin
		}
	}
	#Walk Soruin
	option = {
		name = effelai_worship.100.i
		trigger = {
			has_country_flag = walk_soruin
		}
		hidden_effect = {
			clr_country_flag = at_west_effelai
		}
	}
	#Walk West Effelai
	option = {
		name = effelai_worship.100.j
		trigger = {
			has_country_flag = walk_west_effelai
		}
		hidden_effect = {
			clr_country_flag = at_soruin
		}
	}
	#Walk Mushroom Forest
	option = {
		name = effelai_worship.100.k
		trigger = {
			has_country_flag = walk_mushroom_forest
		}
		hidden_effect = {
			clr_country_flag = at_south_effelai
		}
	}
	#Walk South Effelai
	option = {
		name = effelai_worship.100.l
		trigger = {
			has_country_flag = walk_south_effelai
		}
		hidden_effect = {
			clr_country_flag = at_mushroom_forest
		}
	}
	#Settling Time
	option = {
		name = effelai_worship.100.m
		trigger = {
			has_country_flag = effelai_settling_time
		}
		country_event = {
			id = effelai_worship.200
			days = 30
		}
	}
}
#Effelai Worship Settling Down Event
country_event = {
	id = effelai_worship.200
	title = effelai_worship.200.t
	desc = effelai_worship.200.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		religion = chahinanito
	}
	
	is_triggered_only = yes
	
	option = {
		name = effelai_worship.200.a
		
		change_government = native
		add_government_reform = native_chiefdom_reform
		add_government_reform = native_land_tradition_reform
		add_government_reform = settlers_of_effelai
		capital_scope = {
			add_base_tax = 3
			add_base_production = 3
			add_base_manpower = 3
			area = {
				limit = {
					NOT = {
						is_city = yes
					}
				}
				add_core = ROOT
				cede_province = ROOT
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			every_neighbor_province = {
				limit = {
					NOT = {
						is_city = yes
						area = PREV
					}
				}
				add_core = ROOT
				cede_province = ROOT
				area = {
					limit = {
						NOT = {
							is_city = yes
						}
					}
					add_core = ROOT
					cede_province = ROOT
					add_base_tax = 1
					add_base_production = 1
					add_base_manpower = 1
				}
			}
		}
		remove_country_modifier = effelai_worship_tribal_adventurers
		add_country_modifier = {
			name = effelai_worship_settled_down
			duration = 9125
		}
	}
}