# í <-- This is here to make sure that the encoding stays ANSI, do not remove it
namespace = racial_modifiers

#Change Military
country_event = {
	id = racial_modifiers.1
	title = racial_modifiers.1.t
	desc = racial_modifiers.1.d
	picture = LAND_MILITARY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		# check_variable = {
			# which = nbOrcishMajority
			# value = 500
		# }
		# check_variable = {
			# which = nbHumanMajority
			# value = 500
		# }
		# check_variable = {
			# which = nbElvenMajority
			# value = 500
		# }
		# check_variable = {
			# which = totalDev
			# value = 500
		# }
		# check_variable = {
			# which = PercentDev
			# value = 1
		# }
	}
	
	immediate = {
		hidden_effect = {
			set_variable = {
				which = nbOrcishMajority
				value = 0
			}
			set_variable = {
				which = nbOrcishMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbOrcishMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHumanMajority
				value = 0
			}
			set_variable = {
				which = nbHumanMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHumanMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbElvenMajority
				value = 0
			}
			set_variable = {
				which = nbElvenMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbElvenMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHalfElvenMajority
				value = 0
			}
			set_variable = {
				which = nbHalfElvenMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHalfElvenMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHalfOrcishMajority
				value = 0
			}
			set_variable = {
				which = nbHalfOrcishMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHalfOrcishMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbTrollMajority
				value = 0
			}
			set_variable = {
				which = nbTrollMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbTrollMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbGnollishMajority
				value = 0
			}
			set_variable = {
				which = nbGnollishMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbGnollishMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbGoblinMajority
				value = 0
			}
			set_variable = {
				which = nbGoblinMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbGoblinMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbGnomishMajority
				value = 0
			}
			set_variable = {
				which = nbGnomishMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbGnomishMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbDwarvenMajority
				value = 0
			}
			set_variable = {
				which = nbDwarvenMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbDwarvenMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbKoboldMajority
				value = 0
			}
			set_variable = {
				which = nbKoboldMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbKoboldMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbRuinbornMajority
				value = 0
			}
			set_variable = {
				which = nbRuinbornMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbRuinbornMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHarpyMajority
				value = 0
			}
			set_variable = {
				which = nbHarpyMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHarpyMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHalflingMajority
				value = 0
			}
			set_variable = {
				which = nbHalflingMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHalflingMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbOgreMajority
				value = 0
			}
			set_variable = {
				which = nbOgreMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbOgreMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbCentaurMajority
				value = 0
			}
			set_variable = {
				which = nbCentaurMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbCentaurMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHarimariMajority
				value = 0
			}
			set_variable = {
				which = nbHarimariMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHarimariMajorityTooltipNumber
				value = 0
			}
			
			set_variable = {
				which = nbHobgoblinMajority
				value = 0
			}
			set_variable = {
				which = nbHobgoblinMajorityCounter
				value = 0
			}
			set_variable = {
				which = nbHobgoblinMajorityTooltipNumber
				value = 0
			}
		
		every_owned_province = {
			if = { #Orcish Dev
				limit = {
					AND = {
						has_orcish_majority_trigger = yes
						is_core = ROOT
						is_state = yes
					} 
				}
				ROOT = {										#ROOT = Country
					export_to_variable = {
						variable_name = nbOrcishMajorityCounter
						value = development						# Dev of Province
						who = PREV								# PREV = Province
					}
					change_variable = {
						which = nbOrcishMajority
						which = nbOrcishMajorityCounter
					}
				}
			}
			else_if = { #Human Dev
				limit = { 
					AND = {
						has_human_majority_trigger = yes 
						is_core = ROOT
						is_state = yes
					}
				}
				ROOT = {										#ROOT = Country
					export_to_variable = {
						variable_name = nbHumanMajorityCounter
						value = development						# Dev of Province
						who = PREV								# PREV = Province
					}
					change_variable = {
						which = nbHumanMajority
						which = nbHumanMajorityCounter
					}
				}
			}
			else_if = { #Elven Dev
				limit = {
					AND = {
						has_elven_majority_trigger = yes 
						is_core = ROOT
						is_state = yes
					}
				}
				ROOT = {
					export_to_variable = {
						variable_name = nbElvenMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbElvenMajority
						which = nbElvenMajorityCounter
					}
				}
			}
			else_if = { #HalfElven Dev
				limit = { AND = { has_half_elven_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHalfElvenMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHalfElvenMajority
						which = nbHalfElvenMajorityCounter
					}
				}
			}
			else_if = { #HalfOrcish Dev
				limit = { AND = { has_half_orcish_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHalfOrcishMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHalfOrcishMajority
						which = nbHalfOrcishMajorityCounter
					}
				}
			}
			else_if = { #Troll Dev
				limit = { AND = { has_troll_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbTrollMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbTrollMajority
						which = nbTrollMajorityCounter
					}
				}
			}
			else_if = { #Gnollish Dev
				limit = { AND = { has_gnollish_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbGnollishMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbGnollishMajority
						which = nbGnollishMajorityCounter
					}
				}
			}
			else_if = { #Goblin Dev
				limit = { AND = { has_goblin_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbGoblinMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbGoblinMajority
						which = nbGoblinMajorityCounter
					}
				}
			}
			else_if = { #Gnomish Dev
				limit = { AND = { has_gnomish_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbGnomishMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbGnomishMajority
						which = nbGnomishMajorityCounter
					}
				}
			}
			else_if = { #Dwarven Dev
				limit = { AND = { has_dwarven_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbDwarvenMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbDwarvenMajority
						which = nbDwarvenMajorityCounter
					}
				}
			}
			else_if = { #Kobold Dev
				limit = { AND = { has_kobold_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbKoboldMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbKoboldMajority
						which = nbKoboldMajorityCounter
					}
				}
			}
			else_if = { #Ruinborn Dev
				limit = { AND = { has_ruinborn_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbRuinbornMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbRuinbornMajority
						which = nbRuinbornMajorityCounter
					}
				}
			}
			else_if = { #Harpy Dev
				limit = { AND = { has_harpy_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHarpyMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHarpyMajority
						which = nbHarpyMajorityCounter
					}
				}
			}
			else_if = { #Halfling Dev
				limit = { AND = { has_halfling_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHalflingMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHalflingMajority
						which = nbHalflingMajorityCounter
					}
				}
			}
			else_if = { #Ogre Dev
				limit = { AND = { has_ogre_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbOgreMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbOgreMajority
						which = nbOgreMajorityCounter
					}
				}
			}
			else_if = { #Centaur Dev
				limit = { AND = { has_centaur_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbCentaurMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbCentaurMajority
						which = nbCentaurMajorityCounter
					}
				}
			}
			else_if = { #Harimari Dev
				limit = { AND = { has_harimari_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHarimariMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHarimariMajority
						which = nbHarimariMajorityCounter
					}
				}
			}
			else_if = { #Hobgoblin Dev
				limit = { AND = { has_hobgoblin_majority_trigger = yes is_core = ROOT is_state = yes} }
				ROOT = {
					export_to_variable = {
						variable_name = nbHobgoblinMajorityCounter
						value = development
						who = PREV
					}
					change_variable = {
						which = nbHobgoblinMajority
						which = nbHobgoblinMajorityCounter
					}
				}
			}
		}
		
		### Set Comparison Variables
		set_variable = {
			which = totalDev
			value = 0
		}
        set_variable = {
			which = totalDevCounter
			value = 0
		}
		#export_to_variable = {
		#	variable_name = totalDev
		#	value = total_development
		#	who = ROOT
		#}
        
        every_owned_province = {
			if = { #Total Dev
				limit = {
					AND = {
						is_core = ROOT
						is_state = yes
					} 
				}
				ROOT = {										#ROOT = Country
					export_to_variable = {
						variable_name = totalDevCounter
						value = development						# Dev of Province
						who = PREV								# PREV = Province
					}
					change_variable = {
						which = totalDev
						which = totalDevCounter
					}
				}
			}
		}
        
		set_variable = {
			which = PercentDev
			value = 0.3			#How much Dev does the race need to have for the options to appears ? 1 = 100%
		}
		
		#############################
		##    Calculate %Dev of each Race
		#############################
		divide_variable = {
			which = nbOrcishMajority
			which = totalDev
		}
		set_variable = {
			which = nbOrcishMajorityTooltipNumber
			which = nbOrcishMajority
		}
		multiply_variable = {
			which = nbOrcishMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHumanMajority
			which = totalDev
		}
		set_variable = {
			which = nbHumanMajorityTooltipNumber
			which = nbHumanMajority
		}
		multiply_variable = {
			which = nbHumanMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbElvenMajority
			which = totalDev
		}
		set_variable = {
			which = nbElvenMajorityTooltipNumber
			which = nbElvenMajority
		}
		multiply_variable = {
			which = nbElvenMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHalfElvenMajority
			which = totalDev
		}
		set_variable = {
			which = nbHalfElvenMajorityTooltipNumber
			which = nbHalfElvenMajority
		}
		multiply_variable = {
			which = nbHalfElvenMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHalfOrcishMajority
			which = totalDev
		}
		set_variable = {
			which = nbHalfOrcishMajorityTooltipNumber
			which = nbHalfOrcishMajority
		}
		multiply_variable = {
			which = nbHalfOrcishMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbTrollMajority
			which = totalDev
		}
		set_variable = {
			which = nbTrollMajorityTooltipNumber
			which = nbTrollMajority
		}
		multiply_variable = {
			which = nbTrollMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbGnollishMajority
			which = totalDev
		}
		set_variable = {
			which = nbGnollishMajorityTooltipNumber
			which = nbGnollishMajority
		}
		multiply_variable = {
			which = nbGnollishMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbGoblinMajority
			which = totalDev
		}
		set_variable = {
			which = nbGoblinMajorityTooltipNumber
			which = nbGoblinMajority
		}
		multiply_variable = {
			which = nbGoblinMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbGnomishMajority
			which = totalDev
		}
		set_variable = {
			which = nbGnomishMajorityTooltipNumber
			which = nbGnomishMajority
		}
		multiply_variable = {
			which = nbGnomishMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbDwarvenMajority
			which = totalDev
		}
		set_variable = {
			which = nbDwarvenMajorityTooltipNumber
			which = nbDwarvenMajority
		}
		multiply_variable = {
			which = nbDwarvenMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbKoboldMajority
			which = totalDev
		}
		set_variable = {
			which = nbKoboldMajorityTooltipNumber
			which = nbKoboldMajority
		}
		multiply_variable = {
			which = nbKoboldMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbRuinbornMajority
			which = totalDev
		}
		set_variable = {
			which = nbRuinbornMajorityTooltipNumber
			which = nbRuinbornMajority
		}
		multiply_variable = {
			which = nbRuinbornMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHarpyMajority
			which = totalDev
		}
		set_variable = {
			which = nbHarpyMajorityTooltipNumber
			which = nbHarpyMajority
		}
		multiply_variable = {
			which = nbHarpyMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHalflingMajority
			which = totalDev
		}
		set_variable = {
			which = nbHalflingMajorityTooltipNumber
			which = nbHalflingMajority
		}
		multiply_variable = {
			which = nbHalflingMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbOgreMajority
			which = totalDev
		}
		set_variable = {
			which = nbOgreMajorityTooltipNumber
			which = nbOgreMajority
		}
		multiply_variable = {
			which = nbOgreMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbCentaurMajority
			which = totalDev
		}
		set_variable = {
			which = nbCentaurMajorityTooltipNumber
			which = nbCentaurMajority
		}
		multiply_variable = {
			which = nbCentaurMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHarimariMajority
			which = totalDev
		}
		set_variable = {
			which = nbHarimariMajorityTooltipNumber
			which = nbHarimariMajority
		}
		multiply_variable = {
			which = nbHarimariMajorityTooltipNumber
			value = 100
		}
		
		divide_variable = {
			which = nbHobgoblinMajority
			which = totalDev
		}
		set_variable = {
			which = nbHobgoblinMajorityTooltipNumber
			which = nbHobgoblinMajority
		}
		multiply_variable = {
			which = nbHobgoblinMajorityTooltipNumber
			value = 100
		}
		
		}
		#############################
	}
	
	#Go Back
	option = {
        name = racial_modifiers.1.z
        ai_chance = { factor = 100 }
		
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
	}
	
	#Orcish Option
	option = {
        name = racial_modifiers.1.a
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_orcish_race_trigger = yes
			NOT = { has_country_modifier = orcish_military }
			OR = {
				check_variable = {
					which = nbOrcishMajority
					which = PercentDev
				}
				has_country_modifier = orcish_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = orcish_military
			duration = -1  
		}
		change_unit_type = tech_orcish
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.att
	}
	
	
	#Human Option
	option = {
        name = racial_modifiers.1.b
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_human_race_trigger = yes
			NOT = { has_country_modifier = human_military }
			OR = {
				check_variable = {
					which = nbHumanMajority
					which = PercentDev
				}
				has_country_modifier = human_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = human_military
			duration = -1  
		}
		if = {
			limit = {
				capital_scope = { superregion = bulwar_superregion }
			}
			change_unit_type = tech_bulwari
		}
		else_if = {
			limit = {
				capital_scope = { superregion = salahad_superregion }
			}
			change_unit_type = tech_salahadesi
		}
		else_if = {
			limit = {
				capital_scope = { superregion = rahen_superregion }
			}
			change_unit_type = tech_raheni
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
				}
			}
			change_unit_type = tech_halessi
		}
		else_if = {
			limit = {
				capital_scope = { superregion = north_haless_superregion }
			}
			change_unit_type = tech_shuvuush
		}
		else_if = {
			limit = {
				capital_scope = { superregion = forbidden_lands_superregion }
			}
			change_unit_type = tech_islanders
		}
		else_if = {
			limit = {
				capital_scope = { superregion = gerudia_superregion }
			}
			change_unit_type = tech_gerudian
		}
		else = {
			change_unit_type = tech_cannorian
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.btt
	}
	
	#Elven Option
	option = {
        name = racial_modifiers.1.c
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_elven_race_trigger = yes
			NOT = { has_country_modifier = elven_military }
			OR = {
				check_variable = {
					which = nbElvenMajority
					which = PercentDev
				}
				has_country_modifier = elven_administration
			}
			OR = {
				NOT = { religion = bulwari_sun_cult }
				NOT = { has_dlc = "Mandate of Heaven" }
				isolationism = 3
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = elven_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = deepwoods_superregion }
					primary_culture = wood_elf
					AND = {
						accepted_culture = wood_elf
						NOT = { culture_group = elven }
					}
				}
			}
			change_unit_type = tech_wood_elf
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { continent = asia }
					capital_scope = { continent = africa }
					AND = {
						OR = {
							capital_scope = { continent = north_america }
							capital_scope = { continent = south_america }
						}
						religion_group = bulwari
					}
					primary_culture = sun_elf
					primary_culture = dawn_elf
					primary_culture = desert_elf
					AND = {
						accepted_culture = sun_elf
						NOT = { culture_group = elven }
					}
					AND = {
						accepted_culture = dawn_elf
						NOT = { culture_group = elven }
					}
					AND = {
						accepted_culture = desert_elf
						NOT = { culture_group = elven }
					}
				}
			}
			change_unit_type = tech_east_elven
		}
		else = {
			change_unit_type = tech_elven
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ctt
	}
	
	#HalfElven Option
	option = {
        name = racial_modifiers.1.dd
        ai_chance = { factor = 100 }
		trigger = {
			has_country_flag = disabled
			high_tolerance_half_elven_race_trigger = yes
			NOT = { has_country_modifier = half_elven_military }
			OR = {
				check_variable = {
					which = nbHalfElvenMajority
					which = PercentDev
				}
				has_country_modifier = half_elven_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = half_elven_military
			duration = -1  
		}
		#change_unit_type = tech_bulwari
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.dtt
	}
	
	#HalfOrcish Option
	option = {
        name = racial_modifiers.1.e
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_half_orcish_race_trigger = yes
			NOT = { has_country_modifier = half_orcish_military }
			OR = {
				check_variable = {
					which = nbHalfOrcishMajority
					which = PercentDev
				}
				has_country_modifier = half_orcish_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = half_orcish_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = gerudia_superregion }
					primary_culture = grombar_half_orc
					primary_culture = grombar_orc
					primary_culture = gray_orc
					AND = {
						accepted_culture = grombar_half_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = grombar_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = gray_orc
						NOT = { culture_is_half_orcish = yes }
					}
				}
			}
			change_unit_type = tech_gerudian
		}
		else = {
			change_unit_type = tech_cannorian
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ett
	}
	
	#Troll Option
	option = {
        name = racial_modifiers.1.f
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_troll_race_trigger = yes
			NOT = { has_country_modifier = troll_military }
			OR = {
				check_variable = {
					which = nbTrollMajority
					which = PercentDev
				}
				has_country_modifier = troll_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = troll_military
			duration = -1  
		}
		change_unit_type = tech_troll	#may need to be changed to troll maybe
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ftt
	}
	
	#Gnollish Option
	option = {
        name = racial_modifiers.1.g
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_gnollish_race_trigger = yes
			NOT = { has_country_modifier = gnollish_military }
			OR = {
				check_variable = {
					which = nbGnollishMajority
					which = PercentDev
				}
				has_country_modifier = gnollish_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = gnollish_military
			duration = -1  
		}
		change_unit_type = tech_gnollish
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.gtt
	}
	
	#Goblin Option
	option = {
        name = racial_modifiers.1.h
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_goblin_race_trigger = yes
			NOT = { has_country_modifier = goblin_military }
			OR = {
				check_variable = {
					which = nbGoblinMajority
					which = PercentDev
				}
				has_country_modifier = goblin_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = goblin_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { continent = serpentspine }
					primary_culture = cave_goblin
					AND = {
						accepted_culture = cave_goblin
						NOT = { culture_group = goblin }
					}
				}
			}
			change_unit_type = tech_cave_goblin
		}
		else = {
			change_unit_type = tech_goblin
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.htt
	}
	
	#Gnomish Option
	option = {
        name = racial_modifiers.1.i
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_gnomish_race_trigger = yes
			NOT = { has_country_modifier = gnomish_military }
			OR = {
				check_variable = {
					which = nbGnomishMajority
					which = PercentDev
				}
				has_country_modifier = gnomish_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = gnomish_military
			duration = -1  
		}
		remove_country_modifier = reveria_gnomish_army 
		remove_country_modifier = reveria_gnomish_navy

		change_unit_type = tech_gnomish
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.itt
	}
	
	#Dwarven Option
	option = {
        name = racial_modifiers.1.j
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_dwarven_race_trigger = yes
			NOT = { has_country_modifier = dwarven_military }
			OR = {
				check_variable = {
					which = nbDwarvenMajority
					which = PercentDev
				}
				has_country_modifier = dwarven_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = dwarven_military
			duration = -1  
		}
		change_unit_type = tech_dwarven
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.jtt
	}
	
	#Kobold Option
	option = {
        name = racial_modifiers.1.k
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_kobold_race_trigger = yes
			NOT = { has_country_modifier = kobold_military }
			OR = {
				check_variable = {
					which = nbKoboldMajority
					which = PercentDev
				}
				has_country_modifier = kobold_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = kobold_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = north_haless_superregion }
					capital_scope = { superregion = rahen_superregion }
					primary_culture = goldscale_kobold
					AND = {
						accepted_culture = goldscale_kobold
						NOT = { culture_group = kobold }
					}
				}
			}
			change_unit_type = tech_east_kobold
		}
		else = {
			change_unit_type = tech_kobold
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ktt
	}
	
	#Ruinborn Option
	option = {
        name = racial_modifiers.1.l
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_ruinborn_race_trigger = yes
			NOT = { has_country_modifier = ruinborn_military }
			OR = {
				check_variable = {
					which = nbRuinbornMajority
					which = PercentDev
				}
				has_country_modifier = ruinborn_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = ruinborn_military
			duration = -1  
		}
		if = {
			limit = {
				capital_scope = { superregion = ynn_superregion }
			}
			change_unit_type = tech_ynnic
		}
		else_if = {
			limit = {
				capital_scope = { superregion = eordand_superregion }
			}
			change_unit_type = tech_eordand
		}
		else_if = {
			limit = {
				capital_scope = { superregion = kheionai_superregion }
			}
			change_unit_type = tech_kheionai
		}
		else_if = {
			limit = {
				capital_scope = { superregion = greater_taychend_superregion }
			}
			change_unit_type = tech_taychendi
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = north_aelantir_superregion }
					capital_scope = { superregion = ruined_sea_superregion }
					capital_scope = { superregion = torn_sea_superregion }
				}
			}
			change_unit_type = tech_north_aelantiri
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = south_aelantir_superregion }
					capital_scope = { superregion = effelai_superregion }
				}
			}
			change_unit_type = tech_south_aelantiri
		}
		else = {
			change_unit_type = tech_north_aelantiri
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ltt
	}
	
	#Harpy Option
	option = {
        name = racial_modifiers.1.m
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_harpy_race_trigger = yes
			NOT = { has_country_modifier = harpy_military }
			OR = {
				check_variable = {
					which = nbHarpyMajority
					which = PercentDev
				}
				has_country_modifier = harpy_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = harpy_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = north_haless_superregion }
					primary_culture = feng_harpy
					AND = {
						accepted_culture = feng_harpy
						NOT = { culture_group = harpy }
					}
				}
			}
			change_unit_type = tech_east_harpy
		}
		else = {
			change_unit_type = tech_harpy
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.mtt
	}
	
	#Halfling Option
	option = {
        name = racial_modifiers.1.n
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_halfling_race_trigger = yes
			NOT = { has_country_modifier = halfling_military }
			OR = {
				check_variable = {
					which = nbHalflingMajority
					which = PercentDev
				}
				has_country_modifier = halfling_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = halfling_military
			duration = -1  
		}
		change_unit_type = tech_cannorian	#may need their own halfling one in the future
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ntt
	}

	
	#Ogre Option
	option = {
        name = racial_modifiers.1.o
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_ogre_race_trigger = yes
			NOT = { has_country_modifier = ogre_military }
			OR = {
				check_variable = {
					which = nbOgreMajority
					which = PercentDev
				}
				has_country_modifier = ogre_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = ogre_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = north_haless_superregion }
					capital_scope = { superregion = rahen_superregion }
					primary_culture = horned_ogre
					AND = {
						accepted_culture = horned_ogre
						NOT = { culture_group = ogre }
					}
				}
			}
			change_unit_type = tech_eastern_ogre
		}
		else = {
			change_unit_type = tech_ogre	#may need custom one
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ott
	}
	
	#Centaur Option
	option = {
        name = racial_modifiers.1.p
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_centaur_race_trigger = yes
			NOT = { has_country_modifier = centaur_military }
			OR = {
				check_variable = {
					which = nbCentaurMajority
					which = PercentDev
				}
				has_country_modifier = centaur_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = centaur_military
			duration = -1  
		}
		change_unit_type = tech_centaur
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.ptt
	}

	
	#Harimari Option
	option = {
        name = racial_modifiers.1.q
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_harimari_race_trigger = yes
			NOT = { has_country_modifier = harimari_military }
			OR = {
				check_variable = {
					which = nbHarimariMajority
					which = PercentDev
				}
				has_country_modifier = harimari_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = harimari_military
			duration = -1  
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = north_haless_superregion }
					primary_culture = east_harimari
					AND = {
						accepted_culture = east_harimari
						NOT = { culture_group = harimari }
					}
				}
			}
			change_unit_type = tech_east_harimari
		}
		else = {
			change_unit_type = tech_harimari
		}
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.qtt
	}

	#Hobgoblin Option
	option = {
        name = racial_modifiers.1.r
        ai_chance = { factor = 100 }
		trigger = {
			high_tolerance_hobgoblin_race_trigger = yes
			NOT = { has_country_modifier = hobgoblin_military }
			OR = {
				check_variable = {
					which = nbHobgoblinMajority
					which = PercentDev
				}
				has_country_modifier = hobgoblin_administration
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		add_mil_power = -200
		clear_racial_military = yes
		
		add_country_modifier = { 
			name = restructuring_military
			duration = 3650
		}
		add_country_modifier = { 
			name = hobgoblin_military
			duration = -1  
		}
		change_unit_type = tech_hobgoblin
		custom_tooltip = racial_modifiers.1.primarytt
		custom_tooltip = racial_modifiers.1.rtt
	}
	
	
	#Unavailable
	option = {
        name = racial_modifiers.1.ab
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = orcish_military }
			NOT = {
				AND = {
					high_tolerance_orcish_race_trigger = yes
					OR = {
						check_variable = {
							which = nbOrcishMajority
							which = PercentDev
						}
						has_country_modifier = orcish_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = orcish_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.att
	}
	option = {
        name = racial_modifiers.1.bb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = human_military }
			NOT = {
				AND = {
					high_tolerance_human_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHumanMajority
							which = PercentDev
						}
						has_country_modifier = human_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = human_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.btt
	}
	option = {
        name = racial_modifiers.1.cb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = elven_military }
			NOT = {
				AND = {
					high_tolerance_elven_race_trigger = yes
					OR = {
						check_variable = {
							which = nbElvenMajority
							which = PercentDev
						}
						has_country_modifier = elven_administration
					}
					OR = {
						NOT = { religion = bulwari_sun_cult }
						NOT = { has_dlc = "Mandate of Heaven" }
						isolationism = 3
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = elven_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		if = { limit = { religion = bulwari_sun_cult }
			custom_tooltip = racial_modifiers.1.nscleveltt
		}
		custom_tooltip = racial_modifiers.1.ctt
	}
	option = {
        name = racial_modifiers.1.db
        ai_chance = { factor = 100 }
		trigger = {
			has_country_flag = disabled
			NOT = { has_country_modifier = half_elven_military }
			NOT = {
				AND = {
					high_tolerance_half_elven_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHalfElvenMajority
							which = PercentDev
						}
						has_country_modifier = half_elven_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = half_elven_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.dtt
	}
	option = {
        name = racial_modifiers.1.eb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = half_orcish_military }
			NOT = {
				AND = {
					high_tolerance_half_orcish_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHalfOrcishMajority
							which = PercentDev
						}
						has_country_modifier = half_orcish_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = half_orcish_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ett
	}
	option = {
        name = racial_modifiers.1.fb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = troll_military }
			NOT = {
				AND = {
					high_tolerance_troll_race_trigger = yes
					OR = {
						check_variable = {
							which = nbTrollMajority
							which = PercentDev
						}
						has_country_modifier = troll_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = troll_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ftt
	}
	option = {
        name = racial_modifiers.1.gb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = gnollish_military }
			NOT = {
				AND = {
					high_tolerance_gnollish_race_trigger = yes
					OR = {
						check_variable = {
							which = nbGnollishMajority
							which = PercentDev
						}
						has_country_modifier = gnollish_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = gnollish_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.gtt
	}
	option = {
        name = racial_modifiers.1.hb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = goblin_military }
			NOT = {
				AND = {
					high_tolerance_goblin_race_trigger = yes
					OR = {
						check_variable = {
							which = nbGoblinMajority
							which = PercentDev
						}
						has_country_modifier = goblin_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = goblin_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.htt
	}
	option = {
        name = racial_modifiers.1.ib
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = gnomish_military }
			NOT = {
				AND = {
					high_tolerance_gnomish_race_trigger = yes
					OR = {
						check_variable = {
							which = nbGnomishMajority
							which = PercentDev
						}
						has_country_modifier = gnomish_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = gnomish_military
				duration = -1  
			}
			remove_country_modifier = reveria_gnomish_army 
			remove_country_modifier = reveria_gnomish_navy
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.itt
	}
	option = {
        name = racial_modifiers.1.jb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = dwarven_military }
			NOT = {
				AND = {
					high_tolerance_dwarven_race_trigger = yes
					OR = {
						check_variable = {
							which = nbDwarvenMajority
							which = PercentDev
						}
						has_country_modifier = dwarven_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = dwarven_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.jtt
	}
	option = {
        name = racial_modifiers.1.kb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = kobold_military }
			NOT = {
				AND = {
					high_tolerance_kobold_race_trigger = yes
					OR = {
						check_variable = {
							which = nbKoboldMajority
							which = PercentDev
						}
						has_country_modifier = kobold_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = kobold_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ktt
	}
	option = {
        name = racial_modifiers.1.lb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = ruinborn_military }
			NOT = {
				AND = {
					high_tolerance_ruinborn_race_trigger = yes
					OR = {
						check_variable = {
							which = nbRuinbornMajority
							which = PercentDev
						}
						has_country_modifier = ruinborn_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = ruinborn_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ltt
	}
	option = {
        name = racial_modifiers.1.mb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = harpy_military }
			NOT = {
				AND = {
					high_tolerance_harpy_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHarpyMajority
							which = PercentDev
						}
						has_country_modifier = harpy_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = harpy_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.mtt
	}
	option = {
        name = racial_modifiers.1.nb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = halfling_military }
			NOT = {
				AND = {
					high_tolerance_halfling_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHalflingMajority
							which = PercentDev
						}
						has_country_modifier = halfling_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = halfling_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ntt
	}
	option = {
        name = racial_modifiers.1.ob
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = ogre_military }
			NOT = {
				AND = {
					high_tolerance_ogre_race_trigger = yes
					OR = {
						check_variable = {
							which = nbOgreMajority
							which = PercentDev
						}
						has_country_modifier = ogre_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = ogre_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ott
	}
	option = {
        name = racial_modifiers.1.pb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = centaur_military }
			NOT = {
				AND = {
					high_tolerance_centaur_race_trigger = yes
					OR = {
						check_variable = {
							which = nbCentaurMajority
							which = PercentDev
						}
						has_country_modifier = centaur_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = centaur_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.ptt
	}
	option = {
        name = racial_modifiers.1.qb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = harimari_military }
			NOT = {
				AND = {
					high_tolerance_harimari_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHarimariMajority
							which = PercentDev
						}
						has_country_modifier = harimari_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = harimari_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.qtt
	}
	option = {
        name = racial_modifiers.1.rb
        ai_chance = { factor = 100 }
		trigger = {
			NOT = { has_country_modifier = hobgoblin_military }
			NOT = {
				AND = {
					high_tolerance_hobgoblin_race_trigger = yes
					OR = {
						check_variable = {
							which = nbHobgoblinMajority
							which = PercentDev
						}
						has_country_modifier = hobgoblin_administration
					}
				}
			}
		}
		tooltip = {
			add_country_modifier = { 
				name = hobgoblin_military
				duration = -1  
			}
		}
		hidden_effect = { clr_country_flag = racial_military_menu_opened }
		custom_tooltip = racial_modifiers.1.unavailablett
		custom_tooltip = racial_modifiers.1.rtt
	}
	
}


#Military Force Switch if Oppressed - Civilized races
country_event = {
	id = racial_modifiers.3
	title = racial_modifiers.3.t
	desc = racial_modifiers.3.d
	picture = LAND_MILITARY_eventPicture
	
	trigger = {
		OR = {
			# AND = {
				# has_country_modifier = orcish_military
				# low_tolerance_orcish_race_trigger = yes
			# }
			AND = {
				has_country_modifier = human_military
				low_tolerance_human_race_trigger = yes
			}
			AND = {
				has_country_modifier = elven_military
				low_tolerance_elven_race_trigger = yes
			}
			AND = {
				has_country_modifier = half_elven_military
				low_tolerance_half_elven_race_trigger = yes
			}
			AND = {
				has_country_modifier = half_orcish_military
				low_tolerance_half_orcish_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = troll_military
				# low_tolerance_troll_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = gnollish_military
				# low_tolerance_gnollish_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = goblin_military
				# low_tolerance_goblin_race_trigger = yes
			# }
			AND = {
				has_country_modifier = gnomish_military
				low_tolerance_gnomish_race_trigger = yes
			}
			AND = {
				has_country_modifier = dwarven_military
				low_tolerance_dwarven_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = kobold_military
				# low_tolerance_kobold_race_trigger = yes
			# }
			AND = {
				has_country_modifier = ruinborn_military
				low_tolerance_ruinborn_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = harpy_military
				# low_tolerance_harpy_race_trigger = yes
			# }
			AND = {
				has_country_modifier = halfling_military
				low_tolerance_halfling_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = ogre_military
				# low_tolerance_ogre_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = centaur_military
				# low_tolerance_centaur_race_trigger = yes
			# }
			AND = {
				has_country_modifier = harimari_military
				low_tolerance_harimari_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = hobgoblin_military
				# low_tolerance_hobgoblin_race_trigger = yes
			# }
		}
				# has_country_modifier = dwarven_administration
				# has_country_modifier = dwarven_military
				# low_tolerance_dwarven_race_trigger = yes
	}
	
	is_triggered_only = yes #on_action
	
	option = {
		name = racial_modifiers.3.a
		
		clear_racial_military = yes
		reset_racial_military_via_administration = yes
		
		if = {
			limit = {
				has_country_modifier = orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = human_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_human_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = troll_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_troll_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnollish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnollish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = goblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_goblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnomish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnomish_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = dwarven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_dwarven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = kobold_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_kobold_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ruinborn_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ruinborn_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harpy_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harpy_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = halfling_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_halfling_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ogre_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ogre_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = centaur_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_centaur_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harimari_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harimari_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = hobgoblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_hobgoblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
	}
}


#Military Force Switch if Oppressed - Monstrous races
country_event = {
	id = racial_modifiers.4
	title = racial_modifiers.3.t
	desc = racial_modifiers.3.d
	picture = LAND_MILITARY_eventPicture
	
	trigger = {
		OR = {
			AND = {
				has_country_modifier = orcish_military
				low_tolerance_orcish_race_trigger = yes
			}
			AND = {
				has_country_modifier = troll_military
				low_tolerance_troll_race_trigger = yes
			}
			AND = {
				has_country_modifier = gnollish_military
				low_tolerance_gnollish_race_trigger = yes
			}
			AND = {
				has_country_modifier = goblin_military
				low_tolerance_goblin_race_trigger = yes
			}
			AND = {
				has_country_modifier = kobold_military
				low_tolerance_kobold_race_trigger = yes
			}
			AND = {
				has_country_modifier = harpy_military
				low_tolerance_harpy_race_trigger = yes
			}
			AND = {
				has_country_modifier = ogre_military
				low_tolerance_ogre_race_trigger = yes
			}
			AND = {
				has_country_modifier = centaur_military
				low_tolerance_centaur_race_trigger = yes
			}
			AND = {
				has_country_modifier = hobgoblin_military
				low_tolerance_hobgoblin_race_trigger = yes
			}
		}

	}
	
	
	is_triggered_only = yes #on_action
	
	option = {
		name = racial_modifiers.3.a
		
		clear_racial_military = yes
		reset_racial_military_via_administration = yes
		
		if = {
			limit = {
				has_country_modifier = orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = human_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_human_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = troll_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_troll_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnollish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnollish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = goblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_goblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnomish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnomish_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = dwarven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_dwarven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = kobold_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_kobold_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ruinborn_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ruinborn_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harpy_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harpy_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = halfling_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_halfling_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ogre_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ogre_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = centaur_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_centaur_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harimari_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harimari_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = hobgoblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_hobgoblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
	}
}

#Racial Admin - on primary culture change
country_event = {
	id =  racial_modifiers.5
	title =  racial_modifiers.5.t
	desc =  racial_modifiers.5.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_unmatching_administration_to_primary_culture = yes
		NOT = { has_country_flag = locked_racial_administration }
	}
	
	option = {
		name = racial_modifiers.5.a
		
		if = {
			limit = { has_any_racial_administration = yes }
		
			clear_racial_administration = yes
			
			add_country_modifier = { 
				name = restructuring_administration
				duration = 3650
			}
		}
			
		#Elven
		if = {
			limit = {
				culture_group = elven
				NOT = { has_country_modifier = elven_administration }
			}
			add_country_modifier = { 
				name = elven_administration
				duration = -1  
			}
		}
		
		#Dwarven
		else_if = {
			limit = {
				culture_group = dwarven
				NOT = { has_country_modifier = dwarven_administration }
			}
			add_country_modifier = { 
				name = dwarven_administration
				duration = -1  
			}
		}
		
		#Gnollish
		else_if = {
			limit = {
				culture_group = gnollish
				NOT = { has_country_modifier = gnollish_administration }
			}
			add_country_modifier = { 
				name = gnollish_administration
				duration = -1  
			}
		}
		
		#gnomish
		else_if = {
			limit = {
				culture_group = gnomish
				NOT = { has_country_modifier = gnomish_administration }
			}
			add_country_modifier = { 
				name = gnomish_administration
				duration = -1  
			}
		}
		
		#goblin
		else_if = {
			limit = {
				culture_group = goblin
				NOT = { has_country_modifier = goblin_administration }
			}
			add_country_modifier = { 
				name = goblin_administration
				duration = -1  
			}
		}
		
		
		#half_elven
		else_if = {
			limit = {
				culture_is_half_elven = yes
				NOT = { has_country_modifier = half_elven_administration }
			}
			add_country_modifier = { 
				name = half_elven_administration
				duration = -1  
			}
		}
		
		#half_orcish
		else_if = {
			limit = {
				culture_is_half_orcish = yes
				NOT = { has_country_modifier = half_orcish_administration }
			}
			add_country_modifier = { 
				name = half_orcish_administration
				duration = -1  
			}
		}
		
		#halfling
		else_if = {
			limit = {
				culture_group = halfling
				NOT = { has_country_modifier = halfling_administration }
			}
			add_country_modifier = { 
				name = halfling_administration
				duration = -1  
			}
		}
		
		#harpy
		else_if = {
			limit = {
				culture_group = harpy
				NOT = { has_country_modifier = harpy_administration }
			}
			add_country_modifier = { 
				name = harpy_administration
				duration = -1  
			}
		}
		
		#Human
		else_if = {
			limit = {
				culture_group_is_human = yes
				NOT = { has_country_modifier = human_administration }
			}
			add_country_modifier = { 
				name = human_administration
				duration = -1  
			}
		}
		
		#kobold
		else_if = {
			limit = {
				culture_group = kobold
				NOT = { has_country_modifier = kobold_administration }
			}
			add_country_modifier = { 
				name = kobold_administration
				duration = -1  
			}
		}
		
		#orcish
		else_if = {
			limit = {
				culture_group = orcish
				NOT = { has_country_modifier = orcish_administration }
			}
			add_country_modifier = { 
				name = orcish_administration
				duration = -1  
			}
		}
		
		#ruinborn
		else_if = {
			limit = {
				culture_group_is_ruinborn = yes
				NOT = { has_country_modifier = ruinborn_administration }
			}
			add_country_modifier = { 
				name = ruinborn_administration
				duration = -1  
			}
		}
		
		#troll
		else_if = {
			limit = {
				culture_is_troll = yes
				NOT = { has_country_modifier = troll_administration }
			}
			add_country_modifier = { 
				name = troll_administration
				duration = -1  
			}
		}
		
		#harimari
		else_if = {
			limit = {
				culture_group = harimari
				NOT = { has_country_modifier = harimari_administration }
			}
			add_country_modifier = { 
				name = harimari_administration
				duration = -1  
			}
		}
		
		#hobgoblin
		else_if = {
			limit = {
				culture_group = hobgoblin
				NOT = { has_country_modifier = hobgoblin_administration }
			}
			add_country_modifier = { 
				name = hobgoblin_administration
				duration = -1  
			}
		}
		
		#Centaur
		else_if = {
			limit = {
				culture_group = centaur
				NOT = { has_country_modifier = centaur_administration }
			}
			add_country_modifier = {
				name = centaur_administration
				duration = -1
			}
		}
		
		#Ogre
		else_if = {
			limit = {
				culture_group = ogre
				NOT = { has_country_modifier = ogre_administration }
			}
			add_country_modifier = {
				name = ogre_administration
				duration = -1
			}
		}
		#Ideally, this should be done cleaner, by making each remove_province_modifier thingy in their own if, but someone else will do that. Or me when i recover my sanity -The Pure
		hidden_effect = {
			every_owned_province = {
				update_racial_province_majority = yes
			}
		}
	}
}


#Debug - Has unmatching military? fix that shit (has the mil but no the unit)
country_event = {
	id =  racial_modifiers.6
	title =  racial_modifiers.6.t
	desc =  racial_modifiers.6.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_unmatching_military_to_unit = yes
	}
	
	#Orcish Option
	option = {
        name = racial_modifiers.1.a
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = orcish_military
			NOT = { unit_type = tech_orcish }
		}
		change_unit_type = tech_orcish
	}
	
	
	#Human Option
	option = {
        name = racial_modifiers.1.b
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = human_military
			NOT = { unit_type = tech_bulwari }
			NOT = { unit_type = tech_salahadesi }
			NOT = { unit_type = tech_cannorian }
			NOT = { unit_type = tech_gerudian }
			NOT = { unit_type = tech_raheni }
			NOT = { unit_type = tech_halessi }
			NOT = { unit_type = tech_islanders }
		}
		if = {
			limit = {
				capital_scope = { superregion = bulwar_superregion }
			}
			change_unit_type = tech_bulwari
		}
		else_if = {
			limit = {
				capital_scope = { superregion = salahad_superregion }
			}
			change_unit_type = tech_salahadesi
		}
		else_if = {
			limit = {
				capital_scope = { superregion = rahen_superregion }
			}
			change_unit_type = tech_raheni
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
				}
			}
			change_unit_type = tech_halessi
		}
		else_if = {
			limit = {
				capital_scope = { superregion = forbidden_lands_superregion }
			}
			change_unit_type = tech_islanders
		}
		else_if = {
			limit = {
				capital_scope = { superregion = gerudia_superregion }
			}
			change_unit_type = tech_gerudian
		}
		else = {
			change_unit_type = tech_cannorian
		}
	}
	
	#Elven Option
	option = {
        name = racial_modifiers.1.c
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = elven_military
			NOT = { unit_type = tech_wood_elf }
			NOT = { unit_type = tech_elven }
			NOT = { unit_type = tech_east_elven }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = deepwoods_superregion }
					primary_culture = wood_elf
					AND = {
						accepted_culture = wood_elf
						NOT = { culture_group = elven }
					}
				}
			}
			change_unit_type = tech_wood_elf
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { continent = asia }
					capital_scope = { continent = africa }
					AND = {
						OR = {
							capital_scope = { continent = north_america }
							capital_scope = { continent = south_america }
						}
						religion_group = bulwari
					}
					primary_culture = sun_elf
					primary_culture = dawn_elf
					primary_culture = desert_elf
					AND = {
						accepted_culture = sun_elf
						NOT = { culture_group = elven }
					}
					AND = {
						accepted_culture = dawn_elf
						NOT = { culture_group = elven }
					}
					AND = {
						accepted_culture = desert_elf
						NOT = { culture_group = elven }
					}
				}
			}
			change_unit_type = tech_east_elven
		}
		else = {
			change_unit_type = tech_elven
		}
	}
	
	#HalfElven Option
	option = {
        name = racial_modifiers.1.dd
        ai_chance = { factor = 100 }
		trigger = {
			has_country_flag = disabled

		}
		#change_unit_type = tech_bulwari
	}
	
	#HalfOrcish Option
	option = {
        name = racial_modifiers.1.e
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = half_orcish_military
			NOT = { unit_type = tech_cannorian }
			NOT = { unit_type = tech_gerudian }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = gerudia_superregion }
					primary_culture = grombar_half_orc
					primary_culture = grombar_orc
					primary_culture = gray_orc
					AND = {
						accepted_culture = grombar_half_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = grombar_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = gray_orc
						NOT = { culture_is_half_orcish = yes }
					}
				}
			}
			change_unit_type = tech_gerudian
		}
		else = {
			change_unit_type = tech_cannorian
		}
	}
	
	#Troll Option
	option = {
        name = racial_modifiers.1.f
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = troll_military
			NOT = { unit_type = tech_troll }
		}
		change_unit_type = tech_troll	#may need to be changed to troll maybe
	}
	
	#Gnollish Option
	option = {
        name = racial_modifiers.1.g
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = gnollish_military
			NOT = { unit_type = tech_gnollish }
		}
		change_unit_type = tech_gnollish
	}
	
	#Goblin Option
	option = {
        name = racial_modifiers.1.h
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = goblin_military
			NOT = { unit_type = tech_goblin }
		}
		change_unit_type = tech_goblin
	}
	
	#Gnomish Option
	option = {
        name = racial_modifiers.1.i
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = gnomish_military
			NOT = { unit_type = tech_gnomish }
		}
		change_unit_type = tech_gnomish
	}
	
	#Dwarven Option
	option = {
        name = racial_modifiers.1.j
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = dwarven_military
			NOT = { unit_type = tech_dwarven }
		}
		change_unit_type = tech_dwarven
	}
	
	#Kobold Option
	option = {
        name = racial_modifiers.1.k
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = kobold_military
			NOT = { unit_type = tech_kobold }
			NOT = { unit_type = tech_east_kobold }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = rahen_superregion }
				}
			}
			change_unit_type = tech_east_kobold
		}
		else = {
			change_unit_type = tech_kobold
		}
	}
	
	#Ruinborn Option
	option = {
        name = racial_modifiers.1.l
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = ruinborn_military
			NOT = { unit_type = tech_ynnic }
			NOT = { unit_type = tech_eordand }
			NOT = { unit_type = tech_kheionai }
			NOT = { unit_type = tech_taychendi }
			NOT = { unit_type = tech_north_aelantiri }
			NOT = { unit_type = tech_south_aelantiri }
		}
		if = {
			limit = {
				capital_scope = { superregion = ynn_superregion }
			}
			change_unit_type = tech_ynnic
		}
		else_if = {
			limit = {
				capital_scope = { superregion = eordand_superregion }
			}
			change_unit_type = tech_eordand
		}
		else_if = {
			limit = {
				capital_scope = { superregion = kheionai_superregion }
			}
			change_unit_type = tech_kheionai
		}
		else_if = {
			limit = {
				capital_scope = { superregion = greater_taychend_superregion }
			}
			change_unit_type = tech_taychendi
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = north_aelantir_superregion }
					capital_scope = { superregion = ruined_sea_superregion }
					capital_scope = { superregion = torn_sea_superregion }
				}
			}
			change_unit_type = tech_north_aelantiri
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = south_aelantir_superregion }
					capital_scope = { superregion = effelai_superregion }
				}
			}
			change_unit_type = tech_south_aelantiri
		}
		else = {
			change_unit_type = tech_north_aelantiri
		}
	}
	
	#Harpy Option
	option = {
        name = racial_modifiers.1.m
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = harpy_military
			NOT = { unit_type = tech_harpy }
			NOT = { unit_type = tech_east_harpy }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
				}
			}
			change_unit_type = tech_east_harpy
		}
		else = {
			change_unit_type = tech_harpy
		}
	}
	
	#Halfling Option
	option = {
        name = racial_modifiers.1.n
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = halfling_military
			NOT = { unit_type = tech_cannorian }
		}
		change_unit_type = tech_cannorian	#may need their own halfling one in the future
	}

	
	#Ogre Option
	option = {
        name = racial_modifiers.1.o
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = ogre_military
			NOT = { unit_type = tech_ogre }
			NOT = { unit_type = tech_eastern_ogre }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = south_haless_superregion }
					capital_scope = { superregion = rahen_superregion }
				}
			}
			change_unit_type = tech_eastern_ogre
		}
		else = {
			change_unit_type = tech_ogre	#may need custom one
		}
	}
	
	#Centaur Option
	option = {
        name = racial_modifiers.1.p
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = centaur_military
			NOT = { unit_type = tech_centaur }
		}
		change_unit_type = tech_centaur
	}

	
	#Harimari Option
	option = {
        name = racial_modifiers.1.q
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = harimari_military
			NOT = { unit_type = tech_harimari }
		}
		change_unit_type = tech_harimari
	}

	#Hobgoblin Option
	option = {
        name = racial_modifiers.1.r
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = hobgoblin_military
			NOT = { unit_type = tech_hobgoblin }
		}

		change_unit_type = tech_hobgoblin
	}
}


#Save primary culture
country_event = {
	id =  racial_modifiers.7
	title =  racial_modifiers.7.t
	desc =  racial_modifiers.7.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	trigger = { NOT = { has_country_flag = locked_racial_administration } }
	
	option = {
        name = racial_modifiers.1.a
        ai_chance = { factor = 100 }
		
		save_primary_culture = yes
	}
}


#Upon changing primary culture with a locked administration, change primary culture back
country_event = {
	id =  racial_modifiers.8
	title =  racial_modifiers.8.t
	desc =  racial_modifiers.8.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = locked_racial_administration
		NOT = { primary_culture = variable:my_primary_culture }
	}
	
	immediate = {
		hidden_effect = {
			export_to_variable = {
				which = temp_primary_culture
				value = primary_culture
				who = ROOT
			}
			change_primary_culture = variable:my_primary_culture
		}
	}
	
	#I understand
	option = {
        name = racial_modifiers.8.a
        ai_chance = { factor = 100 }
		if = {
			limit = { NOT = { has_country_flag = no_locked_culture_mana_exploit } }
			add_dip_power = 100
			if = {
				limit = { ai = no }
				set_country_flag = no_locked_culture_mana_exploit
			}
		}
		else = {
			custom_tooltip = locked_culture_no_exploit_tt
		}
		hidden_effect = { add_accepted_culture = variable:temp_primary_culture }
	}
}