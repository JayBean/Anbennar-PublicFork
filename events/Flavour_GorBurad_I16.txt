
namespace = flavour_gor_burad

# MT section a
# Basalt Byproducts, basalt is good for construction.
country_event = {
	id = flavour_gor_burad.1
	title = flavour_gor_burad.1.t
	desc = flavour_gor_burad.1.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {	# Great!
		name = flavour_gor_burad.1.a
		add_country_modifier = {
			name = gor_burad_basalt_byproducts_temp_buff
			duration = 7300
		}
	}
}

# Lava Rising, oh no.
country_event = {
	id = flavour_gor_burad.2
	title = flavour_gor_burad.2.t
	desc = flavour_gor_burad.2.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {
		hidden_effect = {
			set_country_flag = gor_burad_lava_rising
			set_country_flag = gor_burad_mt_b
		}
	}
	
	option = {	# Not great!
		name = flavour_gor_burad.2.a
		swap_non_generic_missions = yes
		4039 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_flowing
				duration = -1
			}
		}
	}
}

# A Lovely Situation.
country_event = {
	id = flavour_gor_burad.3
	title = flavour_gor_burad.3.t
	desc = flavour_gor_burad.3.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.3.a
		gor_burad_change_rage = { value = 2 }
	}
}

# First Borborduz event.
country_event = {
	id = flavour_gor_burad.4
	title = flavour_gor_burad.4.t
	desc = flavour_gor_burad.4.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.4.a
		
		gor_burad_change_rage = { value = -1 }
		
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_accepted = 1 }
			set_variable = { gor_burad_borborduz_royal_participation = 0 }
		}
	}
}

# The trial.
country_event = {
	id = flavour_gor_burad.5
	title = flavour_gor_burad.5.t
	desc = flavour_gor_burad.5.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.5.a
		add_stability_or_adm_power = yes
		gor_burad_change_rage = { value = -2 }
	}
}

# The reckoning.
country_event = {
	id = flavour_gor_burad.6
	title = flavour_gor_burad.6.t
	desc = flavour_gor_burad.6.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.6.a
		add_stability_or_adm_power = yes
		gor_burad_change_rage = { value = -2 }
	}
}

# MT section C
# Cavern Dwelling Dwarves.
country_event = {
	id = flavour_gor_burad.10
	title = flavour_gor_burad.10.t
	desc = flavour_gor_burad.10.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.10.a
		every_owned_province = {
			limit = {
				has_terrain = cavern
				development = 6
			}
			add_province_modifier = {
				name = gor_burad_cavern_dwelling_dwarves_temp_buff
				duration = 7300
			}
		}
	}
}

# Evacuation!
country_event = {
	id = flavour_gor_burad.11
	title = flavour_gor_burad.11.t
	desc = flavour_gor_burad.11.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {	
		hidden_effect = {
			country_event = {
				id = flavour_gor_burad.12 # Hidden help event.
				days = 180
			}
			
			if = {
				limit = {
					has_country_flag = gor_burad_shadowforge_city_flag
				}
				random_list = {
					1 = {
						4041 = { # Molten Core / Shadowforge City
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						4040 = { # Lavawater
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						2949 = { # Buradforge
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						4042 = { # Gor Depths
							save_event_target_as = evacuation_target
						}
					}
				}
			}
			else = {
				random_list = {
					3 = {
						4041 = { # Molten Core / Shadowforge City
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						4040 = { # Lavawater
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						2949 = { # Buradforge
							save_event_target_as = evacuation_target
						}
					}
					1 = {
						4042 = { # Gor Depths
							save_event_target_as = evacuation_target
						}
					}
				}			
			}
			
			gor_burad_evacuate_development = { category = tax }
			gor_burad_evacuate_development = { category = tax }
			gor_burad_evacuate_development = { category = production }
			gor_burad_evacuate_development = { category = production }
			gor_burad_evacuate_development = { category = manpower }
			gor_burad_evacuate_development = { category = manpower }
		}
	}
	
	option = { # Alright.
		name = flavour_gor_burad.11.a
		goto = event_target:evacuation_target
	}
}

# Evacuation help event.
country_event = {
	id = flavour_gor_burad.12
	title = flavour_gor_burad.12.t
	desc = flavour_gor_burad.12.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	hidden = yes
	
	trigger = {
		always = yes
	}

	immediate = {	
		if = {
			limit = {
				AND = {
					4039 = {
						development = 4
					}
					I16 = {
						NOT = {
							has_disaster = gor_burad_the_eruption
						}
					}
				}
			}
			country_event = {
				id = flavour_gor_burad.11
			}
		}
	}
	
	option = {
		ai_chance = {
			factor = 100
		}
	}
}

# Dealing with our lot.
country_event = {
	id = flavour_gor_burad.13
	title = flavour_gor_burad.13.t
	desc = flavour_gor_burad.13.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.13.a
		unlock_merc_company = {
			merc_company = merc_steam_baron_engineering_corps
			free_merc = yes
		}
	}
}

# Suppressing the Mages.
country_event = {
	id = flavour_gor_burad.14
	title = flavour_gor_burad.14.t
	desc = flavour_gor_burad.14.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.14.a
		set_estate_privilege = estate_burghers_steam_barons_suppressing_the_mages
		hidden_effect = {
			set_country_flag = estate_mages_agenda_disabled
		}
	}
}

# Retribution.
country_event = {
	id = flavour_gor_burad.15
	title = flavour_gor_burad.15.t
	desc = flavour_gor_burad.15.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 10
		}
		4093 = {
			change_controller = REB
			add_permanent_province_modifier = {
				name = partially_ruined_hold
				duration = -1
			}
			add_base_production = -3
			add_base_manpower = -3
			add_base_tax = -3
			add_devastation = 100
			change_culture = basalt_dwarf
			spawn_rebels = {
				type = nationalist_rebels
				size = 2
				culture = diamond_dwarf
			}
			spawn_rebels = {
				type = nationalist_rebels
				size = 1
				culture = diamond_dwarf
			}
			spawn_rebels = {
				type = nationalist_rebels
				size = 1
				culture = diamond_dwarf
			}
		}
	}
	
	option = {
		name = flavour_gor_burad.15.a # Kill them!
	}

	option = {
		name = flavour_gor_burad.15.b # Kill them all!
		every_owned_province = {
			limit = {
				culture = diamond_dwarf
			}
			change_culture = basalt_dwarf
			spawn_rebels = {
				type = nationalist
				size = 1
				culture = diamond_dwarf
			}
		}
	}

}

# MT section C
# The Baron's Reign.
country_event = {
	id = flavour_gor_burad.20
	title = flavour_gor_burad.20.t
	desc = flavour_gor_burad.20.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.20.a
		add_power_projection = {
			type = 25_permanent_power_projection
			amount = 25
		}
	}
}

# Suppressing the Artificers.
country_event = {
	id = flavour_gor_burad.21
	title = flavour_gor_burad.21.t
	desc = flavour_gor_burad.21.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.21.a
		set_estate_privilege = estate_burghers_steam_barons_suppressing_the_artificers
		hidden_effect = {
			set_country_flag = estate_artificers_agenda_disabled
		}
	}
}

# The Trial.
country_event = {
	id = flavour_gor_burad.22
	title = flavour_gor_burad.22.t
	desc = flavour_gor_burad.22.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.22.a
		2973 = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 2
			}			
			add_permanent_province_modifier = {
				name = damaged_hold
				duration = -1
			}
			add_base_production = -1
			add_base_manpower = -1
			add_base_tax = -1
		} 
		
		country_event = { 
			id = flavour_gor_burad.22 # The Trial
			days = 730
		} 
	}
}

# Trials complete.
country_event = {
	id = flavour_gor_burad.23
	title = flavour_gor_burad.23.t
	desc = flavour_gor_burad.23.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = gor_burad_trials_complete
		}
	}

	option = {
		name = flavour_gor_burad.23.a
		2956 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_river_2
				duration = -1
			}
		}
		2957 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_river_2
				duration = -1
			}			
		}
		2987 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_river_2
				duration = -1
			}			
		}
		2973 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}
		}
		4100 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}			
		}
		4093 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}
		}
		4238 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}
		}
		2942 = {
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}
		}
	}
}

# Fluff event, hinting at the Lava Giant.
country_event = {
	id = flavour_gor_burad.24
	title = flavour_gor_burad.24.t
	desc = flavour_gor_burad.24.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.24.a
	}
}

# Beneath Our Feet event chain.
# Excarvations begin
country_event = {
	id = flavour_gor_burad.25
	title = flavour_gor_burad.25.t
	desc = flavour_gor_burad.25.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.25.a

		gor_burad_change_rage = { value = -1 }
		country_event = {
			id = flavour_gor_burad.26
			days = 365
			random = 90
		}
	}
}

# Miner infighting
country_event = {
	id = flavour_gor_burad.26
	title = flavour_gor_burad.26.t
	desc = flavour_gor_burad.26.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.26.a

		gor_burad_change_rage = { value = 2 }
		add_manpower = -10
		4039 = {
			add_devastation = 50
		}
		country_event = {
			id = flavour_gor_burad.27
			days = 365
			random = 90
		}
	}
}

# Massive infighting
country_event = {
	id = flavour_gor_burad.27
	title = flavour_gor_burad.27.t
	desc = flavour_gor_burad.27.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.27.a

		gor_burad_change_rage = { value = 4 }
		add_yearly_manpower = -0.5
		add_stability = -1
		country_event = {
			id = flavour_gor_burad.28
			days = 365
			random = 90
		}
	}
}

# The Proposal
country_event = {
	id = flavour_gor_burad.28
	title = flavour_gor_burad.28.t
	desc = flavour_gor_burad.28.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.28.a

		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		country_event = {
			id = flavour_gor_burad.29
			days = 730
			random = 365
		}
	}
}

# The Reactor
country_event = {
	id = flavour_gor_burad.29
	title = flavour_gor_burad.29.t
	desc = flavour_gor_burad.29.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.29.a

		hidden_effect = {
			clr_country_flag = gor_burad_rage_untamed
			clr_country_flag = gor_burad_rage_harnessed
			set_country_flag = gor_burad_rage_unleashed
			
			set_country_flag = gor_burad_reactor_flag
		}
		
		custom_tooltip = gor_burad_rage_unleashed_tt
		gor_burad_change_rage = { value = 5 }
		add_country_modifier = {
			name = gor_burad_the_reactor
			duration = 3650
		}
	}
}


# Lava river widening, hidden help event.
province_event = {
	id = flavour_gor_burad.30
	title = flavour_gor_burad.30.t
	desc = flavour_gor_burad.30.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	hidden = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		every_neighbor_province = {
			limit = {
				has_province_modifier = gor_burad_lava_river_2
			}
			remove_province_modifier = gor_burad_lava_river_2
			add_permanent_province_modifier = {
				name = gor_burad_lava_river_3
				duration = -1
			}
			province_event = {
				id = flavour_gor_burad.30
				days = 90
				random = 30
			}
		}
		if = {
			limit = {
				province_id = 2987
			}
			owner = {
				country_event = {
					id = flavour_gor_burad.31
				}
			}
		}
	}

	option = {
		ai_chance = {
			factor = 100
		}
	}
}

# Lava river widening has finished.
country_event = {
	id = flavour_gor_burad.31
	title = flavour_gor_burad.31.t
	desc = flavour_gor_burad.31.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
		
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.31.a
		custom_tooltip = gor_burad_widening_the_river_done_1
		hidden_effect = {
			clr_country_flag = gor_burad_engineering_corps_unavailable			
		}
		
		add_prestige_excess_to_splendour_effect = { VAL = 200 }
		
		ai_chance = {
			factor = 100
		}
	}
}


# Disaster start.
country_event = {
	id = flavour_gor_burad.50
	title = flavour_gor_burad.50.t
	desc = flavour_gor_burad.50.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {
		custom_tooltip = gor_burad_hold_ruined
		4039 = {
			hidden_effect = {
				set_base_tax = 1
				set_base_production = 1
				set_base_manpower = 1
				
				if = {
					limit = {
						has_province_modifier = dig_5
					}
					remove_province_modifier = dig_5
					set_province_flag = had_dig_5
				}
				else_if = {
					limit = {
						has_province_modifier = dig_6
					}
					remove_province_modifier = dig_6
					set_province_flag = had_dig_6
				}
				else_if = {
					limit = {
						has_province_modifier = dig_7
					}
					remove_province_modifier = dig_7
					set_province_flag = had_dig_7
				}
				else_if = {
					limit = {
						has_province_modifier = dig_8
					}
					remove_province_modifier = dig_8
					set_province_flag = had_dig_8
				}
				else_if = {
					limit = {
						has_province_modifier = dig_9
					}
					remove_province_modifier = dig_9
					set_province_flag = had_dig_9
				}
				else_if = {
					limit = {
						has_province_modifier = dig_10
					}
					remove_province_modifier = dig_10
					set_province_flag = had_dig_10
				}
				else_if = {
					limit = {
						has_province_modifier = dig_4
					}
					remove_province_modifier = dig_4
					set_province_flag = had_dig_4
				}
				else_if = {
					limit = {
						has_province_modifier = dig_3
					}
					remove_province_modifier = dig_3
					set_province_flag = had_dig_3
				}
				else_if = {
					limit = {
						has_province_modifier = dig_2
					}
					remove_province_modifier = dig_2
					set_province_flag = had_dig_2
				}
				else_if = {
					limit = {
						has_province_modifier = dig_1
					}
					remove_province_modifier = dig_1
					set_province_flag = had_dig_1
				}
				
				set_province_flag = cannot_repair_hold
				remove_province_modifier = hold_being_restored
				
			}
			
			add_permanent_province_modifier = {
				name = ruined_hold
				duration = -1
			}
		}
		
		custom_tooltip = gor_burad_cannot_hold_borborduz
		hidden_effect = {
			clr_country_flag = gor_burad_borborduz_active
		}
		
		hidden_effect = {
			country_event = {
				id = flavour_gor_burad.56 # Hidden event in case the player gets lucky/tricky with dig completion.
				days = 180
			}
		}
	}
	
	option = {
		name = flavour_gor_burad.50.a
		add_stability = -2
		gor_burad_change_rage = { value = 3 }
		4039 = {
			cancel_construction = yes
			remove_province_modifier = gor_burad_lava_flowing
			add_permanent_province_modifier = {
				name = gor_burad_erupted
				duration = -1
			}
		}
	}
}

# We appear weak.
country_event = {
	id = flavour_gor_burad.51
	title = flavour_gor_burad.51.t
	desc = flavour_gor_burad.51.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			nationalism = 1
			NOT = {
				has_province_flag = gor_burad_nationalism_was_increased
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					nationalism = 1
				}
				save_event_target_as = province_target
				set_province_flag = gor_burad_nationalism_was_increased
			}
		}
	}
	
	option = {
		name = flavour_gor_burad.51.a
		event_target:province_target = {
			add_nationalism = 5
			remove_province_modifier = recent_uprising
		}
		gor_burad_change_rage = { value = 1 }
	}
}

# Improper administration.
country_event = {
	id = flavour_gor_burad.52
	title = flavour_gor_burad.52.t
	desc = flavour_gor_burad.52.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_capital = no
					is_state = yes
				}
				save_event_target_as = province_target
			}
		}
	}	
	
	option = {
		name = flavour_gor_burad.52.a
		event_target:province_target = {
			add_local_autonomy = 50
		}
	}

	option = {
		name = flavour_gor_burad.52.a
		event_target:province_target = {
			add_local_autonomy = 25
		}
		gor_burad_change_rage = { value = 1 }
	}
}

# This is not a hold!
country_event = {
	id = flavour_gor_burad.53
	title = flavour_gor_burad.53.t
	desc = flavour_gor_burad.53.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		capital_scope = {
			NOT = {
				OR = {
					has_terrain = dwarven_hold
					has_terrain = dwarven_hold_surface
				}
			}
		}
	}
	
	option = {
		name = flavour_gor_burad.53.a
		add_prestige = -10
		add_legitimacy = -10
		add_republican_tradition = -2.5
		add_devotion = -10
		gor_burad_change_rage = { value = 1 }
	}
}

# Clashing with the locals.
country_event = {
	id = flavour_gor_burad.54
	title = flavour_gor_burad.54.t
	desc = flavour_gor_burad.54.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		capital_scope = {
			OR = {
				has_terrain = dwarven_hold
				has_terrain = dwarven_hold_surface
			}
			NOT = {
				culture = basalt_dwarf
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			capital_scope = {
				export_to_variable = {
					variable_name = capital_culture
					value = culture
				}
			}
		}
	}
	
	option = {
		name = flavour_gor_burad.54.a
		
		capital_scope = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 2
				culture = variable:capital_culture
			}
		}
		
		gor_burad_change_rage = { value = 1 }
	}
}

# Army infighting.
country_event = {
	id = flavour_gor_burad.55
	title = flavour_gor_burad.55.t
	desc = flavour_gor_burad.55.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		check_variable = {
			which = gor_burad_raging_level
			value = 5
		}				
	}
	
	option = {
		name = flavour_gor_burad.55.a
		add_yearly_manpower	= -0.5
	}
}

country_event = {
	id = flavour_gor_burad.56
	title = flavour_gor_burad.56.t
	desc = flavour_gor_burad.56.d
	picture = {
		picture = COURT_eventPicture
	}
	
	hidden = yes
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				4039 = {
					OR = {
						has_province_modifier = dig_1
						has_province_modifier = dig_2
						has_province_modifier = dig_3
						has_province_modifier = dig_4
						has_province_modifier = dig_5
						has_province_modifier = dig_6
						has_province_modifier = dig_7
						has_province_modifier = dig_8
						has_province_modifier = dig_9
						has_province_modifier = dig_10
					}
				}
			}
			4039 = {
				if = {
					limit = {
						has_province_modifier = dig_1
					}
					remove_province_modifier = dig_1
					set_province_flag = had_dig_1
				}
				else_if = {
					limit = {
						has_province_modifier = dig_2
					}
					remove_province_modifier = dig_2
					set_province_flag = had_dig_2
				}
				else_if = {
					limit = {
						has_province_modifier = dig_3
					}
					remove_province_modifier = dig_3
					set_province_flag = had_dig_3
				}
				else_if = {
					limit = {
						has_province_modifier = dig_4
					}
					remove_province_modifier = dig_4
					set_province_flag = had_dig_4
				}
				else_if = {
					limit = {
						has_province_modifier = dig_5
					}
					remove_province_modifier = dig_5
					set_province_flag = had_dig_5
				}
				else_if = {
					limit = {
						has_province_modifier = dig_6
					}
					remove_province_modifier = dig_6
					set_province_flag = had_dig_6
				}
				else_if = {
					limit = {
						has_province_modifier = dig_7
					}
					remove_province_modifier = dig_7
					set_province_flag = had_dig_7
				}
				else_if = {
					limit = {
						has_province_modifier = dig_8
					}
					remove_province_modifier = dig_8
					set_province_flag = had_dig_8
				}
				else_if = {
					limit = {
						has_province_modifier = dig_9
					}
					remove_province_modifier = dig_9
					set_province_flag = had_dig_9
				}
				else_if = {
					limit = {
						has_province_modifier = dig_10
					}
					remove_province_modifier = dig_10
					set_province_flag = had_dig_10
				}
			}
			country_event = {
				id = flavour_gor_burad.57
				days = 1
			}
		}
	}
}

# Anti-shenanigan event.
country_event = {
	id = flavour_gor_burad.57
	title = flavour_gor_burad.57.t
	desc = flavour_gor_burad.57.d
	picture = {
		picture = COURT_eventPicture
	}
		
	fire_only_once = yes
	is_triggered_only = yes
		
	trigger = {
		always = yes
	}

	option = {
		name = flavour_gor_burad.57.a
		ai_chance = {
			factor = 100
		}
	}
}

# Disaster stop.
country_event = {
	id = flavour_gor_burad.58
	title = flavour_gor_burad.58.t
	desc = flavour_gor_burad.58.d
	picture = {
		picture = COURT_eventPicture
	}
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		clr_country_flag = gor_burad_lava_rising
	}

	option = {
		name = flavour_gor_burad.58.a
		
		4041 = {
			remove_province_modifier = gor_burad_ring_of_the_law_modifier
		}
		4039 = {
			remove_province_modifier = gor_burad_erupted
			hidden_effect = {
				remove_province_modifier = dig_1
				remove_province_modifier = dig_2
				remove_province_modifier = dig_3
				remove_province_modifier = dig_4
				
				if = {
					limit = {
						has_province_flag = had_dig_10
					}
					add_permanent_province_modifier = {
						name = dig_10
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_9
					}
					add_permanent_province_modifier = {
						name = dig_9
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_8
					}
					add_permanent_province_modifier = {
						name = dig_8
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_7
					}
					add_permanent_province_modifier = {
						name = dig_7
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_6
					}
					add_permanent_province_modifier = {
						name = dig_6
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_5
					}
					add_permanent_province_modifier = {
						name = dig_5
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_4
					}
					add_permanent_province_modifier = {
						name = dig_4
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_3
					}
					add_permanent_province_modifier = {
						name = dig_3
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_2
					}
					add_permanent_province_modifier = {
						name = dig_2
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_flag = had_dig_1
					}
					add_permanent_province_modifier = {
						name = dig_1
						duration = -1
					}
				}
			}
			custom_tooltip = gor_burad_hold_level_was_restored
			add_permanent_province_modifier = {
				name = gor_burad_lava_connection
				duration = -1
			}
			add_province_modifier = {
				name = gor_burad_disaster_reward_temp_buff
				duration = 18250
			}
		}
	}
}

# Basalt Rage events
# Hidden handler event for Basalt Rage and Borborduz.
country_event = {
	id = flavour_gor_burad.60
	title = flavour_gor_burad.60.t
	desc = flavour_gor_burad.60.d
	picture = {
		picture = COURT_eventPicture
	}
		
	hidden = yes
	
	trigger = {
		tag = I16
	}

	mean_time_to_happen = {
		months = 72
		modifier = {
			factor = 0.75
			war_exhaustion = 10
		}
		modifier = {
			factor = 0.75
			war_exhaustion = 5
		}
		modifier = {
			factor = 1.25
			stability = 1
		}
		modifier = {
			factor = 0.75
			NOT = { stability = 0 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = -2 }
		}
	}
	
	immediate = {
		hidden_effect = {
			change_variable = { 
				which = gor_burad_var_basalt_rage_event_num 
				value = 1 
			}		
		}
	}
		
	option = {	# You shouldn't see this.
		name = flavour_gor_burad.60.a
		
		ai_chance = {
			factor = 100
		}

		if = {
			limit = {
				has_country_flag = gor_burad_borborduz_active
			}
			random_list = {
				20 = {
					# Basalt Rage event
					country_event = { id = flavour_gor_burad.61 }
					
				}
				80 = {
					# Borborduz event
					country_event = { id = flavour_gor_burad.70 }
				}
			}
		}
		else = {
			country_event = { id = flavour_gor_burad.61 }
		}
	}
}

country_event = {
	id = flavour_gor_burad.61
	title = flavour_gor_burad.61.t
	desc = flavour_gor_burad.61.d
	picture = {
		picture = COURT_eventPicture
	}
	
	hidden = yes
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	mean_time_to_happen = { days = 1 }	
	
	option = {	# You shouldn't see this.
		name = flavour_gor_burad.61.a
		
		ai_chance = {
			factor = 100
		}
			
		random_list = {
			10 = { country_event = { id = flavour_gor_burad.62 } }
			10 = { country_event = { id = flavour_gor_burad.63 } }
			10 = { country_event = { id = flavour_gor_burad.64 } }
			10 = { country_event = { id = flavour_gor_burad.65 } }
			10 = { country_event = { id = flavour_gor_burad.66 } }
			10 = { country_event = { id = flavour_gor_burad.67 } }
			10 = {
				modifier = {
					factor = 0 
					is_at_war = no
				}
				modifier = {
					factor = 2
					check_variable = {
						which = gor_burad_raging_level
						value = 3
					}
				}
				modifier = {
					factor = 2
					check_variable = {
						which = gor_burad_raging_level
						value = 6
					}
				}
				modifier = {
					factor = 2
					check_variable = {
						which = gor_burad_raging_level
						value = 9
					}
				}
				country_event = { id = flavour_gor_burad.68 }
			}
			30 = { 
				modifier = {
					factor = 0
					NOT = {
						check_variable = {
							which = gor_burad_raging_level
							value = 10
						}
					}
				}
				
				country_event = { id = flavour_gor_burad.69 }
			}
		}
	}
}

# Deals going sour.
country_event = {
	id = flavour_gor_burad.62
	title = flavour_gor_burad.62.t
	desc = flavour_gor_burad.62.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Damn them!
		name = flavour_gor_burad.62.a
		
		gor_burad_change_rage = { value = 1 }
		add_country_modifier = {
			name = gor_burad_BR_deals_going_sour
			duration = 730
		}
	}
}

# Anarchist sentiment in <area>
country_event = {
	id = flavour_gor_burad.63
	title = flavour_gor_burad.63.t
	desc = flavour_gor_burad.63.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	mean_time_to_happen = { days = 1 }	

	immediate = {
		hidden_effect = {
			random_owned_area = {
				save_event_target_as = area_target
			}
		}
	}
	
	option = {	# Damn them!
		name = flavour_gor_burad.63.a
		
		gor_burad_change_rage = { value = 1 }
		event_target:area_target = {
			add_local_autonomy = 25
			add_province_modifier = {
				name = gor_burad_BR_anarchist_sentiment
				duration = 730
			}
		}
	}
}

# Army brawls.
country_event = {
	id = flavour_gor_burad.64
	title = flavour_gor_burad.64.t
	desc = flavour_gor_burad.64.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Damn them!
		name = flavour_gor_burad.64.a
		
		gor_burad_change_rage = { value = 1 }
		add_yearly_manpower = -0.5
	}
}

# Border skirmishes.
country_event = {
	id = flavour_gor_burad.65
	title = flavour_gor_burad.65.t
	desc = flavour_gor_burad.65.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Damn them!
		name = flavour_gor_burad.65.a
		
		gor_burad_change_rage = { value = 1 }
		every_neighbor_country = {
			reverse_add_aggressive_expansion = {
				who = ROOT
				value = 5
				apply_calc = no
			}
		}
	}
}

# Estate representatives attacked.
country_event = {
	id = flavour_gor_burad.66
	title = flavour_gor_burad.66.t
	desc = flavour_gor_burad.66.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Damn them!
		name = flavour_gor_burad.66.a
		
		gor_burad_change_rage = { value = 1 }
		add_estate_loyalty = {
			estate = all
			loyalty = -5
		}
	}
}

# Extrajudicial Justice in <area>
country_event = {
	id = flavour_gor_burad.67
	title = flavour_gor_burad.67.t
	desc = flavour_gor_burad.67.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	mean_time_to_happen = { days = 1 }	

	immediate = {
		hidden_effect = {
			random_owned_area = {
				save_event_target_as = area_target
			}
		}
	}
	
	option = {	# Damn them!
		name = flavour_gor_burad.67.a
		
		gor_burad_change_rage = { value = 1 }
		event_target:area_target = {
			add_province_modifier = {
				name = gor_burad_BR_extrajudicial_justice
				duration = 730
			}
		}
	}
}

# Warlust.
country_event = {
	id = flavour_gor_burad.68
	title = flavour_gor_burad.68.t
	desc = flavour_gor_burad.68.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		is_at_war = yes
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Huh. Good!
		name = flavour_gor_burad.68.a
		
		gor_burad_change_rage = { value = 1 }
		add_country_modifier = {
			name = gor_burad_BR_warlust
			duration = 730
		}
	}
}

# Raging in the Streets.
country_event = {
	id = flavour_gor_burad.69
	title = flavour_gor_burad.69.t
	desc = flavour_gor_burad.69.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		check_variable = {
			which = gor_burad_raging_level
			value = 10
		}
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Damn them!
		name = flavour_gor_burad.69.a
		
		add_stability = -1
		random_owned_province = {
			spawn_rebels = {
				type = particularist_rebels 
				size = 2
			}
		}
	}
}

# Borborduz
# Grievance difficulty should be 1-4.
# Hidden event, determines grievance.
country_event = {
	id = flavour_gor_burad.70
	title = flavour_gor_burad.70.t
	desc = flavour_gor_burad.70.d
	picture = {
		picture = COURT_eventPicture
	}
	
	hidden = yes	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = gor_burad_borborduz_active
	}
	
	mean_time_to_happen = { days = 1 }	

	immediate = {
		random_list = {
			100 = { country_event = { id = flavour_gor_burad.71 } }
			100 = { country_event = { id = flavour_gor_burad.72 } }
			100 = { country_event = { id = flavour_gor_burad.73 } }
			100 = { country_event = { id = flavour_gor_burad.74 } }
			100 = { country_event = { id = flavour_gor_burad.75 } }
			100 = { country_event = { id = flavour_gor_burad.76 } }
		}
	}
	
	option = {
		name = flavour_gor_burad.70.a
	}
}

# Grievance #1.
country_event = {
	id = flavour_gor_burad.71
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.71.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 1 Mil_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}

# Grievance #2.
country_event = {
	id = flavour_gor_burad.72
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.72.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	mean_time_to_happen = { days = 1 }	

	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 0 Dip_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}

# Grievance #3.
country_event = {
	id = flavour_gor_burad.73
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.73.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	
	}
	
	mean_time_to_happen = { days = 1 }	
	
	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 0 Adm_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}

# Grievance #4.
country_event = {
	id = flavour_gor_burad.74
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.74.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	
	}
	
	mean_time_to_happen = { days = 1 }	
	
	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 4 Mil_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}

# Grievance #5.
country_event = {
	id = flavour_gor_burad.75
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.75.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	
	}
	
	mean_time_to_happen = { days = 1 }	
	
	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 3 Dip_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}

# Grievance #6.
country_event = {
	id = flavour_gor_burad.76
	title = flavour_gor_burad.71.t
	desc = flavour_gor_burad.76.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	
	}
	
	mean_time_to_happen = { days = 1 }	
	
	option = {	# Allow.
		name = flavour_gor_burad.71.a
		hidden_effect = {
			set_variable = { gor_burad_var_borborduz_denied = 0 }
			change_variable = { gor_burad_var_borborduz_accepted = 1 }
			gor_burad_borborduz_set_fighter_scores = { challenge_difficulty = 3 Adm_challenge = yes}
		}
		
		country_event = {
			id = flavour_gor_burad.80
		}
	}

	option = {	# Deny. (Not dangerous.)
		trigger = {
			NOT = {
				check_variable = { gor_burad_var_borborduz_denied = 2 } 
			}
		}
		name = flavour_gor_burad.71.b
		
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
		}
	}
	
	option = {	# Deny. (Dangerous)
		trigger = {
			check_variable = { gor_burad_var_borborduz_denied = 2 } 
		}
		name = flavour_gor_burad.71.c
		
		custom_tooltip = gor_burad_borborduz_tt
		hidden_effect = {
			change_variable = { gor_burad_var_borborduz_denied = 1 }
			clr_country_flag = gor_burad_rage_harnessed
			clr_country_flag = gor_burad_rage_unleashed
			set_country_flag = gor_burad_rage_untamed
		}
	}
}


# Choose your fighter! 
country_event = {
	id = flavour_gor_burad.80
	title = flavour_gor_burad.80.t
	desc = flavour_gor_burad.80.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
	}
	
	immediate = {
	}
	
	after = {
		gor_burad_borborduz_clear = yes
	}
	
	option = {	# Send a bureaucrat.
		name = flavour_gor_burad.80.a
		
		gor_burad_borborduz_determine_outcome = { fighter = bureaucrat Bureaucrat = yes }
	}

	option = {	# Send my advisor.
		name = flavour_gor_burad.80.b
		
		trigger = {
			has_country_flag = gor_burad_borborduz_has_advisor
		}
		
		gor_burad_borborduz_determine_outcome = { fighter = advisor Advisor = yes }
	}

	option = {	# Send in my heir!
		name = flavour_gor_burad.80.c
		trigger = {
			heir_age = 15
		}
		
		gor_burad_borborduz_determine_outcome = { fighter = heir Heir = yes }
	}

	option = {	# I'll do it myself!
		name = flavour_gor_burad.80.e
		trigger = {
			ruler_age = 15
		}
		
		gor_burad_borborduz_determine_outcome = { fighter = ruler Ruler = yes }
	}
}


# Innovation menu events
# Hidden help event to select which innovation menu to fire.
province_event = {
	id = flavour_gor_burad.100
	title = flavour_gor_burad.100.t
	desc = flavour_gor_burad.100.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	hidden = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		owner = {
			set_country_flag = innovation_menu_open # Don't let players cheese stuff by opening multiple innovation menus at once.
		}
	
		if = {
			limit = {
				has_province_flag = gor_burad_innovation_defensive_track
			}
			province_event = {
				id = flavour_gor_burad.103 # Sub-menu for defensive innovations.
			}
		}
		else_if = {
			limit = {
				has_province_flag = gor_burad_innovation_military_track
			}
			province_event = {
				id = flavour_gor_burad.104 # Sub-menu for military innovations.
			}
		}
		else_if = {
			limit = {
				has_province_flag = gor_burad_innovation_production_track
			}
			province_event = {
				id = flavour_gor_burad.105 # Sub-menu for production innovations.
			}
		}
		else_if = {
			limit = {
				has_province_flag = gor_burad_innovation_administration_track
			}
			province_event = {
				id = flavour_gor_burad.106 # Sub-menu for administration innovations.
			}
		}
		else_if = {
			limit = {
				owner = {
					check_variable = {
						which = gor_burad_industry
						value = 40
					}
				}
			}
			province_event = {
				id = flavour_gor_burad.101 #  No innovations present.
			}
		}
		else = {
			province_event = {
				id = flavour_gor_burad.102 # Broke.
			}
		}
	}

	option = {
		name = flavour_gor_burad.100.a
	}
}

# Innovation menu, level 0
province_event = {
	id = flavour_gor_burad.101
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
		
	trigger = {
		always = yes
	}
	
	after = {
		owner = {
			clr_country_flag = innovation_menu_open
		}
	}
	
	option = {
		name = flavour_gor_burad.101.defensive
		trigger = {
			owner = { 
				has_country_flag = gor_burad_defensive_track_1 
			}
		}
		
		gor_burad_innovation_build = { track = defensive }
	}
	
	option = {
		name = flavour_gor_burad.101.military
		trigger = {
			owner = { 
				has_country_flag = gor_burad_military_track_1 
			}
		}
		
		gor_burad_innovation_build = { track = military }
	}
	
	option = {
		name = flavour_gor_burad.101.production
		trigger = {
			owner = { 
				has_country_flag = gor_burad_production_track_1 
			}
		}
		
		gor_burad_innovation_build = { track = production }
	}
	
	option = {
		name = flavour_gor_burad.101.administration
		trigger = {
			owner = { 
				has_country_flag = gor_burad_administration_track_1 
			}
		}
		
		gor_burad_innovation_build = { track = administration }
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}

# Innovation menu, level 0, broke
province_event = {
	id = flavour_gor_burad.102
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation_broke
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
		
	trigger = {
		always = yes
	}

	after = {
		owner = {
			clr_country_flag = innovation_menu_open
		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}

# Innovation menu, defensive
province_event = {
	id = flavour_gor_burad.103
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		gor_burad_innovation_set_flags = { track = defensive }
	}
	
	after = {
		gor_burad_innovation_clear_flags = yes
	}
	
	# Upgrade
	option = {
		name = flavour_gor_burad.innovation.upgrade.defensive
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_upgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_upgrade = { track = defensive }		
		}
		else = {
			gor_burad_innovation_upgrade = { track = defensive_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.upgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_upgrade

		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.upgrade.already_has_tier_3
		
		trigger = {
			has_province_flag = gor_burad_already_has_tier_3
		}
	}
	
	# Downgrade
	option = {
		name = flavour_gor_burad.innovation.downgrade
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_downgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_downgrade = { track = defensive }		
		}
		else = {
			gor_burad_innovation_downgrade = { track = defensive_hold }			
		}
	}

	option = {
		name = flavour_gor_burad.innovation.downgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_downgrade
		}
	}

	# Remove
	option = {
		name = flavour_gor_burad.innovation.remove
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_remove
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_remove = { track = defensive }		
		}
		else = {
			gor_burad_innovation_remove = { track = defensive_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.remove.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_remove
		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}

# Innovation menu, military
province_event = {
	id = flavour_gor_burad.104
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		gor_burad_innovation_set_flags = { track = military }
	}
	
	after = {
		gor_burad_innovation_clear_flags = yes
	}
	
	# Upgrade
	option = {
		name = flavour_gor_burad.innovation.upgrade.military
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_upgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_upgrade = { track = military }		
		}
		else = {
			gor_burad_innovation_upgrade = { track = military_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.upgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_upgrade

		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.upgrade.already_has_tier_3
		
		trigger = {
			has_province_flag = gor_burad_already_has_tier_3
		}
	}
	
	# Downgrade
	option = {
		name = flavour_gor_burad.innovation.downgrade
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_downgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_downgrade = { track = military }		
		}
		else = {
			gor_burad_innovation_downgrade = { track = military_hold }			
		}
	}

	option = {
		name = flavour_gor_burad.innovation.downgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_downgrade
		}
	}

	# Remove
	option = {
		name = flavour_gor_burad.innovation.remove
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_remove
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_remove = { track = military }		
		}
		else = {
			gor_burad_innovation_remove = { track = military_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.remove.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_remove
		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}

# Innovation menu, production
province_event = {
	id = flavour_gor_burad.105
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		gor_burad_innovation_set_flags = { track = production }
	}
	
	after = {
		gor_burad_innovation_clear_flags = yes
	}
	
	# Upgrade
	option = {
		name = flavour_gor_burad.innovation.upgrade.production
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_upgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_upgrade = { track = production }		
		}
		else = {
			gor_burad_innovation_upgrade = { track = production_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.upgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_upgrade

		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.upgrade.already_has_tier_3
		
		trigger = {
			has_province_flag = gor_burad_already_has_tier_3
		}
	}
	
	# Downgrade
	option = {
		name = flavour_gor_burad.innovation.downgrade
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_downgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_downgrade = { track = production }		
		}
		else = {
			gor_burad_innovation_downgrade = { track = production_hold }			
		}
	}

	option = {
		name = flavour_gor_burad.innovation.downgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_downgrade
		}
	}

	# Remove
	option = {
		name = flavour_gor_burad.innovation.remove
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_remove
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_remove = { track = production }		
		}
		else = {
			gor_burad_innovation_remove = { track = production_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.remove.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_remove
		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}

# Innovation menu, administration
province_event = {
	id = flavour_gor_burad.106
	title = flavour_gor_burad.innovation
	desc = flavour_gor_burad.innovation.d
	picture = {
		picture = COURT_eventPicture
	}
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		gor_burad_innovation_set_flags = { track = administration }
	}
	
	after = {
		gor_burad_innovation_clear_flags = yes
	}
	
	# Upgrade
	option = {
		name = flavour_gor_burad.innovation.upgrade.administration
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_upgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_upgrade = { track = administration }		
		}
		else = {
			gor_burad_innovation_upgrade = { track = administration_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.upgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_upgrade

		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.upgrade.already_has_tier_3
		
		trigger = {
			has_province_flag = gor_burad_already_has_tier_3
		}
	}
	
	# Downgrade
	option = {
		name = flavour_gor_burad.innovation.downgrade
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_downgrade
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_downgrade = { track = administration }		
		}
		else = {
			gor_burad_innovation_downgrade = { track = administration_hold }			
		}
	}

	option = {
		name = flavour_gor_burad.innovation.downgrade.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_downgrade
		}
	}

	# Remove
	option = {
		name = flavour_gor_burad.innovation.remove
		
		trigger = {
			has_province_flag = gor_burad_innovation_can_remove
		}
		
		if = {
			limit = {
				has_terrain = cavern
			}
			gor_burad_innovation_remove = { track = administration }		
		}
		else = {
			gor_burad_innovation_remove = { track = administration_hold }				
		}
	}

	option = {
		name = flavour_gor_burad.innovation.remove.broke
		
		trigger = {
			has_province_flag = gor_burad_innovation_cannot_remove
		}
	}
	
	option = {
		name = flavour_gor_burad.innovation.pass
	}
}


# Industry calcs.
country_event = {
	id = flavour_gor_burad.110
	title = flavour_gor_burad.110.t
	desc = flavour_gor_burad.110.d
	picture = {
		picture = COURT_eventPicture
	}
	
	hidden = yes
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	immediate = {
		set_variable = {
			which = gor_burad_industry_gain
			value = 1 # Base income.
		}
		
		if = {
			limit = {
				mission_completed = gor_burad_welcome_to_the_barons_playground
			}
			change_variable = {
				which = gor_burad_industry_gain
				value = 1
			}
		}

		if = {
			limit = {
				mission_completed = gor_burad_steam_baron_ascendancy
			}
			change_variable = {
				which = gor_burad_industry_gain
				value = 1
			}
		}
		
		if = {
			limit = {
				AND = {
					has_estate_privilege = estate_burghers_steam_barons_industry_encouraged 
					has_estate_privilege = estate_burghers_steam_barons_suppressing_the_artificers 
				}
			}
			multiply_variable = {
				which = gor_burad_industry_gain
				value = 2
			}

		}
		else_if = {
			limit = {
				OR = {
					has_estate_privilege = estate_burghers_steam_barons_industry_encouraged 
					has_estate_privilege = estate_burghers_steam_barons_suppressing_the_artificers 
				}
			}
			multiply_variable = {
				which = gor_burad_industry_gain
				value = 1.5
			}
		}
		
		if = {
			limit = {
				has_estate_privilege = estate_burghers_steam_barons_industry_encouraged 
			}
			change_estate_land_share = {
				estate = estate_burghers
				share = 0.083
			}
		}
		
		change_variable = {
			which = gor_burad_industry
			which = gor_burad_industry_gain
		}

		if = {
			limit = {
				has_estate_privilege = estate_burghers_steam_barons_poach_barony_engineers
			}
			change_variable = {
				which = gor_burad_industry
				value = -1
			}
		}
		
		if = {
			limit = {
				has_estate_privilege = estate_burghers_steam_barons_on_monarchs_council
			}
			change_variable = {
				which = gor_burad_industry
				value = -3
			}
		}

		if = {
			limit = {
				has_estate_privilege = estate_burghers_steam_barons_independent_governance
			}
			change_variable = {
				which = gor_burad_industry
				value = -6
			}
		}
		
		if = {
			limit = {
				NOT = {
					check_variable = {
						which = gor_burad_industry
						value = 0
					}
				}			
			}
			remove_estate_privilege = estate_burghers_steam_barons_poach_barony_engineers
			remove_estate_privilege = estate_burghers_steam_barons_on_monarchs_council
			remove_estate_privilege = estate_burghers_steam_barons_independent_governance
			
			every_owned_province = {
				limit = {
					has_province_modifier = estate_burghers_steam_baron_independent_governance_mod
				}
				remove_province_modifier = estate_burghers_steam_baron_independent_governance_mod
			}
			
		}

		country_event = { 
			id = flavour_gor_burad.110 # Fire again next month.
			days = 30
		}
	}
	
	option = {	# Hidden!
		name = flavour_gor_burad.110.a
		ai_chance = {
			factor = 100
		}
	}
}
