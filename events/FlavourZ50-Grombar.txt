
namespace = flavor_grombar

# Half-orc King of Vrorenmarch
country_event = {
	id = flavor_grombar.1
	title = flavor_grombar.1.t
	desc = flavor_grombar.1.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# Orc Path
	option = {
		name = flavor_grombar.1.a
		ai_chance = {
			factor = 5
		}
		add_ruler_modifier = {
			name = "grombar_steel_grip"				# +50% vassal income
		}
		change_mil = 1
		custom_tooltip = orc_grombar_tooltip
		hidden_effect = { set_country_flag = orc_grombar }
	}
	
	# Half-Orc Path
	option = {
		name = flavor_grombar.1.b
		ai_chance = {
			factor = 95 
		}
		add_ruler_modifier = {
			name = "grombar_legitimate_king"		# -5% liberty desire
		}
		add_accepted_culture = white_reachman
		change_dip = 1
		large_increase_of_human_tolerance_effect = yes
		largest_increase_of_half_orcish_tolerance_effect = yes
		custom_tooltip = half_orc_grombar_tooltip
		hidden_effect = { set_country_flag = half_orc_grombar }
	}
}

# New Half-Orc heir
country_event = {
	id = flavor_grombar.2
	title = flavor_grombar.2.t
	desc = flavor_grombar.2.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		tag = Z18
		ruler_culture = gray_orc
		NOT = { has_ruler_modifier = gray_orc_fearsome_conqueror }
		NOT = { has_country_flag = i_dont_want_missions }
	}
	
	# Half-Orc Son of Brasur
	option = {
		name = flavor_grombar.2.a
		ai_chance = { factor = 100 }
		define_ruler = {
			name = "Garonar"
			dynasty = "Frozenmaw"
			ADM = 3
			DIP = 3
			MIL = 5
			culture = half_orc
			fixed = yes
			age = 20
		}
		kill_heir = yes
		if = {
			limit = {
				has_dlc = "Rights of Man" 
			}
			hidden_effect = { add_ruler_personality = calm_personality }
		}
	}
	
	# Screw you, mission tree!
	option = {
		name = flavor_grombar.2.b
		ai_chance = { factor = 0 }
		custom_tooltip = i_dont_want_missions_tooltip
		set_country_flag = i_dont_want_missions
	}
}

# Annexation Demand
country_event = {
	id = flavor_grombar.3
	title = flavor_grombar.3.t
	desc = flavor_grombar.3.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# Accept integration
	option = {
		name = flavor_grombar.3.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				has_opinion = {
					who = Z50
					value = 200
				}
			}
			modifier = {
				factor = 2
				ruler_is_half_orc = yes
			}
			modifier = {
				factor = 0.5
				ruler_is_half_orc = no
			}
			modifier = {
				factor = 0.1
				NOT = {
					has_opinion = {
						who = Z50
						value = 0
					}
				}
			}
		}
		Z50 = {
			inherit = ROOT
		}
	}
	
	# Refuse
	option = {
		name = flavor_grombar.3.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_opinion = {
					who = Z50
					value = 200
				}
			}
			modifier = {
				factor = 0
				ruler_is_half_orc = yes
			}
			modifier = {
				factor = 1.9
				NOT = {
					has_opinion = {
						who = Z50
						value = 100
					}
				}
			}
		}
		add_prestige = 10
		grant_independence = yes
		Z50 = {
			declare_war_with_cb = {
				who = ROOT
				casus_belli = cb_conquest
			}
		}
	}
}

# Northern Riches
country_event = {
	id = flavor_grombar.4
	title = flavor_grombar.4.t
	desc = flavor_grombar.4.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# Furs
	option = {
		name = flavor_grombar.4.a
		trigger = {
			fur = 1
		}
		random_owned_province = {
			limit = {
				trade_goods = fur
			}
			add_base_production = 2
			add_permanent_province_modifier = {
				name = grombar_fur_trade_centre
				duration = -1
			}
		}
	}
	
	# Ivory
	option = {
		name = flavor_grombar.4.b
		trigger = {
			ivory = 1
		}
		random_owned_province = {
			limit = {
				trade_goods = ivory
			}
			add_base_production = 2
			add_permanent_province_modifier = {
				name = grombar_ivory_trade_centre
				duration = -1
			}
		}
	}
	
	# Glass
	option = {
		name = flavor_grombar.4.c
		trigger = {
			glass = 1
		}
		random_owned_province = {
			limit = {
				trade_goods = glass
			}
			add_base_production = 2
			add_permanent_province_modifier = {
				name = grombar_glass_production_centre
				duration = -1
			}
		}
	}
	
	# Gold
	option = {
		name = flavor_grombar.4.dd
		trigger = {
			gold = 1
		}
		random_owned_province = {
			limit = {
				trade_goods = gold
			}
			add_base_production = 2
			add_permanent_province_modifier = {
				name = grombar_great_golden_mine
				duration = -1
			}
		}
	}
}

# Fate of Goblins
country_event = {
	id = flavor_grombar.5
	title = flavor_grombar.5.t
	desc = flavor_grombar.5.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# Accept goblins
	option = {
		name = flavor_grombar.5.a
		largest_increase_of_goblin_tolerance_effect = yes
	}
	
	# Banish goblins
	option = {
		name = flavor_grombar.5.b
		largest_decrease_of_goblin_tolerance_effect = yes
		733 = {
			change_culture = ROOT
			change_religion = ROOT
			add_devastation = 30
		}
		734 = {
			change_culture = ROOT
			change_religion = ROOT
			add_devastation = 30
		}
		random_known_country = {
			limit = {
				primary_culture = common_goblin
				capital_scope = {
					region = west_castanor_region
				}
			}
			country_event = {
				id = flavor_grombar.6
				days = 30
			}
		}
	}
}

# Goblin Refugees!
country_event = {
	id = flavor_grombar.6
	title = flavor_grombar.6.t
	desc = flavor_grombar.6.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	# More bois!
	option = {
		name = flavor_grombar.6.a
		capital_scope = {
			add_base_tax = 2
			add_base_production = 2
			add_base_manpower = 2
		}
	}
}

# Orcish Allies?
country_event = {
	id = flavor_grombar.7
	title = flavor_grombar.7.t
	desc = flavor_grombar.7.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# Accept the Alliance
	option = {
		name = flavor_grombar.7.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				any_known_country = {
					historical_friend_with = Z18
				}
			}
		}
		add_historical_friend = Z50
		create_alliance = Z50
		if = {
			limit = {
				government = monarchy
				culture_group_is_human = yes
				Z50 = {
					government = monarchy
				}
			}
			create_marriage = Z50
		}
		Z50 = {
			country_event = {
				id = flavor_grombar.8
				days = 1
			}
		}
	}
	
	# Reject
	option = {
		name = flavor_grombar.7.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				any_known_country = {
					historical_friend_with = Z18
				}
			}
		}
		add_prestige = 5
	}
}

# Proposal accepted!
country_event = {
	id = flavor_grombar.8
	title = flavor_grombar.8.t
	desc = flavor_grombar.8.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	# Excellent!
	option = {
		name = flavor_grombar.8.a
		add_prestige = 5
		add_dip_power = 25
	}
}

# Rivalry with Gawed
country_event = {
	id = flavor_grombar.9
	title = flavor_grombar.9.t
	desc = flavor_grombar.9.d
	picture = DIPLOMACY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = Z50
		total_development = 300
		A13 = {
			total_development = 300
		}
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	# We will never be able to leave in peace with them
	option = {
		name = flavor_grombar.9.a
		medium_decrease_of_human_tolerance_effect = yes
		add_historical_rival = A13
		A13 = {
			large_decrease_of_orcish_tolerance_effect = yes
			large_decrease_of_half_orcish_tolerance_effect = yes
			add_historical_rival = ROOT
		}
	}
}

# Rivalry with Vertesk
country_event = {
	id = flavor_grombar.10
	title = flavor_grombar.10.t
	desc = flavor_grombar.10.d
	picture = DIPLOMACY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = Z50
		is_year = 1650
		216 = {
			owned_by = A23
			trade_goods = slaves
		}
	}
	
	mean_time_to_happen = {
		months = 500
	}
	
	# We will never be able to leave in peace with them
	option = {
		name = flavor_grombar.10.a
		add_historical_rival = A23
		A23 = {
			add_historical_rival = ROOT
		}
	}
}

# Rise of Temar Ironsea
country_event = {
	id = flavor_grombar.11
	title = flavor_grombar.11.t
	desc = flavor_grombar.11.d
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		tag = Z50
		is_year = 1550
		is_in_league_war = yes
		is_monarch_leader = yes
	}
	
	# He shall rule the country in these dire times
	option = {
		name = flavor_grombar.11.a
		add_stability = -2
		kill_ruler = yes
		if = {
			limit = { has_heir = yes }
			kill_heir = yes
		}
		define_ruler = {
			name = "Temar"
			dynasty = "Ironsea"
			ADM = 3
			DIP = 6
			MIL = 5
			culture = grombar_half_orc
			fixed = yes
			age = 29
		}
		define_admiral = {
			shock = 8
			fire = 4
			manuever = 8
			siege = 3
			name = "Temar Ironsea"
		}
	}
	
	# He shall serve the country as an advisor in these dire times
	option = {
		name = flavor_grombar.11.b
		add_dip_power = 200
		kill_ruler = yes
		define_advisor = {
			type = naval_reformer
			name = "Temar Ironsea"
			skill = 3
			culture = grombar_half_orc
			cost_multiplier = 0.25 
		}
		define_admiral = {
			shock = 8
			fire = 4
			manuever = 8
			siege = 3
			name = "Temar Ironsea"
		}
	}
}

# Ur Sarmozd University
country_event = {
	id = flavor_grombar.12
	title = flavor_grombar.12.t
	desc = flavor_grombar.12.d
	picture = DIPLOMACY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = Z50
		is_year = 1600
		740 = {
			owned_by = Z50
			has_building = university
		}
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	# Education is our future
	option = {
		name = flavor_grombar.12.a
		add_adm_power = 100
		740 = {
			add_base_tax = 1
			add_base_production = 1
		}
	}
}

# Dissolution of Clans
country_event = {
	id = flavor_grombar.13
	title = flavor_grombar.13.t
	desc = flavor_grombar.13.d
	picture = DIPLOMACY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = Z50
		is_year = 1525
	}
	
	mean_time_to_happen = {
		years = 50
		modifier = {
			factor = 0.8
			adm = 4
		}
		modifier = {
			factor = 0.8
			adm = 5
		}
		modifier = {
			factor = 0.8
			adm = 6
		}
	}
	
	# Dissolve them and take their lands!
	option = {
		name = flavor_grombar.13.a
		add_stability = -3
		take_estate_land_share_massive = { estate = estate_estate_monstrous_tribes }
		random_owned_province = {
			limit = { 
				culture_group = orcish 
				NOT = { has_province_modifier = grombar_clans_angered } 
			}
			add_base_tax = 3
			add_base_production = 1
			add_base_manpower = 1
			add_province_modifier = {
				name = grombar_clans_angered
				duration = 14600
			}
		}
		random_owned_province = {
			limit = { 
				culture_group = orcish 
				NOT = { has_province_modifier = grombar_clans_angered } 
			}
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_province_modifier = {
				name = grombar_clans_angered
				duration = 14600
			}
		}
		random_owned_province = {
			limit = { 
				culture_group = orcish 
				NOT = { has_province_modifier = grombar_clans_angered } 
			}
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_province_modifier = {
				name = grombar_clans_angered
				duration = 14600
			}
		}
		random_owned_province = {
			limit = { 
				culture_group = orcish 
				NOT = { has_province_modifier = grombar_clans_angered } 
			}
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_province_modifier = {
				name = "grombar_clans_angered"
				duration = 14600
			}
		}
	}
	
	# Let's negotiate some restrictions for the clans!
	option = {
		name = flavor_grombar.13.b
		add_stability = -1
		take_estate_land_share_small = { estate = estate_estate_nobles }
		add_country_modifier = {
			name = "grombar_clans_are_restricted"
			duration = -1
		}
	}
	
	# Dissolve them and take their lands!
	option = {
		name = flavor_grombar.13.c
		add_stability = 1
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 20
		}
	}
}

# Sack Vertesk
country_event = {
	id = flavor_grombar.14
	title = flavor_grombar.14.t
	desc = flavor_grombar.14.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		tag = Z50
		216 = {
			controlled_by = ROOT
			NOT = { owned_by = ROOT }
			trade_goods = slaves
		}
	}
	
	# We will never be able to leave in peace with them
	option = {
		name = flavor_grombar.10.a
		add_years_of_income = 1.0
		216 = {
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
			change_trade_goods = unknown
		}
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
	}
}

# Forced Marriage
country_event = {
	id = flavor_grombar.15
	title = flavor_grombar.15.t
	desc = flavor_grombar.15.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	# It is not like we have much choice
	option = {
		name = flavor_grombar.15.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				has_opinion = {
					who = Z18
					value = 100
				}
			}
			modifier = {
				factor = 0.1
				NOT = {
					has_opinion = {
						who = Z18
						value = 0
					}
				}
			}
		}
		if = {
			limit = {
				has_consort = yes
			}
			remove_consort = yes
			
		}
		capital_scope = {
			add_orcish_minority_size_effect = yes
			largest_increase_of_orcish_tolerance_effect = yes
		}
		create_marriage = Z18
		define_consort = {
			country_of_origin = Z18
			religion = old_dookan
			culture = gray_orc
		}
		define_heir = {
			dynasty = ROOT
			religion = old_dookan
			culture = half_orc
		}
		hidden_effect = {
			set_heir_culture = half_orc
			set_country_flag = frozenmaw_reachman_vassal
		}
	}
}

# Influx of Orcish tribesmen
country_event = {
	id = flavor_grombar.16
	title = flavor_grombar.16.t
	desc = flavor_grombar.16.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = frozenmaw_reachman_vassal
		Z18 = {
			overlord_of = ROOT
		}
		NOT = {
			all_owned_province = {
				OR = {
					has_large_orcish_minority_trigger = yes
					has_large_half_orcish_minority_trigger = yes
					AND = {
						has_orcish_minority_trigger = yes
						has_half_orcish_minority_trigger = yes
					}
				}
			}
		}
	}
	
	# Demand we cannot decline
	option = {
		name = flavor_grombar.16.a
		random_owned_province = {
			limit = { 
				NOT = {
					OR = {
						has_large_orcish_minority_trigger = yes
						has_large_half_orcish_minority_trigger = yes
						AND = {
							has_orcish_minority_trigger = yes
							has_half_orcish_minority_trigger = yes
						}
					}
				} 
			}
			add_orcish_minority_size_effect = yes
		}
	}
}

# Invasion of Crovis
country_event = {
	id = flavor_grombar.17
	title = flavor_grombar.17.t
	desc = flavor_grombar.17.d
	picture = FORT_eventPicture
	
	fire_only_once = yes

	is_triggered_only = yes
	
	trigger = {
		tag = Z18
		is_at_war = no
		is_year = 1454
		NOT = { is_year = 1500 }
	}
	
	# And they call us monsters...
	option = {
		name = flavor_grombar.17.a
		711 = {
			add_devastation = 20
			spawn_rebels = {
				type = pretender_rebels
				size = 3
				leader = "Crovis"
				leader_dynasty = "Ginnfield"
				win = yes
			}
		}
		716 = {
			add_devastation = 20
			change_controller = REB
		}
		set_global_flag = crovis_invasion
	}
}

# Visit to Corintar
country_event = {
	id = flavor_grombar.18
	title = flavor_grombar.18.t
	desc = flavor_grombar.18.d
	picture = FORT_eventPicture
	
	fire_only_once = yes

	is_triggered_only = yes
	
	trigger = {
		tag = Z18
		ruler_is_half_orc = yes
		has_country_flag = half_orc_grombar
		exists = B02
	}
	
	# Time to visit hero of the Greentide
	option = {
		name = flavor_grombar.18.a
		ai_chance = { factor = 100 }
		add_dip_power = -100
		B02 = {
			country_event = {
				id = flavor_grombar.19
				days = 15
			}
		}
	}
	
	# Better spend time developing our realm
	option = {
		name = flavor_grombar.18.b
		ai_chance = { factor = 0 }
		add_adm_power = 50
		add_mil_power = 50
	}
}

# Visit to Corintar - Lothane's reaction
country_event = {
	id = flavor_grombar.19
	title = flavor_grombar.19.t
	desc = flavor_grombar.19.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	# Welcome him and offer help
	option = {
		name = flavor_grombar.19.a
		ai_chance = { 
			factor = 90
		}
		add_prestige = -5
		add_dip_power = -50
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 10
		}
		add_country_modifier = {
			name = corintar_gray_orc_allies
			duration = 7300
		}
		Z18 = {
			country_event = {
				id = flavor_grombar.20
				days = 15
			}
		}
	}
	
	# Ask him to go home
	option = {
		name = flavor_grombar.19.b
		ai_chance = { 
			factor = 10
		}
		add_prestige = 5
		Z18 = {
			country_event = {
				id = flavor_grombar.21
				days = 15
			}
		}
	}
}

# Visit to Corintar - Success!
country_event = {
	id = flavor_grombar.20
	title = flavor_grombar.20.t
	desc = flavor_grombar.20.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	# Let's follow his example!
	option = {
		name = flavor_grombar.20.a
		ai_chance = {
			factor = 75
		}
		add_stability = -1
		add_prestige = -10
		add_historical_friend = B02
		create_alliance = B02
		add_country_modifier = {
			name = grombar_corintari_influence
			duration = 7300
		}
		set_country_flag = grombar_alliance_with_corintar
	}
}

# Visit to Corintar - Failure!
country_event = {
	id = flavor_grombar.21
	title = flavor_grombar.21.t
	desc = flavor_grombar.21.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	# Time to visit hero of the Grrentide
	option = {
		name = flavor_grombar.18.a
		add_prestige = -10
	}
}

# Half-Orc conversion
country_event = {
	id = flavor_grombar.22
	title = flavor_grombar.22.t
	desc = flavor_grombar.22.d
	picture = FORT_eventPicture
	
	fire_only_once = yes

	is_triggered_only = yes
	
	trigger = {
		tag = Z50
		has_country_flag = no_longer_monstrous
		has_country_flag = half_orc_grombar
	}
	
	# Rise of Half-Orcs
	option = {
		name = flavor_grombar.22.a
		ai_chance = { factor = 100 }
		if = {
			limit = { primary_culture = gray_orc }
			change_primary_culture = half_orc
		}
		if = {
			limit = { primary_culture = grombar_orc }
			change_primary_culture = grombar_half_orc
		}
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
	}
}

# Half-Orc province conversion
country_event = {
	id = flavor_grombar.23
	title = flavor_grombar.23.t
	desc = flavor_grombar.23.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		tag = Z50
		has_country_flag = half_orc_grombar
		culture_is_half_orcish = yes
		is_year = 1550
	}
	
	immediate = {
		random_owned_province = {
			limit = { NOT = { has_large_half_orcish_minority_trigger = yes } }
			save_event_target_as = grombar_half_orc_province
		}
	}
	
	# Rise of Half-Orcs
	option = {
		name = flavor_grombar.23.a
		event_target:grombar_half_orc_province = {
			if = {
				limit = { owner = { primary_culture = grombar_orc } }
				change_culture = grombar_half_orc
			}
			else = {
				change_culture = half_orc
			}
		}
	}
}

# Half-orc from Escann
country_event = {
	id = flavor_grombar.24
	title = flavor_grombar.24.t
	desc = flavor_grombar.24.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		OR = {
			tag = Z18
			tag = Z50
		}
		has_country_flag = grombar_alliance_with_corintar 
		NOT = { primary_culture = grombar_half_orc }
		NOT = {
			is_year = 1550
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = { NOT = { has_province_flag = grombar_escanni_half_orcs } }
			save_event_target_as = grombar_migration_province
		}
	}
	
	# Rise of Half-Orcs
	option = {
		name = flavor_grombar.24.a
		event_target:grombar_migration_province = {
			if = {
				limit = { culture_is_half_orcish = yes }
				add_base_manpower = 1
				add_base_production = 1
			}
			if = {
				limit = { has_large_half_orcish_minority_trigger = yes }
				change_culture = half_orc
				random_list = {
					50 = {
						add_base_manpower = 1
					}
					50 = {
						add_base_production = 1
					}
				}
			}
			else = {
				add_half_orcish_minority_size_effect = yes
				random_list = {
					50 = {
						add_base_manpower = 1
					}
					50 = {
						add_base_production = 1
					}
				}
			}
			if = {
				limit = {
					owner = {
						has_country_flag = removing_monstrous
					}
				}
				decrease_monstrous_1 = yes
			}
			add_province_modifier = {
				name = grombar_escanni_half_orc_migrants
				duration = 7300
			}
			set_province_flag = grombar_escanni_half_orcs
		}
	}
}

# Corin becomes popular in $province$
country_event = {
	id = flavor_grombar.25
	title = flavor_grombar.25.t
	desc = flavor_grombar.25.d
	picture = FORT_eventPicture

	is_triggered_only = yes

	trigger = {
		tag = Z18
		any_owned_province = {
			culture = half_orc
			has_province_flag = grombar_escanni_half_orcs
			NOT = { religion_group = cannorian }
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = { 
				has_province_flag = grombar_escanni_half_orcs
				religion_group = orcish
			}
			save_event_target_as = grombar_corin_worshippers_province
		}
	}
	
	# Corin Popularity
	option = {
		name = flavor_grombar.25.a
		event_target:grombar_corin_worshippers_province = {
			if = {
				limit = { is_religion_enabled = corinite }
				change_religion = corinite
			}
			else = {
				change_religion = regent_court
				set_province_flag = grombar_corin_believers
			}
			add_permanent_province_modifier = {
				name = grombar_religious_violence
				duration = 7300
			}
		}
	}
}

# Corinite Rise
country_event = {
	id = flavor_grombar.26
	title = flavor_grombar.26.t
	desc = flavor_grombar.26.d
	picture = FORT_eventPicture

	is_triggered_only = yes

	fire_only_once = yes
	
	trigger = {
		is_religion_enabled = corinite
	}
	
	# Corin Popularity
	option = {
		name = flavor_grombar.25.a
		every_owned_province = {
			limit = { 
				culture_is_half_orcish = yes
				has_province_flag = grombar_corin_believers
			}
			change_religion = corinite
			hidden_effect = {
				if = {
					limit = { has_province_modifier = grombar_religious_violence }
					remove_province_modifier = grombar_religious_violence
				}
			}
			add_permanent_province_modifier = {
				name = grombar_religious_violence
				duration = 7300
			}
		}
	}
}

# Half-orc from Escann migrate to colony
province_event = {
	id = flavor_grombar.27
	title = flavor_grombar.27.t
	desc = flavor_grombar.27.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		NOT = { is_year = 1550 }
		owner = {
			NOT = {
				primary_culture = grombar_half_orc
			}
		}
	}
	
	# Good for them, good for us
	option = {
		name = flavor_grombar.27.a
		if = {
			limit = {
				owner = {
					has_country_flag = removing_monstrous
				}
			}
			decrease_monstrous_1 = yes
		}
		add_colonysize = 1000
		change_culture = half_orc
		if = {
			limit = { is_religion_enabled = corinite }
			change_religion = corinite
		}
		else = {
			change_religion = regent_court
			set_province_flag = grombar_corin_believers
		}
		add_base_tax = 1
		add_base_production = 1
		add_base_manpower = 1
	}
}

# Crovis becomes king of Vrorenmarch
country_event = {
	id = flavor_grombar.28
	title = flavor_grombar.28.t
	desc = flavor_grombar.28.d
	picture = FORT_eventPicture

	is_triggered_only = yes

	fire_only_once = yes
	
	trigger = {
		tag = Z18
		has_ruler = "Crovis I"
	}

	immediate = {
		change_tag = Z45
	}
	
	# Human realm once again
	option = {
		name = flavor_grombar.28.a
		add_stability = -5
		change_religion = regent_court
		change_primary_culture = white_reachman
		add_country_modifier = {
			name = crovis_vrorenmarch
			duration = 3650
		}
		largest_decrease_of_orcish_tolerance_effect = yes
	}
}

# Reachmen rebel!
country_event = {
	id = flavor_grombar.29
	title = flavor_grombar.29.t
	desc = flavor_grombar.29.d
	picture = FORT_eventPicture

	fire_only_once = yes
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		Z18 = {
			overlord_of = ROOT
		}
		has_global_flag = crovis_invasion
	}
	
	# Fight for our freedom!
	option = {
		name = flavor_grombar.29.a
		trigger = {
			Z18 = {
				ai = no
			}
		}
		declare_war_with_cb = {
			who = Z18
			casus_belli = cb_independence_war
		}
		Z18 = {
			country_event = {
				id = flavor_grombar.30
				days = 1
			}
		}
	}
	
	# We will be odedient
	option = {
		name = flavor_grombar.29.b
		add_prestige = -25
	}
}

# Reachmen rebel! - Frozenmaw info-event
country_event = {
	id = flavor_grombar.30
	title = flavor_grombar.30.t
	desc = flavor_grombar.30.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	
	# Fight for our freedom!
	option = {
		name = flavor_grombar.30.a
	}
}

#################################
#	Grombari Wars of Religion	#
#################################

# At crossroad
country_event = {
	id = flavor_grombar.100
	title = flavor_grombar.100.t
	desc = flavor_grombar.100.d
	picture = FORT_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = { set_country_flag = grombar_wars_of_religion_active }
	}
	
	# Corinite teachings should guide us
	option = {
		name = flavor_grombar.100.a
		ai_chance = {
			factor = 100
		}
		if = {
			limit = { NOT = { religion_group = cannorian } }
			add_stability = -3
		}
		change_religion = corinite
		add_country_modifier = {
			name = grombar_conversion_zeal
			duration = -1
		}
	}
	
	# Stay Old Dookan
	option = {
		name = flavor_grombar.100.b
		ai_chance = {
			factor = 0
		}
		add_stability = -1
		remove_historical_friend = B02
		add_opinion = {
			who = B02
			modifier = grombar_betrayed_corin
		}
		reverse_add_opinion = {
			who = B02
			modifier = grombar_betrayed_corin
		}
		add_country_modifier = {
			name = grombar_weak_religion
			duration = -1
		}
	}
}

# The Assassination of Corinite Missionary
country_event = {
	id = flavor_grombar.101
	title = flavor_grombar.101.t
	desc = flavor_grombar.101.d
	picture = ASSASSINATION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_disaster = grombar_wars_of_religion
		capital_scope = {
			religion = corinite
		}
		NOT = { has_country_flag = grombar_corinite_missionary_is_murdered }
	}
	
	immediate = {
		set_country_flag = grombar_corinite_missionary_is_murdered
		hidden_effect = {
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = corinite
				}
				set_province_flag = corinite_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = corinite
					NOT = { has_province_flag = corinite_religious_rebels }
				}
				set_province_flag = corinite_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = corinite
					NOT = { has_province_flag = corinite_religious_rebels }
				}
				set_province_flag = corinite_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = corinite
					NOT = { has_province_flag = corinite_religious_rebels }
				}
				set_province_flag = corinite_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = corinite
					NOT = { has_province_flag = corinite_religious_rebels }
				}
				set_province_flag = corinite_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = old_dookan
				}
				set_province_flag = old_dookan_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = old_dookan
					NOT = { has_province_flag = old_dookan_religious_rebels }
				}
				set_province_flag = old_dookan_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = old_dookan
					NOT = { has_province_flag = old_dookan_religious_rebels }
				}
				set_province_flag = old_dookan_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = old_dookan
					NOT = { has_province_flag = old_dookan_religious_rebels }
				}
				set_province_flag = old_dookan_religious_rebels
			}
			random_owned_province = {
				limit = {
					superregion = gerudia_superregion
					religion = old_dookan
					NOT = { has_province_flag = old_dookan_religious_rebels }
				}
				set_province_flag = old_dookan_religious_rebels
			}
		}
	}

	option = {		# Support his assasination
		name = flavor_grombar.101.a
		ai_chance = {
			factor = 50
		}
		add_stability = -1
		add_prestige = 25
		every_owned_province = {
			limit = {
				has_province_flag = corinite_religious_rebels
			}
			spawn_rebels = {
				type = corinite_rebels
				size = 3
			}
			clr_province_flag = corinite_religious_rebels
		}
	}
	option = {		# Execute his murderers
		name = flavor_grombar.101.b
		ai_chance = { factor = 50 }
		add_stability = -1
		add_prestige = -25
		every_owned_province = {
			limit = {
				has_province_flag = old_dookan_religious_rebels
			}
			spawn_rebels = {
				type = old_dookan_rebels
				size = 3
			}
			clr_province_flag = old_dookan_religious_rebels
		}
	}
}

# Religious Fanatics
province_event = {
	id = flavor_grombar.102
	title = flavor_grombar.102.t
	desc = flavor_grombar.102.d
	picture = ANGRY_MOB_eventPicture
	
	trigger = {
		superregion = gerudia_superregion
		owner = {
			has_disaster = grombar_wars_of_religion
		}
		has_owner_religion = no
		NOT = { has_province_flag = religious_fanatics }
		NOT = { has_province_modifier = religious_violence }
		NOT = { has_province_modifier = religious_massacre }
	}
	
	is_mtth_scaled_to_size = 0.25

	mean_time_to_happen = {
		months = 120
		# Had revolt before
		modifier = {
			factor = 1.25
			has_province_flag = religious_fanatics
		}
		# Neighbor provinces
		modifier = {
			factor = 2.0
			NOT = {
				any_neighbor_province = {
					owned_by = Z50
					has_owner_religion = yes
				}
			}
		}
		modifier = {
			factor = 0.95
			any_neighbor_province = {
				owned_by = Z50
				has_owner_religion = yes
			}
		}
		# Revolt risk
		modifier = {
			factor = 0.95
			unrest = 3
		}		
		modifier = {
			factor = 0.95
			unrest = 5
		}		
		modifier = {
			factor = 0.95
			unrest = 7
		}		
		modifier = {
			factor = 0.95
			unrest = 9
		}		
		modifier = {
			factor = 0.95
			unrest = 11
		}		
		# General
		modifier = {
			factor = 0.95
			owner = {
				NOT = { stability = 0 }
			}
		}
		modifier = {
			factor = 0.95
			owner = {
				NOT = { stability = -1 }
			}
		}
		modifier = {
			factor = 0.95
			owner = {
				NOT = { stability = -2 }
			}
		}
	}
	
	immediate = {
		set_province_flag = religious_fanatics
	}

	option = {		# Encourage these attacks...
		name = flavor_grombar.102.a
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				owner = {
					religion = ROOT
				}
			}
		}
		add_devastation = 25
		add_province_modifier = {
			name = "religious_massacre"
			duration = 7300
		}
	}
	option = {		# They must be stopped
		name = flavor_grombar.102.b
		ai_chance = {
			factor = 50
		}
		spawn_rebels = {
			type = religious_rebels
			size = 3
		}
	}
}

# The Assassination of the Gray King
country_event = {
	id = flavor_grombar.103
	title = flavor_grombar.103.t
	desc = flavor_grombar.103.d
	picture = ASSASSINATION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		had_country_flag = {
			flag = grombar_wars_of_religion_active
			days = 1825
		}
		has_disaster = grombar_wars_of_religion
		government = monarchy
		has_regency = no
		is_subject = no
		ruler_religion = corinite
	}
	
	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = grombar_royal_assasin
				type = advisor
				scope = ROOT
			}
		}
	}
	
	# Corinite Ruler
	option = {
		name = flavor_grombar.103.a
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = yes
		}
		kill_ruler = yes
		add_stability = -1
		define_ruler = {
			name = "Korz"
			dynasty = "Frozenmaw"
			age = 23
			adm = 2
			dip = 6
			mil = 4
			culture = half_orc
			religion = corinite
		}
		if = {
			limit = { NOT = { religion = corinite } }
			add_stability = -1
			change_religion = corinite
			remove_country_modifier = grombar_weak_religion
			add_country_modifier = {
				name = grombar_conversion_zeal
				duration = -1
			}
		}
		set_ruler_flag = grombar_corinite_ruler
		random_owned_province = {
			limit = {
				superregion = gerudia_superregion
			}
			spawn_rebels = {
				type = pretender_rebels
				leader = "Gunk"
				leader_dynasty = "Doombringer"
				size = 3
			}
		}
	}
	
	# Old Dookan ruler
	option = {
		name = flavor_grombar.103.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = yes
		}
		kill_ruler = yes
		add_stability = -1
		define_ruler = {
			name = "Gunk"
			dynasty = "Doombringer"
			religion = old_dookan
			culture = half_orc
			adm = 4
			dip = 2
			mil = 6
		}
		set_ruler_flag = grombar_old_dookan_ruler
		if = {
			limit = { NOT = { religion = old_dookan } }
			add_stability = -1
			change_religion = old_dookan
			remove_historical_friend = B02
			remove_country_modifier = grombar_conversion_zeal
			add_country_modifier = {
				name = grombar_weak_religion
				duration = -1
			}
		}
		random_owned_province = {
			limit = {
				superregion = gerudia_superregion
			}
			spawn_rebels = {
				type = pretender_rebels
				leader = "Korz"
				leader_dynasty = "Frozenmaw"
				size = 3
			}
		}
	}
}

# Tribal Uprising
country_event = {
	id = flavor_grombar.104
	title = flavor_grombar.104.t
	desc = flavor_grombar.104.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_disaster = grombar_wars_of_religion
		religion = corinite
		any_owned_province = {
			culture = gray_orc
			religion = old_dookan
		}
		NOT = { has_country_flag = grombar_orc_tribes_revolt }
	}
	
	immediate = {
		set_country_flag = grombar_corinite_missionary_is_murdered
		hidden_effect = {
			every_owned_province = {
				limit = {
					superregion = gerudia_superregion
					culture = gray_orc
					religion = old_dookan
				}
				set_province_flag = grombar_old_dookan_tribes
			}
		}
	}

	option = {		# Unloyal savages!
		name =  flavor_grombar.104.a
		every_owned_province = {
			limit = { has_province_flag = grombar_old_dookan_tribes }
			spawn_rebels = {
				type = old_dookan_rebels
				size = 3
			}
		}
		set_country_flag = grombar_orc_tribes_revolt
	}
}

# Hidden
country_event = {
	id = flavor_grombar.105
	title = flavor_grombar.105.t
	desc = flavor_grombar.105.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	trigger = {
		has_disaster = grombar_wars_of_religion
		religion = corinite
		has_country_modifier = grombar_weak_religion
	}

	option = {		# Unloyal savages!
		name =  flavor_grombar.106.a
		remove_country_modifier = grombar_weak_religion
		add_country_modifier = {
			name = grombar_conversion_zeal
			duration = -1
		}
	}
}

# Hidden
country_event = {
	id = flavor_grombar.106
	title = flavor_grombar.106.t
	desc = flavor_grombar.106.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	trigger = {
		has_disaster = grombar_wars_of_religion
		religion = old_dookan
		has_country_modifier = grombar_conversion_zeal
	}

	option = {		# Unloyal savages!
		name =  flavor_grombar.107.a
		remove_country_modifier = grombar_conversion_zeal
		add_country_modifier = {
			name = grombar_weak_religion
			duration = -1
		}
	}
}

# Edict of Sadar
country_event = {
	id = flavor_grombar.107
	title = flavor_grombar.107.t
	desc = flavor_grombar.107.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes

	hidden = yes
	
	trigger = {
		had_country_flag = {
			flag = grombar_wars_of_religion_active
			days = 3650
		}
		has_disaster = grombar_wars_of_religion
		religion = old_dookan
		has_country_modifier = grombar_conversion_zeal
	}

	option = {		# Sign it
		name =  flavor_grombar.107.a
		add_adm_power = -200
		add_stability = 1
		add_country_modifier = {
			name = grombar_edict_of_sadar
			duration = 36500
		}
	}

	option = {		# We will not tolerate any heretics
		name =  flavor_grombar.107.b
		add_prestige = 25
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 10
		}
		add_stability = -2
	}
}

# End of Grombari Religious Wars
country_event = {
	id = flavor_grombar.200
	title = flavor_grombar.200.t
	desc = flavor_grombar.200.d
	picture = ASSASSINATION_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = { clr_country_flag = grombar_wars_of_religion_active }
	}

	# End of violence
	option = {
		name = flavor_grombar.104.a
		add_stability_or_adm_power = yes
		add_stability_or_adm_power = yes
		add_prestige = 25
		set_country_flag = grombar_wars_of_religion_ended
		if = {
			limit = { religion = corinite }
			remove_country_modifier = grombar_conversion_zeal
		}
		if = {
			limit = { religion = old_dookan }
			remove_country_modifier = grombar_weak_religion
		}
	}
}