#Funny Effelai Events

namespace = effelai_bloom
#manager event
country_event = {
	id = effelai_bloom.0
	title = effelai_bloom.0.t
	desc = effelai_bloom.0.d
	is_triggered_only = yes
	hidden = yes
	option = {
		name = effelai_bloom.0.a
		if = {
			limit = {
				has_effelai_network_flag = yes
			}
			if = { #dormancy stuff
				limit = {
					had_country_flag = {
						flag = effelai_returning_to_dormancy
						days = 300
					}
				}
				clr_country_flag = effelai_returning_to_dormancy
				set_country_flag = effelai_returning_to_dormancy
				every_owned_province = {
					effelai_dormancy_to_land = yes
				}
			}
			if = {
				limit = {
					has_country_flag = effelai_attuned_path
				}
				effelai_check_attunement_tier = yes
				if = {
					limit = { 
						has_country_flag = effelai_bloom_begin_attuning_provinces
					}
					change_variable = {
						which = effelai_bloom_attunement
						value = 2
					}
					country_event = {
						id = effelai_bloom.321
					}
					
				}
				else_if = {
					limit = { 
						has_country_flag = effelai_bloom_is_attuning
					}
					if = {
						limit = { #Attunement complete - move on to eventchain
							check_variable = {
								which = effelai_bloom_attunement
								value = 80
							}
						}
						clr_country_flag = effelai_bloom_is_attuning
						if = {
							limit = { 
								any_owned_province = {
									is_effelai_network_hub = yes
								}
							}
							country_event = {
								id = effelai_bloom.311 #mages can now begin studying the hub itself
								days = 10
							}
						}
						else = {
							country_event = {
								id = effelai_bloom.312 #you need a hub to continue
								days = 10
							}
						}
					}
					change_variable = {
						which = effelai_bloom_attunement
						value = 1
					}
					random_list = {
						85 = {
							#nothing!
						}
						5 = {
							#invest in mages
							country_event = {
								id = effelai_bloom.305
								days = 10
							}
						}
						5 = {
							#invest in artificery
							country_event = {
								id = effelai_bloom.306
								days = 10
							}
						}
						5 = {
							#mage ruler has questionable character
							country_event = {
								id = effelai_bloom.307
								days = 10
							}
						}
					}
				}
				else_if = {
					limit = { 
						has_country_flag = effelai_attuning_requires_hub
					}
					if = {
						limit = { 
							any_owned_province = {
								is_effelai_network_hub = yes
							}
						}
						country_event = {
							id = effelai_bloom.311 #mages can now begin studying the hub itself
							days = 10
						}
						clr_country_flag = effelai_attuning_requires_hub
					}
				}
				else_if = { 
					limit = { 
						has_country_flag = effelai_bloom_is_studying_attunement
					}
					random_list = { #will experience slightly more than 5 events over the course of studying
						70 = {		#or slightly less than 6 if using artificer help
							#nothing happens
							modifier = {
								factor = 0.5
								has_country_flag = effelai_studying_artificers_helping
							}
						}
						5 = { #mages irritate effelai
							country_event = {
								id = effelai_bloom.313
								days = 10
							}
						}
						5 = { #seedthrall attacks during study
							country_event = {
								id = effelai_bloom.314
								days = 10
							}
						}
						5 = { #great beasts attack during study
							country_event = {
								id = effelai_bloom.315
								days = 10
							}
						}
						5 = { #mage catastrophe
							country_event = {
								id = effelai_bloom.316
								days = 10
							}
						}
						5 = { #study effort gets seedthralled
							country_event = {
								id = effelai_bloom.317
								days = 10
							}
						}
					}
				}
			}
			if = { #bloom pulse events
				limit = {
					has_country_modifier = effelai_bloom_in_progress
				}
				random_list = {
					#General Events
					80 = {
						#There should be only a 25% chance of an event occuring, so divide 25 by the number of events, then give them that chance ^ If numbers get wonky just increase 400 with a 300/100 split
						#random_list = {	
						#	150 = {
								modifier = {
									factor = 0.5
									has_country_modifier = blooming_no_event
								}
								
								add_country_modifier = {
									name = blooming_no_event
									duration = 365
									hidden = yes
								}
						#	}
						#}
					}
					#Region Specific Events
					20 = {
						random_list = {
							#Nothing Happens
							75 = {
								modifier = {
									factor = 0.5
									has_country_modifier = blooming_no_event
								}
							
								add_country_modifier = {
									name = blooming_no_event
									duration = 365
									hidden = yes
								}
							}
							#Soruinic Events
							3 = {
								trigger = {
									has_country_flag = effelai_has_soruin_province
								}
							}
							#Leechdens Events
							3 = {
								trigger = {
									has_country_flag = effelai_has_leechdens_province
								}
							}
							#East Effelai Events
							4 = {
								trigger = {
									has_country_flag = effelai_has_east_effelai_province
								}
							}
							#Dry Coast Events
							2 = {
								trigger = {
									has_country_flag = effelai_has_dry_coast_province
								}
							}
							#South Effelai Events
							5 = {
								trigger = {
									has_country_flag = effelai_has_south_effelai_province
								}
							}
							#Mushroom Forest Events
							3 = {
								trigger = {
									has_country_flag = effelai_has_mushroom_forest_province
								}
							}
							#West Effelai Events
							3 = {
								trigger = {
									has_country_flag = effelai_has_west_effelai_province
								}
							}
						}
					}
				}
			}
			if = {#Effelai Burn region manager
				limit = {
					has_country_flag = effelai_is_burning_region
				}
				if = {
					limit = {
						has_country_flag = effelai_is_burning_east_effelai
					}
					effelai_bloom_check_burn = {
						REGION = east_effelai_region
						BURNFLAG = effelai_is_burning_east_effelai
						GLOBFLAG = effelai_east_effelai_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_east_effelai_burned
						}
						country_event = {
							id = effelai_bloom.411
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = effelai_is_burning_dry_coast
					}
					effelai_bloom_check_burn = {
						REGION = dry_coast_region
						BURNFLAG = effelai_is_burning_dry_coast
						GLOBFLAG = effelai_dry_coast_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_dry_coast_burned
						}
						country_event = {
							id = effelai_bloom.412
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = effelai_is_burning_south_effelai
					}
					effelai_bloom_check_burn = {
						REGION = south_effelai_region
						BURNFLAG = effelai_is_burning_south_effelai
						GLOBFLAG = effelai_south_effelai_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_south_effelai_burned
						}
						country_event = {
							id = effelai_bloom.413
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = effelai_is_burning_west_effelai
					}
					effelai_bloom_check_burn = {
						REGION = west_effelai_region
						BURNFLAG = effelai_is_burning_west_effelai
						GLOBFLAG = effelai_west_effelai_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_west_effelai_burned
						}
						country_event = {
							id = effelai_bloom.414
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = effelai_is_burning_soruin
					}
					effelai_bloom_check_burn = {
						REGION = soruin_region
						BURNFLAG = effelai_is_burning_soruin
						GLOBFLAG = effelai_soruin_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_soruin_burned
						}
						country_event = {
							id = effelai_bloom.415
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = effelai_is_burning_leechdens
					}
					effelai_bloom_check_burn = {
						REGION = leechdens_region
						BURNFLAG = effelai_is_burning_leechdens
						GLOBFLAG = effelai_leechdens_burned
					}
					if = {
						limit = {
							has_global_flag = effelai_leechdens_burned
						}
						country_event = {
							id = effelai_bloom.416
						}
					}
				}
				if = {
					limit = {
						has_country_flag = effelai_burn_failed_to_rebels
					}
					clr_country_flag = effelai_burn_failed_to_rebels
					country_event = {
						id = effelai_bloom.421
					}
				}
				else_if = {
					limit = { 
						has_country_flag = effelai_burn_beginevents
					}
					clr_country_flag = effelai_burn_beginevents
					set_country_flag = effelai_burn_started_eventchain
					country_event = {
						id = effelai_bloom.431
						days = 30
					}
				}
			}
		}
	}
}
#Dormant Intro Event
country_event = {
	id = effelai_bloom.1
	title = effelai_bloom.1.t
	desc = effelai_bloom.1.d
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				has_province_modifier = effelai_roots_dormant
				has_province_modifier = effelai_hub_dormant
			}
		}
	}
	
	#Just an Intro "ok"
	option = {
		name = effelai_bloom.1.a
		
	}
}
#Effelai Blooming Event
country_event = {
	id = effelai_bloom.2
	title = effelai_bloom.2.t
	desc = effelai_bloom.2.d
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_global_flag = effelai_blooming_over
		}
	}
	
	fire_only_once = yes
	
	major = yes
	
	immediate = {
		hidden_effect = {
			effelai_superregion = {
				if = {
					limit = {
						has_province_modifier = effelai_roots_dormant
					}
					remove_province_modifier = effelai_roots_dormant
					add_permanent_province_modifier = {
						name = effelai_roots_blooming
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_province_modifier = effelai_hub_dormant
					}
					remove_province_modifier = effelai_hub_dormant
					add_permanent_province_modifier = {
						name = effelai_hub_blooming
						duration = -1
					}
				}
			}
			set_global_flag = effelai_blooming_happening
			1804 = {
				set_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			set_global_flag = effelai_dry_coast_burned
			#For tags with their capital in the Effelai - And not colonies
			every_country = {
				if = {
					limit = {
						OR = {
							tag = G15
							tag = G16
							tag = G17
							tag = G18
							tag = G19
							tag = G20
						}
						religion_group = effelai
					}
					set_country_flag = effelai_bloom_native_tribe
					add_country_modifier = {
						name = effelai_bloom_in_progress
						duration = -1
					}
				}
				else_if = {
					limit = {
						AND = {
							is_subject = no 
							capital_scope = {
								superregion = effelai_superregion
							}
							any_owned_province = {
								OR = {
									has_province_modifier = effelai_hub_blooming
									has_province_modifier = effelai_roots_blooming
									has_province_modifier = effelai_hub_burned
									has_province_modifier = effelai_roots_burned
								}
							}
						}
					}
					add_country_modifier = {
						name = effelai_bloom_in_progress
						duration = -1
					}
					country_event = {
						id = effelai_bloom.3
						days = 180
					}
				}
				#Colonial Nation Check
				else_if = {
					limit = {
						is_subject = yes
						overlord = {
							NOT = {
								ai = no
							}
						}

						capital_scope = {
							superregion = effelai_superregion
						}
						
						any_owned_province = {
							OR = {
								has_province_modifier = effelai_hub_blooming
								has_province_modifier = effelai_roots_blooming
								has_province_modifier = effelai_hub_burned
								has_province_modifier = effelai_roots_burned
							}
						}
					}
					add_country_modifier = {
						name = effelai_bloom_in_progress
						duration = -1
					}
					country_event = {
						id = effelai_bloom.6
						days = 180
					}
				}
				#Non-Colonial Nation Check
				else_if = {
					limit = {
						AND = {
							is_subject = no 
							NOT = {
								capital_scope = {
									superregion = effelai_superregion
								}
							}
							NOT = {
								OR = {
									has_subject_of_type = colony
									has_subject_of_type = crown_colony
									has_subject_of_type = private_enterprise
									has_subject_of_type = self_governing_colony
								}
							}
							any_owned_province = {
								OR = {
									has_province_modifier = effelai_hub_blooming
									has_province_modifier = effelai_roots_blooming
									has_province_modifier = effelai_hub_burned
									has_province_modifier = effelai_roots_burned
								}
							}
						}
					}
					add_country_modifier = {
						name = effelai_bloom_in_progress
						duration = -1
					}
					country_event = {
						id = effelai_bloom.6
						days = 180
					}
				}
				#Colonial Overlord Event - Is Player
				else_if = {
					limit = {
						ai = no
						is_subject = no 
						NOT = {
							capital_scope = {
								superregion = effelai_superregion
							}
						}
						
						OR = {
							has_subject_of_type = colony
							has_subject_of_type = crown_colony
							has_subject_of_type = private_enterprise
							has_subject_of_type = self_governing_colony
						}

						any_subject_country = {
							any_owned_province = {
								OR = {
									has_province_modifier = effelai_hub_blooming
									has_province_modifier = effelai_roots_blooming
									has_province_modifier = effelai_hub_burned
									has_province_modifier = effelai_roots_burned
								}
							}
						}
					}
					country_event = {
						id = effelai_bloom.5
						days = 365
					}
					if = {
						limit = {
							any_owned_province = {
								OR = {
									has_province_modifier = effelai_hub_blooming
									has_province_modifier = effelai_roots_blooming
									has_province_modifier = effelai_hub_burned
									has_province_modifier = effelai_roots_burned
								}
							}
						}
						country_event = {
							id = effelai_bloom.6
							days = 180
						}
					}
				}
			}
		}
	}
	
	
	#Very bad moment
	option = {
		name = effelai_bloom.2.a
		trigger = {
			NOT = {
				has_country_flag = effelai_bloom_native_tribe
			}
		}
		
	}
	#Effelai Tribe - Our Goddess Mad
	option = {
		name = effelai_bloom.2.b
		trigger = {
			has_country_flag = effelai_bloom_native_tribe
		}
		
		country_event = {
			id = effelai_bloom.4
			days = 180
		}
	}
}

#Effelai Blooming Regular Choice Event
country_event = {
	id = effelai_bloom.3
	title = effelai_bloom.3.t
	desc = effelai_bloom.3.d
	
	is_triggered_only = yes
	
	
	#Attuned Path
	option = { 
		name = effelai_bloom.3.a
		trigger = {
			capital_scope = {
				is_effelai_network_province = yes
			}
		}
		set_country_flag = effelai_attuned_path
		add_country_modifier = {
			name = effelai_attuning_path
			duration = -1
		}
		country_event = {
			id = effelai_bloom.301
			days = 95
		}
	}
	
	#Burned Path
	option = {
		name = effelai_bloom.3.b
		set_variable = {
			which = effelai_regions_burned
			value = 0
		}
		set_country_flag = effelai_burned_path
	}
	option = { #Attuned Path - for those who are not currently eligible
		name = effelai_bloom.3.c
		trigger = {
			capital_scope = {
				NOT = {
					is_effelai_network_province = yes
				}
			}
		}
		set_country_flag = effelai_wants_attuned_path
	}
}
#Effelai Blooming Native Self Trigger
country_event = {
	id = effelai_bloom.4
	title = effelai_bloom.4.t
	desc = effelai_bloom.4.d
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			religion = senanset
			religion = song_servants
			religion = chahinanito
			religion = tswohvwohii
		}
	}
	
	#Attuned Path
	option = {
		name = effelai_bloom.4.a
		ai_chance = {
			factor = 20
		}
		set_country_flag = effelai_attuned_path
	}
	
	#Burned Path
	option = {
		name = effelai_bloom.4.b
		ai_chance = {
			factor = 80
		}
		trigger = {
			NOT = {
				has_country_flag = effelai_no_burn
			}
		}
		set_variable = {
			which = effelai_regions_burned
			value = 0
		}
		set_country_flag = effelai_burned_path
	}
}
#Effelai Bloom Info Event(Overlord Picks Path for colony)
country_event = {
	id = effelai_bloom.5
	title = effelai_bloom.5.t
	desc = effelai_bloom.5.d
	
	is_triggered_only = yes
	
	#Attuned Path
	option = {
		name = effelai_bloom.5.a
		ai_chance = {
			factor = 20
		}
		set_country_flag = effelai_wants_attuned_path
		every_subject_country = {
			limit = {
				has_effelai_network_province = yes
			}
			set_country_flag = effelai_attuned_path
			add_country_modifier = {
				name = effelai_attuning_path
				duration = -1
			}
			country_event = {
				id = effelai_bloom.301
				days = 95
			}
		}
	}
	
	#Burned Path
	option = {
		name = effelai_bloom.5.b
		ai_chance = {
			factor = 80
		}
		set_country_flag = effelai_wants_burned_path
		every_subject_country = {
			limit = {
				has_effelai_network_province = yes
			}
			set_country_flag = effelai_burned_path
			set_variable = {
				which = effelai_regions_burned
				value = 0
			}
		}
	}
}
#Effelai Bloom Info Event(Bypass)
country_event = {
	id = effelai_bloom.6
	title = effelai_bloom.6.t
	desc = effelai_bloom.6.d
	
	is_triggered_only = yes
	
	trigger = {
		
	}
	
	#Ignore the system option
	option = {
		name = effelai_bloom.6.a
		
		add_stability = -1
		set_country_flag = effelai_ignore_blooming_bypass #delete this?
		hidden_effect = {
			country_event = {
				id = effelai_bloom.90
				days = 7300
			}
		}
	}
}
country_event = { #owned land returns to dormancy
	id = effelai_bloom.90
	title = effelai_bloom.90.t
	desc = effelai_bloom.90.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.90.a
		hidden_effect = {
			every_owned_province = {
				effelai_dormancy_to_land = yes
			}
			set_country_flag = effelai_returning_to_dormancy
		}
	}
}
country_event = { #attunement event chain begin
	id = effelai_bloom.301
	title = effelai_bloom.301.t
	desc = effelai_bloom.301.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.301.a #don't care
		add_prestige = 25
		hidden_effect = {
			country_event = {
				id = effelai_bloom.309
				days = 1825
			}
		}
	}
	option = {
		name = effelai_bloom.301.b #sure, we'll talk
		hidden_effect = {
			country_event = {
				id = effelai_bloom.308
				days = 65
			}
		}
	}
}
country_event = {#invest in mages
	id = effelai_bloom.305
	title = effelai_bloom.305.t
	desc = effelai_bloom.305.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.305.a
		hidden_effect = {
			change_variable = {
				which = effelai_bloom_attunement
				value = 10
			}
		}
		add_years_of_income = -0.2
		add_adm_power = -100
		add_dip_power = -100
	}
	option = {
		name = effelai_bloom.305.b
		add_prestige = -1
	}
}
country_event = { #invest in artificers
	id = effelai_bloom.306
	title = effelai_bloom.306.t
	desc = effelai_bloom.306.d
	is_triggered_only = yes
	trigger = {
		has_country_flag = effelai_studying_artificers_helping
	}
	option = {
		name = effelai_bloom.306.a
		hidden_effect = {
			change_variable = {
				which = effelai_bloom_attunement
				value = 10
			}
		}
		add_years_of_income = -1
		add_dip_power = -25
		add_adm_power = -25
	}
	option = {
		name = effelai_bloom.306.b
		add_prestige = -1
	}
}
country_event = { #mage ruler speeds research
	id = effelai_bloom.307
	title = effelai_bloom.307.t
	desc = effelai_bloom.307.d
	is_triggered_only = yes
	trigger = {
		ruler_has_mage_personality = yes
	}
	option = {
		name = effelai_bloom.307.a
		hidden_effect = {
			change_variable = {
				which = effelai_bloom_attunement
				value = 10
			}
		}
		add_manpower = -1
		add_mil_power = -100
		#infamy effect?
	}
	option = {
		name = effelai_bloom.307.b
		add_prestige = -1
	}
}
country_event = { #event chain - natives explain the effelai
	id = effelai_bloom.308
	title = effelai_bloom.308.t
	desc = effelai_bloom.308.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.308.a
		hidden_effect = {
			country_event = {
				id = effelai_bloom.310
				days = 65
			}
		}
	}
}
country_event = { 
	id = effelai_bloom.309 #reapproach natives - they are salty now though
	title = effelai_bloom.309.t
	desc = effelai_bloom.309.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.309.a
		hidden_effect = {
			country_event = {
				id = effelai_bloom.310
				days = 65
			}
		}
	}
}
country_event = { #mages begin search
	id = effelai_bloom.310
	title = effelai_bloom.310.t
	desc = effelai_bloom.310.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_variable = {
				which = effelai_bloom_attunement
				value = 0
			}
			set_country_flag = effelai_bloom_is_attuning
		}
	}
	option = { #
		name = effelai_bloom.310.a
		
	}
}
country_event = { #mages want to study hub
	id = effelai_bloom.311
	title = effelai_bloom.311.t
	desc = effelai_bloom.311.d
	is_triggered_only = yes
	immediate = {
		set_country_flag = effelai_bloom_is_studying_attunement
	}
	option = {
		name = effelai_bloom.311.a
		random_owned_province = {
			limit = {
				is_effelai_network_hub = yes
			}
			add_building_construction = {
				building = mage_tower
				cost = 0.5
				speed = 0.25
			}
			set_province_flag = effelai_attuning_study_hub
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = 10
		}
		hidden_effect = {
			country_event = {
				id = effelai_bloom.318
				days = 3650
			}
		}
	}
	option = { #artificers want to help, too
		name = effelai_bloom.311.b
		trigger = {
			has_estate = estate_artificers
		}
		add_dip_power = -50
		add_mil_power = -50
		set_country_flag = effelai_studying_artificers_helping
		random_owned_province = {
			limit = {
				is_effelai_network_hub = yes
			}
			add_building_construction = {
				building = workshop
				cost = 2
				speed = 0.5
			}
			set_province_flag = effelai_attuning_study_hub
		}
		add_estate_loyalty = {
			estate = estate_artificers
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = -10
		}
		hidden_effect = {
			country_event = {
				id = effelai_bloom.318
				days = 2555
			}
		}
	}
}
country_event = { #mages require hub.
	id = effelai_bloom.312
	title = effelai_bloom.312.t
	desc = effelai_bloom.312.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.312.a
		set_country_flag = effelai_attuning_requires_hub
		hidden_effect = {
			capital_scope = {
				region = { 
					if = {
						limit = { 
							is_effelai_network_hub = yes
						}
						add_claim = ROOT
					}
				}
			}
		}
	}
}
country_event = { #mages irritate the effelai
	id = effelai_bloom.313
	title = effelai_bloom.313.t
	desc = effelai_bloom.313.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.313.a
		random_owned_province = {
			limit = {
				has_province_flag = effelai_attuning_study_hub
			}
			add_devastation = 33
				random_list = {
					16 = {
						add_base_tax = -1
					}
					16 = {
						add_base_production = -1
					}
					16 = {
						add_base_manpower = -1
					}
					50 = {

					}
				}
			every_neighbor_province = {
				limit = {
					owned_by = ROOT
				}
				add_devastation = 33
				random_list = {
					16 = {
						add_base_tax = -1
					}
					16 = {
						add_base_production = -1
					}
					16 = {
						add_base_manpower = -1
					}
					50 = {

					}
				}
			}
		}
	}
}
country_event = { #seedthrall attack during studying
	id = effelai_bloom.314
	title = effelai_bloom.314.t
	desc = effelai_bloom.314.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = {
						has_province_flag = effelai_seedthrall_attack_tempflag
						has_province_flag = effelai_attuning_study_hub
					}
					is_effelai_network_province = yes
				}
				set_province_flag = effelai_seedthrall_attack_tempflag
			}
			random_owned_province = {
				limit = {
					NOT = {
						has_province_flag = effelai_seedthrall_attack_tempflag
						has_province_flag = effelai_attuning_study_hub
					}
					is_effelai_network_province = yes
				}
				set_province_flag = effelai_seedthrall_attack_tempflag
			}
			random_owned_province = {
				limit = {
					NOT = {
						has_province_flag = effelai_seedthrall_attack_tempflag
						has_province_flag = effelai_attuning_study_hub
					}
					is_effelai_network_province = yes
				}
				set_province_flag = effelai_seedthrall_attack_tempflag
			}
			if = {
				limit = {
					has_country_flag = effelai_studying_artificers_helping
				}
				random_owned_province = {
					limit = {
						NOT = {
							has_province_flag = effelai_seedthrall_attack_tempflag
							has_province_flag = effelai_attuning_study_hub
						}
						is_effelai_network_province = yes
					}
					set_province_flag = effelai_seedthrall_attack_tempflag
				}
			}
		}
	}
	option = {
		name = effelai_bloom.314.a
		every_province = {
			if = {
				limit = { 
					has_province_flag = effelai_seedthrall_attack_tempflag
				}
				spawn_rebels = {
					size = 4
					type = song_servant_ambusher_rebels
				}
				clr_province_flag = effelai_seedthrall_attack_tempflag
			}
			if = {
				limit = {
					has_province_flag = effelai_attuning_study_hub
				}
				spawn_rebels = {
					size = 6
					type = song_servant_ambusher_rebels
				}
			}
		}
	}
}
country_event = { #great beasts attack hub
	id = effelai_bloom.315
	title = effelai_bloom.315.t
	desc = effelai_bloom.315.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.315.a
		random_owned_province = {
			limit = {
				has_province_flag = effelai_attuning_study_hub
			}
			spawn_rebels = {
				size = 7
				type = effelai_beast_rebels
			}
		}
	}
}
country_event = { #mage catastrophe
	id = effelai_bloom.316
	title = effelai_bloom.316.t
	desc = effelai_bloom.316.d
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = effelai_bloom_is_studying_mage_catastrophe
		}
	}
	immediate = {
		set_country_flag = effelai_bloom_is_studying_mage_catastrophe
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = effelai_attuning_study_hub
				}
				add_devastation = 50
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
					}
					add_devastation = 25
				}
			}
		}
	}
	option = {
		name = effelai_bloom.316.a
		add_dip_power = -100
	}
	option = {
		name = effelai_bloom.316.b
		add_adm_power = -100
	}
}
country_event = { #mages get songservanted
	id = effelai_bloom.317
	title = effelai_bloom.317.t
	desc = effelai_bloom.317.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.317.a
		random_owned_province = {
			limit = {
				has_province_flag = effelai_attuning_study_hub
			}
			spawn_rebels = {
				type = song_servant_ambusher_rebels
				size = 3
			}
			add_devastation = 25
			random_list = {
				33 = {
					add_base_tax = -1
				}
				33 = {
					add_base_production = -1
				}
				33 = {
					add_base_manpower = -1
				}
			}
		}
	}
}
country_event = { #mages make a breakthrough
	id = effelai_bloom.318
	title = effelai_bloom.318.t
	desc = effelai_bloom.318.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.318.a
		clr_country_flag = effelai_studying_artificers_helping
		clr_country_flag = effelai_bloom_is_studying_attunement
		country_event = {
			id = effelai_bloom.320
			days = 365
		}
	}
}
#Effelai Attunement Path Events
country_event = { #you can now begin attuning your land to the effelai
	id = effelai_bloom.320
	title = effelai_bloom.320.t
	desc = effelai_bloom.320.d
	is_triggered_only = yes
	option = {
		name = effelai_bloom.420.a
		set_country_flag = effelai_bloom_begin_attuning_provinces
		set_variable = {
			which = effelai_bloom_attunement
			value = 0
		}
		
		every_owned_province = {
			limit = {
				has_province_flag = effelai_attuning_study_hub
			}
			clr_province_flag = effelai_attuning_study_hub
		}
		
		capital_scope = {
			if = {
				limit = { 
					is_effelai_network_root = yes
					NOT = {
						is_island = yes
					}
				}
				effelai_bloom_remove_roots = yes
				add_permanent_province_modifier = {
					name = effelai_roots_attuned
					duration = -1
				}
			}
			else_if = {
				limit = { 
					is_effelai_network_hub = yes
				}
				effelai_bloom_remove_hub = yes
				add_permanent_province_modifier = {
					name = effelai_hub_attuned
					duration = -1
				}
			}
			else = {
				ROOT = { #dunno if you should be even able to do this if your capital isnt in the effelai?
					random_owned_province = {
						limit = {
							is_effelai_network_hub = yes
						}
						effelai_bloom_remove_hub = yes
						add_permanent_province_modifier = {
							name = effelai_hub_attuned
							duration = -1
						}
					}
				}
			}
		}
	}
}
country_event = { #event that spreads attunement

	id = effelai_bloom.321
	title = effelai_bloom.321.t
	desc = effelai_bloom.321.d
	is_triggered_only = yes
	hidden = yes
	option = {
		name = effelai_bloom.321
		while = {
			limit = {
				check_variable = {
					which = effelai_bloom_attunement
					value = 1
				}
			}
			if = {
				limit = { 
					any_owned_province = {
						NOT = {
							is_effelai_network_attuned = yes
						}
						is_effelai_network_province = yes
					}
				}
				if = {
					limit = { #spread to a random marked province
						any_owned_province = {
							has_province_modifier = effelai_province_is_attuning
						}
					}
					random_owned_province = {
						limit = {
							has_province_modifier = effelai_province_is_attuning
						}
						remove_province_modifier = effelai_province_is_attuning
						effelai_attune_province = yes
						owner = {
							change_variable = {
								which = effelai_bloom_attunement
								value = -1
							}
						}
					}
				}
				else = { #if no more provinces are marked, mark every eligible province
					set_country_flag = effelai_bloom_has_not_marked_province
					every_owned_province = {
						if = {
							limit = {
								NOT = {
									is_effelai_network_attuned = yes
								}
								is_effelai_network_province = yes
								any_neighbor_province = {
									is_effelai_network_attuned = yes
								}
							}
							owner = {
								clr_country_flag = effelai_bloom_has_not_marked_province
							}
							add_province_modifier = {
								name = effelai_province_is_attuning
								duration = -1
							}
						}
					}
					if = { #Disconnected lands. move on to colonizing
						limit = { 
							has_country_flag = effelai_bloom_has_not_marked_province
						}
						clr_country_flag = effelai_bloom_has_not_marked_province
						if = { #every owned province has been converted
							limit = {
								has_country_flag = effelai_attuned_colonizing
							}
							if = {
								limit = { 
									any_owned_province = {
										is_city = yes
										is_effelai_network_attuned = yes
										any_empty_neighbor_province = {
											is_effelai_network_province = yes
											NOT = {
												is_effelai_network_burned = yes
											}
										}
									}
								}
								random_owned_province = {
									limit = {
										is_city = yes
										is_effelai_network_attuned = yes
										any_empty_neighbor_province = {
											is_effelai_network_province = yes
											NOT = {
												is_effelai_network_burned = yes
											}
											
										}
									}
									random_empty_neighbor_province = {
										limit = {
											NOT = {
												is_effelai_network_burned = yes
											}
										}
										add_siberian_construction = 200
										effelai_attune_province = yes
									}
								}
								change_variable = {
									which = effelai_bloom_attunement
									value = -2
								}
							}
							else = {
								set_variable = {
									which = effelai_bloom_attunement
									value = 0
								}
							}
						}
						else = {
							set_variable = {
								which = effelai_bloom_attunement
								value = 0
							}
						}
					}
				}
			}
			else_if = { #every owned province has been converted
				limit = {
					has_country_flag = effelai_attuned_colonizing
				}
				if = {
					limit = { 
						any_owned_province = {
							is_city = yes
							is_effelai_network_attuned = yes
							any_empty_neighbor_province = {
								is_effelai_network_province = yes
								NOT = {
									is_effelai_network_burned = yes
								}
							}
						}
					}
					random_owned_province = {
						limit = {
							is_city = yes
							is_effelai_network_attuned = yes
							any_empty_neighbor_province = {
								is_effelai_network_province = yes
								NOT = {
									is_effelai_network_burned = yes
								}
							}
						}
						random_empty_neighbor_province = {
							limit = {
								NOT = {
									is_effelai_network_burned = yes
								}
							}
							add_siberian_construction = 200
							effelai_attune_province = yes
						}
					}
					change_variable = {
						which = effelai_bloom_attunement
						value = -2
					}
				}
				else = {
					set_variable = {
						which = effelai_bloom_attunement
						value = 0
					}
				}
			}

			else = { #every province is converted
				set_variable = {
					which = effelai_bloom_attunement
					value = 0
				}
			}
		}
	}
}
#Our Goddess Stirs
country_event = {
	id = effelai_bloom.370
	title = effelai_bloom.370.t
	desc = effelai_bloom.370.d
	
	is_triggered_only = yes
	
	immediate = {
	}
	#Take the offer now
	option = {
		name = effelai_bloom.370.a
		country_event = {
			id = effelai_bloom.371
			days = 15
		}
	}
	#Delay the offer
	option = {
		name = effelai_bloom.370.b
		hidden_effect = {
			country_event = {
				id = effelai_bloom.371
				days = 5475
			}
		}
	}
}
#Approached with providence
country_event = {
	id = effelai_bloom.371
	title = effelai_bloom.371.t
	desc = effelai_bloom.371.d
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = effelai_bloom.2
				days = 3652
			}
		}
	}
	#Take the offer and Attune
	option = {
		name = effelai_bloom.371.a
		country_event = {
			id = effelai_bloom.372
			days = 15
		}
	}
	#Reject the offer
	option = {
		name = effelai_bloom.371.b
		hidden_effect = {
			country_event = {
				id = effelai_bloom.374
				days = 30
			}
		}
	}
}
#Destiny Embraced
country_event = {
	id = effelai_bloom.372
	title = effelai_bloom.372.t
	desc = effelai_bloom.372.d
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = effelai_bloom.2
				days = 3652
			}
		}
	}
	#Construct the heart
	option = {
		name = effelai_bloom.372.a
		hidden_effect = {
			set_country_flag = effelai_no_burn
			set_country_flag = effelai_construct_the_heart
		}
	}
}
#Olaka'utk√° - Beginning and the end
country_event = {
	id = effelai_bloom.373
	title = effelai_bloom.373.t
	desc = effelai_bloom.373.d
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = effelai_bloom_begin_attuning_provinces
			set_country_flag = effelai_attuned_colonizing
			set_variable = {
				which = effelai_bloom_attunement
				value = 10
			}
			country_event = {
				id = effelai_bloom.2
				days = 365
			}
			capital_scope = {
				if = {
					limit = { 
						is_effelai_network_root = yes
						NOT = {
							is_island = yes
						}
					}
					effelai_bloom_remove_roots = yes
					add_permanent_province_modifier = {
						name = effelai_roots_attuned
						duration = -1
					}
				}
				else_if = {
					limit = { 
						is_effelai_network_hub = yes
					}
					effelai_bloom_remove_hub = yes
					add_permanent_province_modifier = {
						name = effelai_hub_attuned
						duration = -1
					}
				}
				else = {
					ROOT = { #dunno if you should be even able to do this if your capital isnt in the effelai?
						random_owned_province = {
							limit = {
								is_effelai_network_hub = yes
							}
							effelai_bloom_remove_hub = yes
							add_permanent_province_modifier = {
								name = effelai_hub_attuned
								duration = -1
							}
						}
					}
				}
			}
		}
	}
	#Now Attuned
	option = {
		name = effelai_bloom.373.a
		change_government = theocracy
		add_government_reform = effelai_alianaiarat_reform
		change_government_reform_progress = 200
		capital_scope = {
			add_institution_embracement = {
				which = renaissance
				value = 100
			}
		}
		random_owned_province = {
			limit = {
				has_province_flag = effelai_heart_construction_site
			}
			remove_province_modifier = effelai_heart_construction
			add_province_triggered_modifier = effelai_heart_ptm
		}
		set_country_flag = effelai_attuned_path
		add_country_modifier = {
			name = effelai_attunement_tier_1
			duration = -1
		}
	}
}
#Rejection Of The Gift
country_event = {
	id = effelai_bloom.374
	title = effelai_bloom.374.t
	desc = effelai_bloom.374.d
	
	is_triggered_only = yes
	
	immediate = {
	
	}
	#Rejection
	option = {
		name = effelai_bloom.374.a
		add_mil_power = -50
		add_dip_power = -50
		set_country_flag = effelai_burned_path
		#x_province = { Add province id here
			#add rebels here
		#}
	}
}
#Checks if the monument is still yours
country_event = {
	id = effelai_bloom.399
	title = effelai_bloom.399.t
	desc = effelai_bloom.399.d
	
	is_triggered_only = yes
	
	hidden = yes
	
	immediate = {
		if = {
			limit = {
				ROOT = {
					has_country_flag = effelai_heart_constructor
					any_owned_province = {
						has_province_flag = effelai_heart_construction_site
					}
				}
			}
			country_event = {
				id = effelai_bloom.373
			}
		}
		else = {
			set_country_flag = effelai_construct_the_heart
		}
	}
	
	#Now Attuned
	option = {
		name = effelai_bloom.399.a
	}
}
#Effelai Burn Events
country_event = { #East Effelai burned
	id = effelai_bloom.411
	title = effelai_bloom.411.t
	desc = effelai_bloom.411.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_east_effelai_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			east_effelai_region = {
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.411.a
	}
}
country_event = { #Dry Coast burned
	id = effelai_bloom.412
	title = effelai_bloom.412.t
	desc = effelai_bloom.412.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_dry_coast_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			dry_coast_region = {
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.412.a
	}
}
country_event = { #South Effelai burned
	id = effelai_bloom.413
	title = effelai_bloom.413.t
	desc = effelai_bloom.413.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_south_effelai_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			south_effelai_region = {
				effelai_bloom_burn_effect = yes
			}
			mushroom_forest_region = { #those poor mushrooms. you monster.
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.413.a
	}
}
country_event = { #West Effelai burned
	id = effelai_bloom.414
	title = effelai_bloom.414.t
	desc = effelai_bloom.414.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_west_effelai_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			west_effelai_region = {
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.414.a
	}
}
country_event = { #Soruin burned
	id = effelai_bloom.415
	title = effelai_bloom.415.t
	desc = effelai_bloom.415.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_soruin_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			soruin_region = {
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.415.a
	}
}
country_event = { #Leechdens burned
	id = effelai_bloom.416
	title = effelai_bloom.416.t
	desc = effelai_bloom.416.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = effelai_leechdens_burned
			change_variable = {
				which = effelai_regions_burned
				value = 1
			}
			1804 = {
				change_variable = {
					which = effelai_total_regions_burned
					value = 1
				}
			}
			leechdens_region = {
				effelai_bloom_burn_effect = yes
			}
			effelai_check_effelai_desecrated = yes
		}
	}
	option = {
		name = effelai_bloom.416.a
	}
}
country_event = { #you lost a hub during burning the region.
	id = effelai_bloom.420
	title = effelai_bloom.420.t
	desc = effelai_bloom.420.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			effelai_bloom_burn_cancel_burning = yes
		}
	}
	option = {
		name = effelai_bloom.420.a
	}
}
country_event = { #you lost to songservant rebels during burning the region.
	id = effelai_bloom.421
	title = effelai_bloom.421.t
	desc = effelai_bloom.421.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			effelai_bloom_burn_cancel_burning = yes
		}
	}
	option = {
		name = effelai_bloom.421.a
	}
}
country_event = { #burning wave 1
	id = effelai_bloom.431
	title = effelai_bloom.431.t
	desc = effelai_bloom.431.d
	is_triggered_only = yes
	trigger = {
		has_country_flag = effelai_burn_started_eventchain
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = effelai_hub_burn_target
				}
				set_province_flag = effelai_hub_spawning_songservants
			}
		}
	}
	option = {
		name = effelai_bloom.431.a
		hidden_effect = {
			country_event = {
				id = effelai_bloom.432
				days = 365
			}
		}
		every_owned_province = {
			limit = {
				has_province_flag = effelai_hub_spawning_songservants
			}
			effelai_bloom_burn_spawn_songservants = yes
			clr_province_flag = effelai_hub_spawning_songservants
		}
	}
}
country_event = {
	id = effelai_bloom.432
	title = effelai_bloom.432.t
	desc = effelai_bloom.432.d
	is_triggered_only = yes
	trigger = {
		had_country_flag = {
			flag = effelai_burn_started_eventchain
			days = 350
		}
	}
	option = {
		name = effelai_bloom.432.a
		hidden_effect = {
			country_event = {
				id = effelai_bloom.433
				days = 365
			}
			if = { #im giving ai free forts, since they wont be smart enough to build them for what's to come
				limit = {
					ai = yes
				}
				random_owned_province = {
					limit = {
						has_province_flag = effelai_hub_burn_target
						controlled_by = ROOT
						num_free_building_slots = 1
					}
					add_building = fort_15th
				}
			}
			if = {
				limit = { 
					has_country_flag = effelai_is_burning_dry_coast
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = dry_coast_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_east_effelai
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = east_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_south_effelai
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = south_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_west_effelai
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = west_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_soruin
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = soruin_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_leechdens
				}
				effelai_bloom_burn_set_burn_effort = {
					BURNREGION = leechdens_region
				}
			}
		}
	}
}
country_event = { #burning wave 2
	id = effelai_bloom.433
	title = effelai_bloom.433.t
	desc = effelai_bloom.433.d
	is_triggered_only = yes
	trigger = {
		had_country_flag = {
			flag = effelai_burn_started_eventchain
			days = 700
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = effelai_hub_burn_target
					NOT = {
						has_province_flag = effelai_hub_spawning_songservants
					}
				}
				set_province_flag = effelai_hub_spawning_songservants
			}
			random_owned_province = {
				limit = {
					has_province_flag = effelai_hub_burn_target
					NOT = {
						has_province_flag = effelai_hub_spawning_songservants
					}
				}
				set_province_flag = effelai_hub_spawning_songservants
			}
		}
	}
	option = {
		name = effelai_bloom.433.a
		hidden_effect = {
			country_event = {
				id = effelai_bloom.434
				days = 365
			}
		}
		every_owned_province = {
			limit = {
				has_province_flag = effelai_hub_spawning_songservants
			}
			effelai_bloom_burn_spawn_songservants = yes
			clr_province_flag = effelai_hub_spawning_songservants
		}
	}
}
country_event = {
	id = effelai_bloom.434
	title = effelai_bloom.434.t
	desc = effelai_bloom.434.d
	is_triggered_only = yes
	trigger = {
		had_country_flag = {
			flag = effelai_burn_started_eventchain
			days = 1050
		}
	}
	option = {
		name = effelai_bloom.434
		hidden_effect = {
			country_event = {
				id = effelai_bloom.435
				days = 365
			}
			if = {
				limit = { 
					has_country_flag = effelai_is_burning_dry_coast
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = dry_coast_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_east_effelai
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = east_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_south_effelai
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = south_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_west_effelai
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = west_effelai_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_soruin
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = soruin_region
				}
			}
			else_if = {
				limit = { 
					has_country_flag = effelai_is_burning_leechdens
				}
				effelai_bloom_burn_set_expanded_burn_effort = {
					BURNREGION = leechdens_region
				}
			}
		}
	}
}
country_event = { #burning wave 3
	id = effelai_bloom.435
	title = effelai_bloom.435.t
	desc = effelai_bloom.435.d
	is_triggered_only = yes
	trigger = {
		had_country_flag = {
			flag = effelai_burn_started_eventchain
			days = 1400
		}
	}
	immediate = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_flag = effelai_hub_burn_target
				}
				set_province_flag = effelai_hub_spawning_songservants
			}
		}
	}
	option = {
		name = effelai_bloom.435.a
		every_owned_province = {
			limit = {
				has_province_flag = effelai_hub_spawning_songservants
			}
			effelai_bloom_burn_spawn_songservants = yes
			clr_province_flag = effelai_hub_spawning_songservants
		}
		set_country_flag = effelai_burn_final_wave
	}
}
country_event = { #Effelai burned so hard it returns to being dormant
	id = effelai_bloom.450
	title = effelai_bloom.450.t
	desc = effelai_bloom.450.d
	is_triggered_only = yes
	major = yes
	option = {
		name = effelai_bloom.450.a
		add_country_modifier = {
			name = effelai_desecrator
			duration = -1
		}
		set_global_flag = effelai_blooming_over
		clr_global_flag = effelai_blooming_happening
		hidden_effect = {
			effelai_superregion = {
				if = {
					limit = {
						has_province_modifier = effelai_hub_blooming
					}
					remove_province_modifier = effelai_hub_blooming
					add_permanent_province_modifier = {
						name = effelai_hub_dormant
						duration = -1
					}
				}
				else_if = {
					limit = { 
						has_province_modifier = effelai_roots_blooming
					}
					remove_province_modifier = effelai_roots_blooming
					add_permanent_province_modifier = {
						name = effelai_roots_dormant
						duration = -1
					}
				}
			}
		}
	}
}