#Creator: @blaziy

namespace = besolaki_events

country_event = {
	id = besolaki_events.1 #The Consequences of our Actions
	title = besolaki_events.1.t
	desc = besolaki_events.1.d
	picture = CONSPIRACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1.a
		overlord = {
			declare_war_with_cb = {
				casus_belli = cb_change_government
				who = ROOT
			}
			hidden_effect = {
				add_stability = 3
			}
		}
		hidden_effect = {
			set_country_flag = G54_in_independence_war_flag
			country_event = {
				id = besolaki_events.4
				days = 2650 #10 years
			}
		}
	}
}

country_event = {
	id = besolaki_events.2 #Just as Planned
	title = besolaki_events.2.t
	desc = besolaki_events.2.d
	picture = CONSPIRACY_eventPicture

	fire_only_once = yes
	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		OR = {
			tag = G54 #Besolaki
			was_tag = G54 #Besolaki
		}
		has_country_flag = G54_in_independence_war_flag
		war_score_against = {
			who = G49 #Lokemeion
			value = 99
		}
	}

	option = {
		name = besolaki_events.2.a
		white_peace = G49 #Lokemeion
		grant_independence = yes
		add_ruler_personality = peasant_revolt_leader_personality
		add_treasury = 100
		G49 = { add_treasury = -100 } #Lokemeion
		clr_country_flag = G54_in_independence_war_flag
	}
}

country_event = {
	id = besolaki_events.3 #Should've Expected That
	title = besolaki_events.3.t
	desc = besolaki_events.3.d
	picture = FAILED_REVOLUTION_eventPicture

	fire_only_once = yes
	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		OR = {
			tag = G54 #Besolaki
			was_tag = G54 #Besolaki
		}
		has_country_flag = G54_in_independence_war_flag
		NOT = {
			war_score_against = {
				who = G49 #Lokemeion
				value = -98
			}
		}
	}

	option = {
		name = besolaki_events.3.a
		white_peace = G49 #Lokemeion
		G49 = { #Lokemeion
			create_subject = {
				subject_type = nekhei
				who = ROOT
			}
		}
		hidden_effect = {
			kheionai_transfer_land_to_nekheis = yes
			update_nekhei_dev_modifier = yes
			clr_country_flag = G54_in_independence_war_flag
		}
		add_government_reform = oligarchy_reform
		add_liberty_desire = -50
	}
}

country_event = {
	id = besolaki_events.4 #All's Well the Ends Well
	title = besolaki_events.4.t
	desc = besolaki_events.4.d
	picture = DECLARATION_INDEPENDENCE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_country_flag = G54_in_independence_war_flag
	}

	option = {
		name = besolaki_events.4.a
		white_peace = G49 #Lokemeion
	}
}

country_event = {
	id = besolaki_events.5 #Coming to the Rescue
	title = besolaki_events.5.t
	desc = besolaki_events.5.d
	picture = CONQUEST_eventPicture

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		OR = {
			tag = G54 #Besolaki
			was_tag = G54 #Besolaki
		}
		G53 = { has_country_flag = G54_keyolion_empkeios_war } #Empkeios
		G58 = { has_country_flag = G54_keyolion_empkeios_war } #Keyolion
		OR = {
			G53 = { #Empkeios
				war_score_against = {
					who = G58 #Keyolion
					value = 25
				}
			}
			G58 = { #Keyolion
				war_score_against = {
					who = G53 #Empkeios
					value = 25
				}
			}
		}
	}

	option = {
		name = besolaki_events.5.a
		if = {
			limit = { 
				G53 = { #Empkeios
					war_score_against = {
						who = G58 #Keyolion
						value = 25
					}
				}
			}
			join_all_offensive_wars_of = G58 #Keyolion
			join_all_defensive_wars_of = G58 #Keyolion
			create_subject = {
				subject_type = vassal
				who = G58 #Keyolion
			}
		}
		else = {
			join_all_offensive_wars_of = G53 #Empkeios
			join_all_defensive_wars_of = G53 #Empkeios
			create_subject = {
				subject_type = vassal
				who = G53 #Empkeios
			}
		}
		G53 = { clr_country_flag = G54_keyolion_empkeios_war } #Empkeios
		G58 = { clr_country_flag = G54_keyolion_empkeios_war } #Keyolion
		set_country_flag = G54_joined_key_emp_war_flag
	}
}

country_event = {
	id = besolaki_events.6 #The Loyalists Rebel
	title = besolaki_events.6.t
	desc = besolaki_events.6.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.6.a
		create_subject = {
			subject_type = vassal
			who = G55 #Eneion
		}
		G46 = { #Degakheion
			country_event = {
				id = besolaki_events.7 #Eneion Declares... Subjugation?
				days = 30 #1 month
			}
		}
	}
}

country_event = {
	id = besolaki_events.7 #Eneion Declares... Subjugation?
	title = besolaki_events.7.t
	desc = besolaki_events.7.d
	picture = COUNTRY_COLLAPSE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.7.a
		ai_chance = { 
			factor = 80 
			modifier = {
				factor = 0
				FROM = {
					naval_strength = {
						who = ROOT
						value = 1
					}
					army_strength = {
						who = ROOT
						value = 1
					}
					faction_in_power = beso_nautabhen
				}
				NOT = { total_development = FROM }
			}
		}
		declare_war_with_cb = {
			casus_belli = cb_vassalize_mission
			who = G55 #Eneion
		}
	}
	
	option = {
		name = besolaki_events.7.b
		ai_chance = { 
			factor = 20 
			modifier = {
				factor = 2
				FROM = {
					naval_strength = {
						who = ROOT
						value = 1
					}
				}
			}
			modifier = {
				factor = 2
				FROM = {
					army_strength = {
						who = ROOT
						value = 1
					}
				}
			}
			modifier = {
				factor = 2
				FROM = { faction_in_power = beso_nautabhen }
			}
			modifier = {
				factor = 2
				NOT = { total_development = FROM }
			}
			modifier = {
				factor = 0.5
				FROM = { faction_in_power = beso_dhorbhen }
			}
		}
	}
}

country_event = {
	id = besolaki_events.8 #Focusing our Efforts
	title = besolaki_events.8.t
	desc = besolaki_events.8.d
	picture = COLONIZATION_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.8.a
		ai_chance = { factor = 100 }
		G57 = { #Apikhoxi
			add_country_modifier = {
				name = G54_colonial_support
				duration = -1
			}
			add_treasury = 100
		}
		add_country_modifier = {
			name = G54_supporting_colonists
			duration = -1
		}
		add_treasury = -100
	}

	option = {
		name = besolaki_events.8.b
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = besolaki_events.9 #A Better Deal
	title = besolaki_events.9.t
	desc = besolaki_events.9.d
	picture = BARBARY_PIRATES_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.9.a
		create_subject = {
			subject_type = vassal
			who = G62 #Amgremos
		}
		if = {
			limit = { G62 = { has_reform = pirate_republic_reform } } #Amgremos
			G62 = { add_government_reform = oligarchy_reform } #Amgremos
		}
	}
}

country_event = { #For Deyeion
	id = besolaki_events.10 #Our Chance
	title = besolaki_events.10.t
	desc = besolaki_events.10.d
	picture = KINGS_CHOICE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.10.a
		declare_war_with_cb = {
			casus_belli = cb_independence_war
			who = overlord
		}
		add_stability = 3
		create_alliance = G54 #Besolaki
		G54 = { join_all_offensive_wars_of = ROOT } #Besolaki
		add_country_modifier = {
			name = G54_supported_military
			duration = 5475 #15 years
		}
		set_country_flag = G54_deyeion_declared_independence_flag
	}
}

country_event = {
	id = besolaki_events.11 #Send the Request
	title = besolaki_events.11.t
	desc = besolaki_events.11.d
	picture = DECLARATION_INDEPENDENCE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.11.a
		G56 = { #Deyeion
			country_event = {
				id = besolaki_events.12 #An Ultimatum
				days = 30 #1 month
			}
		}
	}
}

country_event = { #For Deyeion
	id = besolaki_events.12 #An Ultimatum
	title = besolaki_events.12.t
	desc = besolaki_events.12.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.12.a
		break_alliance = FROM
		FROM = {
			country_event = {
				id = besolaki_events.13 #A Grave Mistake
			}
		}
	}
}

country_event = {
	id = besolaki_events.13 #A Grave Mistake
	title = besolaki_events.13.t
	desc = besolaki_events.13.d
	picture = LAND_MILITARY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.13.a #Declare War
		ai_chance = { factor = 1 }
		declare_war_with_cb = {
			casus_belli = cb_vassalize_mission
			who = FROM
		}
		FROM = {
			remove_country_modifier = G54_supported_military
			add_country_modifier = {
				name = G54_sabotaged_military
				duration = 5475 #15 years
			}
		}
	}

	option = {
		name = besolaki_events.13.b #Vassalization CB
		ai_chance = { factor = 0 }
		add_casus_belli = {
			target = FROM
			type = cb_vassalize_mission
			months = 180 #15 years
		}
		FROM = {
			remove_country_modifier = G54_supported_military
			add_country_modifier = {
				name = G54_sabotaged_military
				duration = 5475 #15 years
			}
		}
	}
}

country_event = {
	id = besolaki_events.14 #Where are our Subjects?
	title = besolaki_events.14.t
	desc = besolaki_events.14.d
	picture = OVEREXTENSION_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.14.a
		ai_chance = { factor = 1 }
		G54 = { #Besolaki
			country_event = {
				id = besolaki_events.15
			}
		}
	}

	option = {
		name = besolaki_events.14.b
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = besolaki_events.15 #Intervention
	title = besolaki_events.15.t
	desc = besolaki_events.15.d
	picture = MILITARY_CAMP_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.15.a
		if = {
			limit = { 
				OR = {
					G51 = { ai = no } #Arpedifer
					G47 = { exists = no } #Oktikheion
				}
			}
			G51 = { #Arpedifer
				declare_war_with_cb = {
					casus_belli = cb_annex
					who = ROOT
				}
			}
			G47 = { join_all_offensive_wars_of = G51 }
		}
		else = {
			G47 = { #Oktikheion
				declare_war_with_cb = {
					casus_belli = cb_annex
					who = ROOT
				}
			}
			G51 = { join_all_offensive_wars_of = G47 }
		}
		set_country_flag = G54_in_okti_arped_war_flag
	}
}

country_event = {
	id = besolaki_events.16 #We Lost
	title = besolaki_events.16.t
	desc = besolaki_events.16.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.16.a
		keyolion_area = {
			cede_province = G58 #Keyolion
		}
		empkeios_area = {
			cede_province = G53 #Empkeios
		}
		G47 = { #Oktikheion
			create_subject = {
				subject_type = vassal
				who = G58 #Keyolion
			}
		}
		G51 = { #Arpedifer
			create_subject = {
				subject_type = vassal
				who = G53 #Empkeios
			}
		}
	}
}

country_event = {
	id = besolaki_events.50 #Supporting our Brethren
	title = besolaki_events.50.t
	desc = besolaki_events.50.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	option = {
		name = besolaki_events.50.a #Do Nothing
		FROM = {
			add_government_reform = peasants_republic 
			add_ruler_personality = peasant_revolt_leader_personality
			add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
		}
	}

	option = {
		name = besolaki_events.50.b #Ally Them
		create_alliance = FROM
		FROM = {
			add_government_reform = peasants_republic 
			add_ruler_personality = peasant_revolt_leader_personality
			add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
		}
	}

	option = {
		name = besolaki_events.50.c #Vassalize Them
		trigger = {
			FROM = {
				NOT = { development = 200 }
			}
		}
		highlight = yes
		vassalize = FROM
		FROM = {
			add_government_reform = peasants_republic 
			add_ruler_personality = peasant_revolt_leader_personality
			add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = G54_became_peasant_republic
			}
		}
	}
}

country_event = {
	id = besolaki_events.500
	title = besolaki_events.500.t
	desc = besolaki_events.500.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	option = {
		name = besolaki_events.500.a #Let them vassalize/ally/peasant republic us
		FROM = {
			country_event = {
				id = besolaki_events.50
			}
		}
	}

	option = {
		name = besolaki_events.500.b #Don't
		FROM = {
			country_event = {
				id = besolaki_events.1000
			}
		}
	}
}
country_event = {
    id = besolaki_events.100 #Election Event
    title = besolaki_events.100.t
    desc = besolaki_events.100.d
    picture = ELECTION_REPUBLICAN_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        has_reform = besolaki_chaotic_republicanism
        NOT = { has_country_flag = in_besolaki_election }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = in_besolaki_election
			clr_country_flag = caribhen_reelected_flag
			clr_country_flag = kheinbhen_reelected_flag
			clr_country_flag = nautabhen_reelected_flag
			clr_country_flag = skighubhen_reelected_flag
			clr_country_flag = dhorbhen_reelected_flag
			remove_country_modifier = G54_caribhen_in_power
			remove_country_modifier = G54_kheinbhen_in_power
			remove_country_modifier = G54_nautabhen_in_power
			remove_country_modifier = G54_skighubhen_in_power
			remove_country_modifier = G54_dhorbhen_in_power
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				if = {
					limit = { NOT = { has_country_flag = caribhen_elected_flag } }
					remove_country_modifier = G54_caribhen_malus_based
					remove_country_modifier = G54_caribhen_malus_cringe
					clr_country_flag = G54_has_caribhen_boost_flag
				}
				if = {
					limit = { NOT = { has_country_flag = kheinbhen_elected_flag } }
					remove_country_modifier = G54_kheinbhen_malus_based
					remove_country_modifier = G54_kheinbhen_bonus_based
					remove_country_modifier = G54_kheinbhen_malus_cringe
					remove_country_modifier = G54_kheinbhen_bonus_cringe
				}
				if = {
					limit = { NOT = { has_country_flag = nautabhen_elected_flag } }
					remove_country_modifier = G54_nautabhen_malus_based
					remove_country_modifier = G54_nautabhen_bonus_based
					remove_country_modifier = G54_nautabhen_malus_cringe
					remove_country_modifier = G54_nautabhen_bonus_cringe
				}
				if = {
					limit = { NOT = { has_country_flag = skighubhen_elected_flag } }
					remove_country_modifier = G54_skighubhen_malus_based
					remove_country_modifier = G54_skighubhen_bonus_based
					remove_country_modifier = G54_skighubhen_malus_cringe
					remove_country_modifier = G54_skighubhen_bonus_cringe
				}
				if = {
					limit = { NOT = { has_country_flag = dhorbhen_elected_flag } }
					remove_country_modifier = G54_dhorbhen_malus_based
					remove_country_modifier = G54_dhorbhen_malus_cringe
					clr_country_flag = G54_has_dhorbhen_boost_flag
				}
			}
			else = {
				remove_country_modifier = G54_caribhen_malus_cringe
				clr_country_flag = G54_has_caribhen_boost_flag
				remove_country_modifier = G54_kheinbhen_malus_cringe
				remove_country_modifier = G54_kheinbhen_bonus_cringe
				remove_country_modifier = G54_nautabhen_malus_cringe
				remove_country_modifier = G54_nautabhen_bonus_cringe
				remove_country_modifier = G54_skighubhen_malus_cringe
				remove_country_modifier = G54_skighubhen_bonus_cringe
				remove_country_modifier = G54_dhorbhen_malus_cringe
				clr_country_flag = G54_has_dhorbhen_boost_flag
			}
        }
    }
	
	after = {
		hidden_effect = {
            clr_country_flag = in_besolaki_election
        }
	}
	
	#Caribhen Candidate - +adm
	option = {
		name = besolaki_events.100.a
		ai_chance = { factor = 20 }
		if = {
			limit = { republic_with_female_rulers_trigger = yes }
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 2
				change_dip = 0
				change_mil = 0
				random_gender = yes # Allows random gender for republics
			}
		}
		else = {
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 2
				change_dip = 0
				change_mil = 0
			}
		}
		add_country_modifier = {
			name = G54_caribhen_in_power
			duration = -1
			hidden = yes
		}
		if = {
			limit = { has_country_flag = caribhen_elected_flag }
			set_country_flag = caribhen_reelected_flag
			add_republican_tradition = -5
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_caribhen_malus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_caribhen_malus_cringe
					duration = -1
				}
			}
		}
		else_if = {
			limit = { NOT = { has_country_flag = caribhen_recently_elected_flag } }
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				set_country_flag = G54_has_caribhen_boost_flag
				custom_tooltip = G54_random_50_advisor_tt
				hidden_effect = {
					random_list = {
						#Adm
						1 = { define_advisor = { type = artist skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = inquisitor skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = master_of_mint skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = natural_scientist skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = philosopher skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = theologian skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = treasurer skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = court_mage skill = 1 cost_multiplier = 0.25 } }
						#Dip
						1 = { define_advisor = { type = colonial_governor skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = diplomat skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = naval_reformer skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = navigator skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = spymaster skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = statesman skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = trader skill = 1 cost_multiplier = 0.25 } }
						#Mil
						1 = { define_advisor = { type = army_organiser skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = army_reformer skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = commandant skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = grand_captain skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = recruitmaster skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = fortification_expert skill = 1 cost_multiplier = 0.25 } }
						1 = { define_advisor = { type = quartermaster skill = 1 cost_multiplier = 0.25 } }
					}
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				set_country_flag = G54_has_caribhen_boost_flag
				custom_tooltip = G54_random_75_advisor_tt
				hidden_effect = {
					random_list = {
						#Adm
						1 = { define_advisor = { type = artist skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = inquisitor skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = master_of_mint skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = natural_scientist skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = philosopher skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = theologian skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = treasurer skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = court_mage skill = 1 cost_multiplier = 0.5 } }
						#Dip
						1 = { define_advisor = { type = colonial_governor skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = diplomat skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = naval_reformer skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = navigator skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = spymaster skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = statesman skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = trader skill = 1 cost_multiplier = 0.5 } }
						#Mil
						1 = { define_advisor = { type = army_organiser skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = army_reformer skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = commandant skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = grand_captain skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = recruitmaster skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = fortification_expert skill = 1 cost_multiplier = 0.5 } }
						1 = { define_advisor = { type = quartermaster skill = 1 cost_multiplier = 0.5 } }
					}
				}
			}
		}
		hidden_effect = {
			clr_country_flag = caribhen_recently_elected_flag
			clr_country_flag = kheinbhen_recently_elected_flag
			clr_country_flag = nautabhen_recently_elected_flag
			clr_country_flag = skighubhen_recently_elected_flag
			clr_country_flag = dhorbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = kheinbhen_elected_flag }
			set_country_flag = kheinbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = nautabhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = skighubhen_elected_flag }
			set_country_flag = skighubhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = dhorbhen_elected_flag }
			set_country_flag = dhorbhen_recently_elected_flag
		}
		hidden_effect = {
			clr_country_flag = caribhen_elected_flag
			clr_country_flag = kheinbhen_elected_flag
			clr_country_flag = nautabhen_elected_flag
			clr_country_flag = skighubhen_elected_flag
			clr_country_flag = dhorbhen_elected_flag
			
			set_country_flag = caribhen_elected_flag
		}
		if = {
			limit = { has_government_attribute = elections_increase_factions_influence }
			add_influence_to_adm_faction = { influence = 20 }
		}
	}
	
	#Kheinbhen Candidate - +adm
	option = {
		name = besolaki_events.100.b
		ai_chance = { factor = 20 }
		if = {
			limit = { republic_with_female_rulers_trigger = yes }
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 2
				change_dip = 0
				change_mil = 0
				random_gender = yes # Allows random gender for republics
			}
		}
		else = {
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 2
				change_dip = 0
				change_mil = 0
			}
		}
		add_country_modifier = {
			name = G54_kheinbhen_in_power
			duration = -1
			hidden = yes
		}
		if = {
			limit = { has_country_flag = kheinbhen_elected_flag }
			set_country_flag = kheinbhen_reelected_flag
			add_republican_tradition = -5
			remove_country_modifier = G54_kheinbhen_bonus_based
			remove_country_modifier = G54_kheinbhen_bonus_cringe
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_kheinbhen_malus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_kheinbhen_malus_cringe
					duration = -1
				}
			}
		}
		else_if = {
			limit = { NOT = { has_country_flag = kheinbhen_recently_elected_flag } }
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_kheinbhen_bonus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_kheinbhen_bonus_cringe
					duration = -1
				}
			}
		}
		hidden_effect = {
			clr_country_flag = caribhen_recently_elected_flag
			clr_country_flag = kheinbhen_recently_elected_flag
			clr_country_flag = nautabhen_recently_elected_flag
			clr_country_flag = skighubhen_recently_elected_flag
			clr_country_flag = dhorbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = caribhen_elected_flag }
			set_country_flag = caribhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = nautabhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = skighubhen_elected_flag }
			set_country_flag = skighubhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = dhorbhen_elected_flag }
			set_country_flag = dhorbhen_recently_elected_flag
		}
		hidden_effect = {
			clr_country_flag = caribhen_elected_flag
			clr_country_flag = kheinbhen_elected_flag
			clr_country_flag = nautabhen_elected_flag
			clr_country_flag = skighubhen_elected_flag
			clr_country_flag = dhorbhen_elected_flag
			
			set_country_flag = kheinbhen_elected_flag
		}
		#Edge cases (no one will ever see them but if someone does, kudos)
		if = {
			limit = { has_government_attribute = elections_increase_factions_influence }
			add_influence_to_adm_faction = { influence = 20 }
		}
	}
	
	#Nautabhen Candidate - +dip
	option = {
		name = besolaki_events.100.c
		ai_chance = { factor = 20 }
		if = {
			limit = { republic_with_female_rulers_trigger = yes }
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 2
				change_mil = 0
				random_gender = yes # Allows random gender for republics
			}
		}
		else = {
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 2
				change_mil = 0
			}
		}
		add_country_modifier = {
			name = G54_nautabhen_in_power
			duration = -1
			hidden = yes
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = nautabhen_reelected_flag
			add_republican_tradition = -5
			remove_country_modifier = G54_nautabhen_bonus_based
			remove_country_modifier = G54_nautabhen_bonus_cringe
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_nautabhen_malus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_nautabhen_malus_cringe
					duration = -1
				}
			}
		}
		else_if = {
			limit = { NOT = { has_country_flag = nautabhen_recently_elected_flag } }
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_nautabhen_bonus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_nautabhen_bonus_cringe
					duration = -1
				}
			}
		}
		hidden_effect = {
			clr_country_flag = caribhen_recently_elected_flag
			clr_country_flag = kheinbhen_recently_elected_flag
			clr_country_flag = nautabhen_recently_elected_flag
			clr_country_flag = skighubhen_recently_elected_flag
			clr_country_flag = dhorbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = caribhen_elected_flag }
			set_country_flag = caribhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = kheinbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = skighubhen_elected_flag }
			set_country_flag = skighubhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = dhorbhen_elected_flag }
			set_country_flag = dhorbhen_recently_elected_flag
		}
		hidden_effect = {
			clr_country_flag = caribhen_elected_flag
			clr_country_flag = kheinbhen_elected_flag
			clr_country_flag = nautabhen_elected_flag
			clr_country_flag = skighubhen_elected_flag
			clr_country_flag = dhorbhen_elected_flag
			
			set_country_flag = nautabhen_elected_flag
		}
		if = {
			limit = { has_government_attribute = elections_increase_factions_influence }
			add_influence_to_dip_faction = { influence = 20 }
		}
	}
	
	#Skighubhen Candidate - +dip
	option = {
		name = besolaki_events.100.e
		ai_chance = { factor = 20 }
		if = {
			limit = { republic_with_female_rulers_trigger = yes }
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 2
				change_mil = 0
				random_gender = yes # Allows random gender for republics
			}
		}
		else = {
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 2
				change_mil = 0
			}
		}
		add_country_modifier = {
			name = G54_skighubhen_in_power
			duration = -1
			hidden = yes
		}
		if = {
			limit = { has_country_flag = skighubhen_elected_flag }
			set_country_flag = skighubhen_reelected_flag
			add_republican_tradition = -5
			remove_country_modifier = G54_skighubhen_bonus_based
			remove_country_modifier = G54_skighubhen_bonus_cringe
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_skighubhen_malus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_skighubhen_malus_cringe
					duration = -1
				}
			}
		}
		else_if = {
			limit = { NOT = { has_country_flag = skighubhen_recently_elected_flag } }
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_skighubhen_bonus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_skighubhen_bonus_cringe
					duration = -1
				}
			}
		}
		hidden_effect = {
			clr_country_flag = caribhen_recently_elected_flag
			clr_country_flag = kheinbhen_recently_elected_flag
			clr_country_flag = nautabhen_recently_elected_flag
			clr_country_flag = skighubhen_recently_elected_flag
			clr_country_flag = dhorbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = caribhen_elected_flag }
			set_country_flag = caribhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = kheinbhen_elected_flag }
			set_country_flag = kheinubhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = nautabhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = dhorbhen_elected_flag }
			set_country_flag = dhorbhen_recently_elected_flag
		}
		hidden_effect = {
			clr_country_flag = caribhen_elected_flag
			clr_country_flag = kheinbhen_elected_flag
			clr_country_flag = nautabhen_elected_flag
			clr_country_flag = skighubhen_elected_flag
			clr_country_flag = dhorbhen_elected_flag
			
			set_country_flag = skighubhen_elected_flag
		}
		if = {
			limit = { has_government_attribute = elections_increase_factions_influence }
			add_influence_to_dip_faction = { influence = 20 }
		}
	}
	
	#Dhorbhen Candidate - +mil
	option = {
		name = besolaki_events.100.f
		ai_chance = { factor = 20 }
		if = {
			limit = { republic_with_female_rulers_trigger = yes }
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 0
				change_mil = 2
				random_gender = yes # Allows random gender for republics
			}
		}
		else = {
			define_ruler = {
				min_age = 20
				max_age = 60
				change_adm = 0
				change_dip = 0
				change_mil = 2
			}
		}
		add_country_modifier = {
			name = G54_dhorbhen_in_power
			duration = -1
			hidden = yes
		}
		if = {
			limit = { has_country_flag = dhorbhen_elected_flag }
			set_country_flag = dhorbhen_reelected_flag
			add_republican_tradition = -5
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				add_country_modifier = {
					name = G54_dhorbhen_malus_based
					duration = -1
				}
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				add_country_modifier = {
					name = G54_dhorbhen_malus_cringe
					duration = -1
				}
			}
		}
		else_if = {
			limit = { NOT = { has_country_flag = dhorbhen_recently_elected_flag } }
			if = {
				limit = { has_country_flag = G54_election_bonuses_double_flag }
				set_country_flag = G54_has_dhorbhen_boost_flag
				add_army_tradition = 20
			}
			else_if = {
				limit = { has_country_flag = G54_enable_election_bonuses_flag }
				set_country_flag = G54_has_dhorbhen_boost_flag
				add_army_tradition = 10
			}
		}
		hidden_effect = {
			clr_country_flag = caribhen_recently_elected_flag
			clr_country_flag = kheinbhen_recently_elected_flag
			clr_country_flag = nautabhen_recently_elected_flag
			clr_country_flag = skighubhen_recently_elected_flag
			clr_country_flag = dhorbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = caribhen_elected_flag }
			set_country_flag = caribhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = kheinbhen_elected_flag }
			set_country_flag = kheinbhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = nautabhen_elected_flag }
			set_country_flag = nautabhen_recently_elected_flag
		}
		if = {
			limit = { has_country_flag = skighubhen_elected_flag }
			set_country_flag = skighubhen_recently_elected_flag
		}
		hidden_effect = {
			clr_country_flag = caribhen_elected_flag
			clr_country_flag = kheinbhen_elected_flag
			clr_country_flag = nautabhen_elected_flag
			clr_country_flag = skighubhen_elected_flag
			clr_country_flag = dhorbhen_elected_flag
			
			set_country_flag = dhorbhen_elected_flag
		}
		if = {
			limit = { has_government_attribute = elections_increase_factions_influence }
			add_influence_to_mil_faction = { influence = 20 }
		}
	}
}

country_event = {
	id = besolaki_events.1000 #Vassalization CB
	title = besolaki_events.1000.t
	desc = besolaki_events.1000.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1000.a
		add_casus_belli = {
			type = cb_vassalize_mission
			months = 300
			target = FROM
		}
	}
}

country_event = {
	id = besolaki_events.1001 #Vassalization! (Play to their Weaknesses)
	title = besolaki_events.1001.t
	desc = besolaki_events.1001.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	option = {
		name = besolaki_events.1001.a #Do what the mission says
		ai_chance = { factor = 100 }
		if = {
			limit = { tag = G53 } #Empkeios
			grant_independence = yes
			every_owned_province = {
				add_permanent_claim = G58 #Keyolion
			}
			every_war_enemy_country = {
				white_peace = PREV
			}
			set_country_flag = G54_keyolion_empkeios_war
			if = {
				limit = { G58 = { ai = yes } } #Keyolion
				declare_war_with_cb = {
					casus_belli = cb_annex
					who = G58 #Keyolion
				}
			}
		}
		if = {
			limit = { tag = G58 } #Keyolion
			grant_independence = yes
			every_owned_province = {
				add_permanent_claim = G53 #Empkeios
			}
			every_war_enemy_country = {
				white_peace = PREV
			}
			set_country_flag = G54_keyolion_empkeios_war
			if = {
				limit = { G53 = { ai = yes } } #Empkeios
				declare_war_with_cb = {
					casus_belli = cb_annex
					who = G53 #Empkeios
				}
			}
		}
	}
	option = {
		name = besolaki_events.1001.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

country_event = {
	id = besolaki_events.1002 #Vassalization! (Making the Loyalists Rebel)
	title = besolaki_events.1002.t
	desc = besolaki_events.1002.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1002.a #Do what the mission says
		ai_chance = { factor = 100 }
		FROM = {
			add_country_modifier = {
				name = G54_soft_push
				duration = 3650 #10 years
			}
			country_event = {
				id = besolaki_events.6 #The Loyalists Rebel
				days = 3650 #10 years
			}
		}
	}
	option = {
		name = besolaki_events.1002.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

country_event = {
	id = besolaki_events.1003 #Vassalization! (Radicalize the Farms)
	title = besolaki_events.1003.t
	desc = besolaki_events.1003.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1003.a #Do what the mission says
		ai_chance = { factor = 100 }
		FROM = {
			create_subject = {
				subject_type = vassal
				who = G57 #Apikhoxi
			}
			G57 = {
				set_country_flag = besolaki_peasants_flag 
				add_government_reform = peasants_republic
			}
			country_event = {
				id = besolaki_events.8 #Focusing our Efforts
			}
		}
	}
	option = {
		name = besolaki_events.1003.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

country_event = {
	id = besolaki_events.1004 #Vassalization! (A Better Option)
	title = besolaki_events.1004.t
	desc = besolaki_events.1004.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1004.a #Do what the mission says
		ai_chance = { factor = 100 }
		FROM = {
			country_event = {
				id = besolaki_events.9 #A Better Deal
			}
		}
	}
	option = {
		name = besolaki_events.1004.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

country_event = {
	id = besolaki_events.1005 #Vassalization! (Upgrading our Navy)
	title = besolaki_events.1005.t
	desc = besolaki_events.1005.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1005.a #Do what the mission says
		ai_chance = { factor = 100 }
		declare_war_with_cb = {
			casus_belli = cb_independence_war
			who = overlord
		}
		FROM = {
			join_all_offensive_wars_of = G59 #Keyolion
			create_subject = {
				subject_type = march
				who = G59 #Anisikheion
			}
		}
	}
	option = {
		name = besolaki_events.1005.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

country_event = {
	id = besolaki_events.1006 #Vassalization! (Unite the League)
	title = besolaki_events.1006.t
	desc = besolaki_events.1006.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = besolaki_events.1006.a #Do what the mission says
		ai_chance = { factor = 100 }
		if = {
			limit = { any_owned_province = { superregion = taychend_superregion } }
			FROM = {
				create_subject = {
					subject_type = autonomous_vassal
					who = ROOT
				}
			}
		}
		else = {
			FROM = {
				create_subject = {
					subject_type = vassal
					who = ROOT
				}
			}
		}
		set_country_flag = besolaki_peasants_flag 
		add_government_reform = peasants_republic
	}
	option = {
		name = besolaki_events.1006.b #No
		ai_chance = { factor = 0 }
		FROM = {
			country_event = {
				id = besolaki_events.1000 #Vassalization CB
			}
		}
	}
}

province_event = {
	id = besolaki_events.1100 #Hidden event to make sure the game doesn't CTD
	title = besolaki_events.1100.t
	desc = besolaki_events.1100.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		name = besolaki_events.1100.a
		if = { #Besolaki, Anisikheion gets Andeios islands if they're your subject
			limit = {
				NOT = { owned_by = G59 } #Anisikheion
				OR = {
					owner = { has_country_flag = G54_anisikheion_gets_islands_flag }
					owner = { overlord = { has_country_flag = G54_anisikheion_gets_islands_flag } }
				}
				OR = {
					owner = { G59 = { is_subject_of = PREV } } #Anisikheion
					owner = { overlord = { G59 = { is_subject_of = PREV } } } #Anisikheion
				}
				OR = {
					superregion = kheionai_superregion
					superregion = taychend_superregion
				}
				is_island = yes
			}
			cede_province = G59 #Anisikheion
		}
	}
}