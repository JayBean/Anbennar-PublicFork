# SOME META SCRIPT EXAMPLES
# This also works for Scripted effects the same. Provided arguments will be pasted in
# wherever the key occurs. If it fails to compile you should get a proper error message
# and the source generated in the error log. There is no added overhead during runtime but
# if used extensivley it might make loading time longer.
#
# my_test_trigger = {
#	OR = {
#		has_country_modifier = $ARG1$_modifier
#		AND = {
#			has_country_modifier = $ARG2$_modifier
#			$CONTEXT$ = {
#				NOT = { has_country_modifier = $ARG1$_modifier }
#			}
#		}
#	}
# }
# Usage:
# my_test_trigger = { ARG1=foo ARG2=bar CONTEXT=FROM }

#GENERAL TRIGGERS
has_mil_advisor = {
	custom_trigger_tooltip = {
		tooltip = has_mil_advisor_tooltip
		OR = {
			advisor = army_organiser
			advisor = army_reformer
			advisor = commandant
			advisor = grand_captain
			advisor = recruitmaster
			advisor = fortification_expert
			advisor = quartermaster
		}
	}
}

has_mil_advisor_2 = {
	custom_trigger_tooltip = {
		tooltip = has_mil_advisor_2_tooltip
		OR = {
			army_organiser = 2
			army_reformer = 2
			commandant = 2
			grand_captain = 2
			recruitmaster = 2
			fortification_expert = 2
			quartermaster = 2
		}
	}
}

has_mil_advisor_3 = {
	custom_trigger_tooltip = {
		tooltip = has_mil_advisor_3_tooltip
		OR = {
			army_organiser = 3
			army_reformer = 3
			commandant = 3
			grand_captain = 3
			recruitmaster = 3
			fortification_expert = 3
			quartermaster = 3
		}
	}
}

has_adm_advisor = {
	custom_trigger_tooltip = {
		tooltip = has_adm_advisor_tooltip
		OR = {
			advisor = treasurer
			advisor = philosopher
			advisor = artist
			advisor = theologian
			advisor = master_of_mint
			advisor = inquisitor
			advisor = natural_scientist
			advisor = court_mage
		}
	}
}

has_adm_advisor_2 = {
	custom_trigger_tooltip = {
		tooltip = has_adm_advisor_2_tooltip
		OR = {
			treasurer = 2
			philosopher = 2
			artist = 2
			theologian = 2
			master_of_mint = 2
			inquisitor = 2
			natural_scientist = 2
			court_mage = 2
		}
	}
}

has_adm_advisor_3 = {
	custom_trigger_tooltip = {
		tooltip = has_adm_advisor_3_tooltip
		OR = {
			treasurer = 3
			philosopher = 3
			artist = 3
			theologian = 3
			master_of_mint = 3
			inquisitor = 3
			natural_scientist = 3
			court_mage = 3
		}
	}
}

has_adm_advisor_of_level = {
	OR = {
		treasurer = $level$
		philosopher = $level$
		artist = $level$
		theologian = $level$
		master_of_mint = $level$
		inquisitor = $level$
		natural_scientist = $level$
	}
}

has_dip_advisor_of_level = {
	OR = {
		statesman = $level$
		diplomat = $level$
		naval_reformer = $level$
		trader = $level$
		colonial_governor = $level$
		navigator = $level$
		spymaster = $level$
	}
}

has_mil_advisor_of_level = {
	OR = {
		army_organiser = $level$
		army_reformer = $level$
		commandant = $level$
		grand_captain = $level$
		recruitmaster = $level$
		fortification_expert = $level$
		quartermaster = $level$
	}
}

has_advisor_of_type_and_level = {
	has_$type$_advisor_of_level = { level = $level$ }
}

has_dip_advisor = {
	custom_trigger_tooltip = {
		tooltip = has_dip_advisor_tooltip
		OR = {
			advisor = statesman
			advisor = diplomat
			advisor = naval_reformer
			advisor = trader
			advisor = colonial_governor
			advisor = navigator
			advisor = spymaster
		}
	}
}

has_dip_advisor_2 = {
	custom_trigger_tooltip = {
		tooltip = has_dip_advisor_2_tooltip
		OR = {
			statesman = 2
			diplomat = 2
			naval_reformer = 2
			trader = 2
			colonial_governor = 2
			navigator = 2
			spymaster = 2
		}
	}
}

has_dip_advisor_3 = {
	custom_trigger_tooltip = {
		tooltip = has_dip_advisor_3_tooltip
		OR = {
			statesman = 3
			diplomat = 3
			naval_reformer = 3
			trader = 3
			colonial_governor = 3
			navigator = 3
			spymaster = 3
		}
	}
}


is_subject_other_than_tributary_trigger = { #Ie Tags that cannot conduct independent diplomacy
	custom_trigger_tooltip = {
		tooltip = is_subject_other_than_tributary_trigger_tooltip
		is_subject = yes
		NOT = { is_subject_of_type = tributary_state }
		NOT = { is_subject_of_type = tributary_state_anb }
		NOT = { is_subject_of_type = centaur_dominion }
	}
}

is_free_or_tributary_trigger = { #I.e. Tags that can conduct independent diplomacy
	custom_trigger_tooltip = {
		tooltip = is_free_or_tributary_trigger_tooltip
		OR = {
			is_subject = no
			is_subject_of_type = tributary_state
			is_subject_of_type = tributary_state_anb
			is_subject_of_type = centaur_dominion
		}
	}
}


# Third Rome Triggers
# has_russian_government_interaction = {
# 	has_dlc = "Third Rome"
# 	OR = {
# 		# has_reform = tsardom
# 		# has_reform = principality
# 		has_reform = veche_republic
# 	}
# }


#RIGHTS OF MAN TRIGGERS

#Ruler personality triggers
ruler_has_good_adm_personality = {
	has_dlc = "Rights of Man"
	OR = {
		ruler_has_personality = just_personality
		ruler_has_personality = righteous_personality
		ruler_has_personality = tolerant_personality
		ruler_has_personality = free_thinker_personality
		ruler_has_personality = calm_personality
		ruler_has_personality = zealot_personality
		ruler_has_personality = pious_personality
		ruler_has_personality = lawgiver_personality
		ruler_has_personality = midas_touched_personality
		ruler_has_personality = incorruptible_personality
		ruler_has_personality = architectural_visionary_personality
		ruler_has_personality = scholar_personality
		ruler_has_personality = reformist_personality
	}
}

ruler_has_good_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		ruler_has_personality = careful_personality
		ruler_has_personality = entrepreneur_personality
		ruler_has_personality = industrious_personality
		ruler_has_personality = expansionist_personality
		ruler_has_personality = navigator_personality
		ruler_has_personality = well_connected_personality
		ruler_has_personality = secretive_personality
		ruler_has_personality = intricate_web_weaver_personality
		ruler_has_personality = benevolent_personality
		ruler_has_personality = charismatic_negotiator_personality
		ruler_has_personality = silver_tongue_personality
	}
}

ruler_has_good_mil_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		ruler_has_personality = bold_fighter_personality
		ruler_has_personality = tactical_genius_personality
		ruler_has_personality = fierce_negotiator_personality
		ruler_has_personality = conqueror_personality
		ruler_has_personality = strict_personality
		ruler_has_personality = inspiring_leader_personality
		ruler_has_personality = martial_educator_personality
		ruler_has_personality = kind_hearted_personality
		ruler_has_personality = legendary_pirate_personality
	}
}

ruler_has_bad_adm_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		ruler_has_personality = embezzler_personality
		ruler_has_personality = sinner_personality
		ruler_has_personality = greedy_personality
		ruler_has_personality = obsessive_perfectionist_personality
	}
}

ruler_has_bad_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		ruler_has_personality = drunkard_personality
		ruler_has_personality = babbling_buffoon_personality
		ruler_has_personality = cruel_personality
		ruler_has_personality = naive_personality
		ruler_has_personality = malevolent_personality
		ruler_has_personality = loose_lips_personality
	}
}

ruler_has_bad_mil_personality = {
	has_dlc = "Rights of Man" 
	#OR = {
	ruler_has_personality = craven_personality
	#}
}

#Heir personality triggers
heir_has_good_adm_personality = {
	has_dlc = "Rights of Man"
	OR = {
		heir_has_personality = just_personality
		heir_has_personality = righteous_personality
		heir_has_personality = tolerant_personality
		heir_has_personality = free_thinker_personality
		heir_has_personality = calm_personality
		heir_has_personality = zealot_personality
		heir_has_personality = pious_personality
		heir_has_personality = lawgiver_personality
		heir_has_personality = midas_touched_personality
		heir_has_personality = incorruptible_personality
		heir_has_personality = architectural_visionary_personality
		heir_has_personality = scholar_personality
		heir_has_personality = reformist_personality
	}
}

heir_has_good_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		heir_has_personality = careful_personality
		heir_has_personality = entrepreneur_personality
		heir_has_personality = industrious_personality
		heir_has_personality = expansionist_personality
		heir_has_personality = navigator_personality
		heir_has_personality = well_connected_personality
		heir_has_personality = secretive_personality
		heir_has_personality = intricate_web_weaver_personality
		heir_has_personality = benevolent_personality
		heir_has_personality = charismatic_negotiator_personality
		heir_has_personality = silver_tongue_personality

	}
}

heir_has_good_mil_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		heir_has_personality = bold_fighter_personality
		heir_has_personality = tactical_genius_personality
		heir_has_personality = fierce_negotiator_personality
		heir_has_personality = conqueror_personality
		heir_has_personality = strict_personality
		heir_has_personality = inspiring_leader_personality
		heir_has_personality = martial_educator_personality
		heir_has_personality = kind_hearted_personality
		heir_has_personality = legendary_pirate_personality
	}
}

heir_has_bad_adm_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		heir_has_personality = embezzler_personality
		heir_has_personality = sinner_personality
		heir_has_personality = greedy_personality
		heir_has_personality = obsessive_perfectionist_personality
	}
}

heir_has_bad_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		heir_has_personality = drunkard_personality
		heir_has_personality = babbling_buffoon_personality
		heir_has_personality = cruel_personality
		heir_has_personality = naive_personality
		heir_has_personality = malevolent_personality
		heir_has_personality = loose_lips_personality
	}
}

heir_has_bad_mil_personality = {
	has_dlc = "Rights of Man" 
	#OR = {
	heir_has_personality = craven_personality
	#}
}

#Queen personality triggers
consort_has_good_adm_personality = {
	has_dlc = "Rights of Man"
	OR = {
		consort_has_personality = just_personality
		consort_has_personality = righteous_personality
		consort_has_personality = tolerant_personality
		consort_has_personality = free_thinker_personality
		consort_has_personality = calm_personality
		consort_has_personality = zealot_personality
		consort_has_personality = pious_personality
		consort_has_personality = lawgiver_personality
		consort_has_personality = midas_touched_personality
		consort_has_personality = incorruptible_personality
		consort_has_personality = architectural_visionary_personality
		consort_has_personality = scholar_personality
		consort_has_personality = reformist_personality
	}
}

consort_has_good_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		consort_has_personality = careful_personality
		consort_has_personality = entrepreneur_personality
		consort_has_personality = industrious_personality
		consort_has_personality = expansionist_personality
		consort_has_personality = navigator_personality
		consort_has_personality = well_connected_personality
		consort_has_personality = secretive_personality
		consort_has_personality = intricate_web_weaver_personality
		consort_has_personality = benevolent_personality
		consort_has_personality = charismatic_negotiator_personality
		consort_has_personality = silver_tongue_personality

	}
}

consort_has_good_mil_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		consort_has_personality = bold_fighter_personality
		consort_has_personality = tactical_genius_personality
		consort_has_personality = fierce_negotiator_personality
		consort_has_personality = conqueror_personality
		consort_has_personality = strict_personality
		consort_has_personality = inspiring_leader_personality
		consort_has_personality = martial_educator_personality
		consort_has_personality = kind_hearted_personality
		consort_has_personality = legendary_pirate_personality
	}
}

consort_has_bad_adm_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		consort_has_personality = embezzler_personality
		consort_has_personality = sinner_personality
		consort_has_personality = greedy_personality
		consort_has_personality = obsessive_perfectionist_personality
	}
}

consort_has_bad_dip_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		consort_has_personality = drunkard_personality
		consort_has_personality = babbling_buffoon_personality
		consort_has_personality = cruel_personality
		consort_has_personality = naive_personality
		consort_has_personality = malevolent_personality
		consort_has_personality = loose_lips_personality
	}
}

consort_has_bad_mil_personality = {
	has_dlc = "Rights of Man" 
	#OR = {
	consort_has_personality = craven_personality
	#}
}

can_have_center_of_reformation_trigger = { #Province Scope
	#$RELIGION$ needs to match the religion of the center that is being spawned.
	
	OR = {
		continent = europe
		religion = suhans_praxis
		religion_group = triunic_lake
	}
	OR = {
		#religion = protestant
		#religion = catholic
		#religion = reformed
		religion = regent_court
		religion = corinite
		religion = ravelian
		religion = suhans_praxis
		religion_group = triunic_lake
	}
	#NOT = { province_id = 118 } #Roma isn't in Anbennar- this is a redglades province lmao
	is_in_capital_area = yes
	is_reformation_center = no
	is_island = no
	expelling_minorities = no
	development = 10
	NOT = {
		any_neighbor_province = {
			is_reformation_center = yes
		}
	}
	NOT = {
		any_province = {
			area = PREV
			is_reformation_center = yes
			religion = $RELIGION$
		}
	}
	NOT = { has_climate = arctic }
	#NOT = { has_climate = arid }
	NOT = { has_terrain = coastline }
	NOT = { has_terrain = coastal_desert }
	NOT = { has_terrain = steppe }
	NOT = { has_terrain = desert }
	NOT = { has_terrain = glacier }
	#NOT = { has_climate = tropical }
}

province_viable_for_industrialization_events_trigger = { #Province Scope
	is_state = yes
	NOT = { devastation = 1 }
	OR = {
		is_in_capital_area = yes
		continent = CAPITAL
	}
	enlightenment = 100
}

unindustrialized_province_trigger = { #Province Scope
	#NOT = { has_province_flag = canals_and_turnpikes_flag }
	#NOT = { has_province_flag = agricultural_revolution_province }
	NOT = { has_province_flag = had_economic_urbanization }
	NOT = { has_province_flag = swapped_to_cloth }
	NOT = { has_province_flag = swapped_to_paper }
	NOT = { has_province_flag = swapped_to_glass }
	NOT = { has_province_flag = industrial_urbanization }
	NOT = { has_province_flag = metalwork_center }
	NOT = { has_province_flag = textile_center }
	NOT = { has_province_flag = shipyards_of_x }
}

industrialized_province_trigger = { #Province Scope
	OR = {
		#has_province_flag = canals_and_turnpikes_flag
		#has_province_flag = agricultural_revolution_province
		has_province_flag = had_economic_urbanization 
		has_province_flag = swapped_to_cloth
		has_province_flag = swapped_to_paper
		has_province_flag = swapped_to_glass
		has_province_flag = industrial_urbanization
		has_province_flag = metalwork_center
		has_province_flag = textile_center
		has_province_flag = shipyards_of_x
	}
}

was_never_end_game_tag_trigger = {	#Country Scope
	OR = {
		NOT = { end_game_tags_blocked = yes }
		custom_trigger_tooltip = {
			tooltip = was_never_end_game_tag_trigger_tt
			#Super big bois
			NOT = { was_tag = Z01 }	#Anbennar
			NOT = { was_tag = A79 }	#Gnomish Hierarchy
			NOT = { was_tag = B32 }	#Castanor
			NOT = { was_tag = F38 }	#Phoenix Empire
			NOT = { was_tag = Z34 }	#Black Castanor
			NOT = { was_tag = Z38 }	#Kobildzan
			NOT = { was_tag = Z99 }	#Black Demense
			NOT = { was_tag = B62 } #Moredhal
			NOT = { was_tag = B63 } #Grudgeknight Moredhal
			NOT = { was_tag = B64 } #Passionate Moredhal
			NOT = { was_tag = B65 } #Devotee Moredhal
			NOT = { was_tag = Z97 }	#Ravelian State
			
			NOT = { tag = Z01 }	#Anbennar
			NOT = { tag = A79 }	#Gnomish Hierarchy
			NOT = { tag = B32 }	#Castanor
			NOT = { tag = F38 }	#Phoenix Empire
			NOT = { tag = Z34 }	#Black Castanor
			NOT = { tag = Z38 }	#Kobildzan
			NOT = { tag = Z99 }	#Black Demense
			NOT = { tag = B62 } #Moredhal
			NOT = { tag = B63 } #Grudgeknight Moredhal
			NOT = { tag = B64 } #Passionate Moredhal
			NOT = { tag = B65 } #Devotee Moredhal
			NOT = { tag = Z97 }	#Ravelian State
			
			NOT = { was_tag = F51 }	#Jadd Empire
			NOT = { tag = F51 }	#Jadd Empire
			NOT = { was_tag = F99 }	#Jadd Civil War
			NOT = { tag = F99 }	#Jadd Civil War
			
			NOT = { was_tag = F52 }	#Surakes/Great Bulwar
			NOT = { tag = F52 }	#Surakes/Great Bulwar
			
			NOT = { was_tag = I24 }	#Aul-Dwarov
			NOT = { tag = I24 }	#Aul-Dwarov
			
			NOT = { was_tag = I45 }	#Cyranvar
			NOT = { tag = I45 }	#Cyranvar
			
			NOT = { was_tag = H21 }	#Eordand
			NOT = { tag = H21 }	#Eordand
			
			NOT = { was_tag = H22 }	#Kheios
			NOT = { tag = H22 }	#Kheios

			NOT = { was_tag = U27 }	#Theinos
			NOT = { tag = U27 }	#Theinos

			NOT = { was_tag = J84 }	#Taychend Empire
			NOT = { tag = J84 }	#Taychend Empire
			
			NOT = { was_tag = H24 }	#Dragon Dominion
			NOT = { tag = H24 }	#Dragon Dominion
			NOT = { was_tag = H27 }	#Ynnic Empire
			NOT = { tag = H27 }	#Ynnic Empire
			
			NOT = { was_tag = R71 }	#Rahenraj
			NOT = { tag = R71 }		#Rahenraj
			NOT = { was_tag = R70 }	#Harimraj
			NOT = { tag = R70 }		#Harimraj
			
			NOT = { was_tag = J33 }	#Lake Federation
			NOT = { tag = J33 }		#Lake Federation
			
			NOT = { was_tag = I89 }	#Kh�raen Ulaeg
			NOT = { tag = I89 }		#Kh�raen Ulaeg

			NOT = { was_tag = I98 } #Ves Udzenklan
			NOT = { tag = I98 } #Ves Udzenklan

			NOT = { was_tag = I99 } #Nizhn Korvesto
			NOT = { tag = I99 } #Nizhn Korvesto

			NOT = { was_tag = Z74 } #Gerudaghot
			NOT = { tag = Z74 } #Gerudaghot

			
			NOT = { was_tag = Y98 } #Daxugo
			NOT = { tag = Y98 } #Daxugo
			NOT = { tag = Z63 } #Thidinkai
			NOT = { was_tag = Z63 } #Thidinkai
			NOT = { tag = Y97 } #Baihon Xinh
			NOT = { was_tag = Y97 } #Baihon Xinh
			NOT = { tag = Z65 } #Yanshen
			NOT = { was_tag = Z65 } #Yanshen
			NOT = { tag = Z66 } #Liang
			NOT = { was_tag = Z66 } #Liang
			NOT = { tag = Z67 } #Di Yichan
			NOT = { was_tag = Z67 } #Di Yichan
			NOT = { tag = Y00 } #Sunrise Empire
			NOT = { was_tag = Y00 } #Sunrise Empire
			
			#Smaller lads
			NOT = { was_tag = Z07 }	#Dostanor
			NOT = { tag = Z07 }	#Dostanor
			NOT = { was_tag = A01 }	#Lorent
			NOT = { tag = A01 }	#Lorent
			NOT = { was_tag = A13 }	#Gawed
			NOT = { tag = A13 }	#Gawed
			NOT = { was_tag = A97 }	#Small Country
			NOT = { tag = A97 }	#Small Country
			NOT = { was_tag = A58 }	#Dameria
			NOT = { tag = A58 }	#Dameria
			
			#orcs formables
			NOT = { was_tag = Z50 }	#Grombar
			NOT = { tag = Z50 }	#Grombar
			NOT = { was_tag = Z51 }	#Khozrugan
			NOT = { tag = Z51 }	#Khozrugan
			NOT = { was_tag = Z52 }	#Unguldavor
			NOT = { tag = Z52 }	#Unguldavor
			NOT = { was_tag = Z53 }	#Barumand
			NOT = { tag = Z53 }	#Barumand
			NOT = { was_tag = I46 }	#Tugund-Darakh
			NOT = { tag = I46 }	#Tugund-Darakh
			NOT = { was_tag = Z54 }	#Karakhanbar
			NOT = { tag = Z54 }	#Karakhanbar
			NOT = { was_tag = Z57 }	#Karashar
			NOT = { tag = Z57 }	#Karashar
			
			NOT = { was_tag = S81 }	#Khatalashya
			NOT = { tag = S81 }	#Khatalashya

			NOT = { was_tag = L65 }	#Melakmengi
			NOT = { tag = L65 }	#Melakmengi
			
			NOT = { has_country_flag = formed_enteben } #Enteben
		}
	}
}


# was_never_german_regional_tag_trigger = {	#Country Scope
# 	NOT = { was_tag = BRA }
# 	NOT = { was_tag = PRU }
# 	NOT = { was_tag = POM }
# 	NOT = { was_tag = SAX }
# 	NOT = { was_tag = BAV }
# 	NOT = { was_tag = HAB }
# 	NOT = { was_tag = SWA }
# 	NOT = { was_tag = FKN }
# 	NOT = { was_tag = WES }
# 	NOT = { was_tag = HAN }
	
# 	NOT = { tag = BRA }
# 	NOT = { tag = PRU }
# 	NOT = { tag = POM }
# 	NOT = { tag = SAX }
# 	NOT = { tag = BAV }
# 	NOT = { tag = HAB }
# 	NOT = { tag = SWA }
# 	NOT = { tag = FKN }
# 	NOT = { tag = WES }
# 	NOT = { tag = HAN }
# }


has_manufactory_trigger = { #Province Scope
	custom_trigger_tooltip = {
		tooltip = has_manufactory_trigger_tooltip
		OR = {
			has_building = wharf
			has_building = weapons
			has_building = textile
			has_building = tradecompany
			has_building = farm_estate
			has_building = mills
			has_building = furnace
			has_building = plantations
			has_building = ramparts
			has_building = soldier_households
			has_building = impressment_offices
			has_building = state_house
			has_building = mage_tower
		}
	}
}

#Use this one if you want it to say which manufactory has to be built
# Does not include 1.30 manufactories
has_manufactory_no_custom_tooltip_trigger = { #Province Scope
	if = {
		limit = {
			OR = {
				trade_goods = naval_supplies
				trade_goods = fish
				trade_goods = salt
			}
		}
		has_building = wharf
	}
	else_if = {
		limit = {
			OR = {
				trade_goods = copper
				trade_goods = iron
				trade_goods = mithril
			}
		}
		has_building = weapons
	}
	else_if = {
		limit = {
			OR = {
				trade_goods = wool
				trade_goods = cloth
				trade_goods = silk
				trade_goods = dyes
			}
		}
		has_building = textile
	}
	else_if = {
		limit = {
			OR = {
				trade_goods = ivory
				trade_goods = slaves
				trade_goods = spices
				trade_goods = cloves
				trade_goods = fur
				trade_goods = incense
				trade_goods = precursor_relics
				trade_goods = damestear
			}
		}
		has_building = tradecompany
	}
	else_if = {
		limit = {
			OR = {
				trade_goods = grain
				trade_goods = livestock
				trade_goods = wine
				trade_goods = fungi
				trade_goods = serpentbloom
			}
		}
		has_building = farm_estate
	}
	else_if = {
		limit = {
			OR = {
				trade_goods = paper
				trade_goods = gems
				trade_goods = tropical_wood
				trade_goods = glass
				trade_goods = chinaware
			}
		}
		has_building = mills
	}
	else_if = {
		limit = {
			trade_goods = coal
		}
		has_building = furnace
	}
	else = {
		has_building = plantations
	}
}

has_no_manufactory_trigger = { #Province Scope
	NOT = { has_building = wharf }
	NOT = { has_building = weapons }
	NOT = { has_building = textile }
	NOT = { has_building = tradecompany }
	NOT = { has_building = farm_estate }
	NOT = { has_building = mills }
	NOT = { has_building = plantations }
	NOT = { has_building = furnace }
	NOT = { has_building = ramparts }
	NOT = { has_building = soldier_households }
	NOT = { has_building = impressment_offices }
	NOT = { has_building = state_house }
	NOT = { has_building = mage_tower }
}

# Does not include new manufactories - they don't fit for the purposes of this trigger
root_can_build_manufactory_here_trigger = {
    has_no_manufactory_trigger = yes
    num_free_building_slots = 1
	NOT = { trade_goods = gold }
	OR = {
		AND = {
            OR = {
                trade_goods = naval_supplies
                trade_goods = fish
                trade_goods = salt
            }
			ROOT = { dip_tech = 11 }
		}
		AND = {
            OR = {
                trade_goods = copper
                trade_goods = iron
                trade_goods = mithril
            }
			ROOT = { mil_tech = 11 }
		}
		AND = {
            OR = {
                trade_goods = wool
                trade_goods = cloth
                trade_goods = silk
                trade_goods = dyes
            }
			ROOT = { adm_tech = 11 }
		}
		AND = {
            OR = {
                trade_goods = coffee
                trade_goods = cotton
                trade_goods = sugar
                trade_goods = tobacco
                trade_goods = tea
                trade_goods = cocoa
            }
			ROOT = { adm_tech = 14 }
		}
		AND = {
            OR = {
                trade_goods = ivory
                trade_goods = slaves
                trade_goods = spices
                trade_goods = cloves
                trade_goods = fur
                trade_goods = incense
                
                #Anbennar
				trade_goods = precursor_relics
				trade_goods = damestear
            }
			ROOT = { dip_tech = 14 }
		}
		AND = {
            OR = {
                trade_goods = grain
                trade_goods = livestock
                trade_goods = wine

				#Anbennar
				trade_goods = fungi
				trade_goods = serpentbloom
            }
			ROOT = { adm_tech = 6 }
		}
		AND = {
            OR = {
                trade_goods = paper
                trade_goods = gems
                trade_goods = tropical_wood
                trade_goods = glass
                trade_goods = chinaware
            }
			ROOT = { adm_tech = 16 }
		}
		AND = {
            trade_goods = coal
			ROOT = { adm_tech = 21 }
		}
	}
}

has_nobles_trade_good_trigger = {
	OR = {
		trade_goods = copper
		trade_goods = iron
		trade_goods = livestock
		trade_goods = grain
		trade_goods = gems
		#AND = {
			trade_goods = slaves
			#ROOT = { NOT = { religion = nahuatl } }
		#}
	}
}

has_burghers_trade_good_trigger = {
	OR = {
		trade_goods = naval_supplies
		trade_goods = salt
		trade_goods = coffee
		trade_goods = cotton
		trade_goods = sugar
		trade_goods = tobacco
		trade_goods = tea
		trade_goods = cocoa
		trade_goods = cloth
		trade_goods = silk
		trade_goods = dyes
		trade_goods = coal
		trade_goods = spices
		trade_goods = cloves
		trade_goods = tropical_wood
		trade_goods = glass
		trade_goods = chinaware
		trade_goods = paper
		trade_goods = ivory
		#AND = {
			trade_goods = fish
			#ROOT = { NOT = { religion_group = christian } }
		#}
	}
}

has_church_trade_good_trigger = {
	OR = {
		trade_goods = wool
		trade_goods = fur
		#AND = {
			trade_goods = wine
			#ROOT = { NOT = { religion_group = muslim } }
		#}
		#AND = {
			trade_goods = slaves
			#ROOT = { religion = nahuatl }
		#}
		trade_goods = incense
		#AND = {
			trade_goods = fish
			#ROOT = { religion_group = christian }
		#}
	}
}

has_dharma_elephants_trigger = {
	OR = {
		has_dlc = "Dharma"
		has_dlc = "Dharma - Indian Sultanate Pack"
		has_dlc = "Dharma - Hindu Unit Pack"
	}
	OR = {
		#culture_group = hindusthani
		#culture_group = eastern_aryan
		#culture_group = western_aryan
		#culture_group = dravidian
		#culture_group = central_indic
		#culture_group = southeastasian_group
		#culture_group = burman
		#primary_culture = cham
		#primary_culture = sumatran
		#primary_culture = javanese
		#primary_culture = malayan
		#tag = CDL #Dali
		
		#Anbennar Ver
		culture_group = upper_raheni 
		culture_group = middle_raheni
		culture_group = south_raheni
	}
}

# This is for when we want to award government reform progress and need to check if that's useful to the player based on dlc ownership
has_completed_all_reforms_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_completed_all_reforms_trigger_tooltip
		NOT = { has_dlc = "Emperor" }
		OR = {
			AND = {
				government = monarchy
				reform_level = 11
			}
			AND = {
				government = republic
				reform_level = 13
			}
			AND = {
				government = theocracy
				reform_level = 13
			}
			AND = {
				government = native
				reform_level = 5
			}
			AND = {
				government = tribal
				reform_level = 6
			}
		}
	}
}

# This is for all other situations
has_final_tier_reforms_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_completed_all_reforms_trigger_tooltip
		OR = {
			AND = {
				government = monarchy
				reform_level = 11
			}
			AND = {
				government = republic
				reform_level = 13
			}
			AND = {
				government = theocracy
				reform_level = 13
			}
			AND = {
				government = native
				reform_level = 5
			}
			AND = {
				government = tribal
				reform_level = 6
			}
		}
	}
}

has_holy_order_trigger = {
	if = {
		limit = {
			has_dlc = "Golden Century"
		}
		custom_trigger_tooltip = {
			tooltip = "has_holy_order_trigger_tooltip"
			OR = {
				# holy_order = jesuit_order
				# holy_order = dominican_order
				# holy_order = franciscan_order
				# holy_order = shadhili_order
				# holy_order = qadiri_order
				# holy_order = aissawa_order
				# holy_order = mevlevi_order
				# holy_order = bektashi_order
				# holy_order = buzhengshi
				# holy_order = anchasi
				# holy_order = du_si
				# holy_order = benedictines
				# holy_order = carthusians
				# holy_order = hieronymites
				# holy_order = jesuit_order
				# holy_order = augustinians
				# holy_order = carmelites
				# holy_order = dominican_order
				# holy_order = franciscan_order
				# holy_order = alcantara_order
				# holy_order = avis_order
				# holy_order = calatrava_order
				# holy_order = montesa_order
				# holy_order = san_juan_order
				# holy_order = santiago_order
				#Anbennar
				holy_order = order_of_judges_order
				holy_order = servants_of_surael_order
				holy_order = order_of_exemplars_order
				holy_order = lightbringers_order
				holy_order = jasienes_daughters_order
				holy_order = militant_jadd_order
				holy_order = servants_of_surakel_order
				holy_order = eduz_nabari_order
				holy_order = the_unforgivable_order
				holy_order = agrados_passion_order
				holy_order = triadic_devotees_order
				holy_order = grudgeknights_order
			}
		}
	}
}

has_any_holy_order = {
	custom_trigger_tooltip = {
		tooltip = "has_holy_order_trigger_tooltip"
		OR = {
			# holy_order = benedictines
			# holy_order = carthusians
			# holy_order = hieronymites
			# holy_order = jesuit_order
			# holy_order = augustinians
			# holy_order = carmelites
			# holy_order = dominican_order
			# holy_order = franciscan_order
			# holy_order = alcantara_order
			# holy_order = avis_order
			# holy_order = calatrava_order
			# holy_order = montesa_order
			# holy_order = san_juan_order
			# holy_order = santiago_order
			# holy_order = shadhili_order
			# holy_order = qadiri_order
			# holy_order = aissawa_order
			# holy_order = mevlevi_order
			# holy_order = bektashi_order
			# holy_order = buzhengshi
			# holy_order = anchasi
			# holy_order = du_si
			# holy_order = savafid_order
			# holy_order = zahediyeh_order
		}
	}
}

can_create_holy_orders = {
	OR = {
		# AND = {
		# 	OR = { 
		# 		AND = { 
		# 			culture_group = iberian
		# 			religion = catholic
		# 		}
		# 		has_country_flag = enable_holy_orders_flag 
		# 	}
		# 	religion_group = christian
		# }
		# AND = {
		# 	OR = {
		# 		has_government_attribute = unlock_ottoman_holy_orders
		# 		primary_culture = andalucian
		# 		has_country_flag = ARB_grant_access_to_muslim_holy_orders_flag
		# 	}
		# 	religion_group = muslim
		# }
		# custom_trigger_tooltip = {
		# 	tooltip = mng_has_enabled_grand_coordinator_offices_tt
		# 	has_country_flag = mng_enable_3_grand_coordinators_offices_flag
		# } 
		# AND = {
		# 	OR = {
		# 		has_government_attribute = unlock_persia_holy_orders
		# 		has_country_flag = unlocked_holy_order_savafid_order
		# 		is_or_was_tag = { tag = ARL }
		# 	}
		# 	OR = {
		# 		religion = shiite
		# 		religion = ibadi
		# 	}
		# }
		# AND = {
		# 	OR = {
		# 		has_government_attribute = unlock_persia_holy_orders
		# 		has_country_flag = unlocked_holy_order_zahediyeh_order
		# 	}
		# 	religion_group = muslim
		# }
	}
}

unlocked_holy_order = {
	has_country_flag = unlocked_holy_order_$type$
}

same_govt_as_root_trigger = {
	custom_trigger_tooltip = {
		tooltip = same_govt_as_root_tt
		OR = {
			AND = {
				government = theocracy
				root = { government = theocracy }
			}
			AND = {
				government = monarchy
				root = { government = monarchy }
			}
			AND = {
				government = republic
				root = { government = republic }
			}
			AND = {
				government = dictatorship
				root = { government = dictatorship }
			}
			AND = {
				government = tribal
				root = { government = tribal }
			}
			AND = {
				government = native
				root = { government = native }
			}
		}
	}
}

# Building triggers

has_tax_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_tax_building_trigger_tt
		OR = {
			has_building = temple
			has_building = cathedral
		}
	}
}

has_trade_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_trade_building_trigger_tt
		OR = {
			has_building = marketplace
			has_building = trade_depot
			has_building = stock_exchange
		}
	}
}

has_production_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_production_building_trigger_tt
		OR = {
			has_building = workshop
			has_building = counting_house
		}
	}
}

has_manpower_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_manpower_building_trigger_tt
		OR = {
			has_building = barracks
			has_building = training_fields
		}
	}
}

has_shipyard_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_shipyard_building_trigger_tt
		OR = {
			has_building = shipyard
			has_building = grand_shipyard
		}
	}
}

has_dock_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_dock_building_trigger_tt
		OR = {
			has_building = dock
			has_building = drydock
		}
	}
}

has_forcelimit_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_forcelimit_building_trigger_tt
		OR = {
			has_building = regimental_camp
			has_building = conscription_center
		}
	}
}

has_courthouse_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_courthouse_building_trigger_tt
		OR = {	
			has_building = courthouse
			has_building = town_hall
		}
	}
}

has_fort_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_fort_building_trigger_tt
		OR = {
			has_building = fort_15th
			has_building = fort_16th
			has_building = fort_17th
			has_building = fort_18th
		}
	}
}

has_coast_defense_building_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_coast_defense_building_trigger_tt
		OR = {
			has_building = coastal_defence
			has_building = naval_battery
		}
	}
}

has_been_insulted_by_root = {
	custom_trigger_tooltip = {
		tooltip = has_been_insulted_by_root
		OR = {
			has_opinion_modifier = {
				who = ROOT
				modifier = insulted
			}
			has_opinion_modifier = {
				who = ROOT
				modifier = scornfully_insulted
			}
		}
	}
}

valid_for_personal_unions_trigger = {
	exists = yes
	is_subject = no
	government = monarchy

	#religion_group = christian
	OR = {
		religion_group = ynnic
		religion_group = east_sarhal_religion
		religion_group = cannorian
	}
}

is_shadow_kingdom_eligible_trigger = {
	is_emperor = no
	is_part_of_hre = yes
	OR = {
		capital_scope = { region = italy_region }
		AND = {
			culture_group = latin
			any_owned_province = {
				region = italy_region
			}
		}
	}
}

will_leave_for_shadow_kingdom_trigger = {
	NOT = {
		OR = {
			has_country_flag = reined_in_for_shadow_kingdom
			emperor = {
				alliance_with = PREV
			}
			has_opinion = {
				who = emperor
				value = 150
			}
			is_subject_of = emperor
			has_reform = free_city
		}
	}
}


is_germanic_but_not_swamp = {
	culture_group = germanic
	NOT = { primary_culture = dutch }
	NOT = { primary_culture = flemish }
	NOT = { primary_culture = frisian }
}

is_germanic_but_not_mountains = {
	culture_group = germanic
	NOT = { primary_culture = swiss }
	NOT = { primary_culture = austrian }
}

#province scope; checks it is highest or joint highest supply limit in the area owned by you (useful for spawning rebels)
highest_supply_limit_in_area = {
	NOT = {
		area_for_scope_province = { 
			NOT = { province_id = prev }
			owned_by = root
			supply_limit = prev 
			NOT = { prev = { supply_limit = prev } }
		}
	}
}

# Has current fort level
province_has_current_tech_fort_trigger = {
	custom_trigger_tooltip = {
		tooltip = province_has_current_tech_fort_trigger_tt
		if = {
			limit = {
				owner = {
					NOT = { mil_tech = 14 }
				}
			}
			OR = {
				has_building = fort_15th
				has_building = fort_16th
				has_building = fort_17th
				has_building = fort_18th
			}
		}
		else_if = {
			limit = {
				owner = {
					AND = {
						mil_tech = 14
						NOT = { mil_tech = 19 }
					}
				}
			}
			OR = {
				has_building = fort_16th
				has_building = fort_17th
				has_building = fort_18th
			}
		}
		else_if = {
			limit = {
				owner = {
					AND = {
						mil_tech = 19
						NOT = { mil_tech = 24 }
					}
				}
			}
			OR = {
				has_building = fort_17th
				has_building = fort_18th
			}
		}
		else_if = {
			limit = {
				owner = {
					mil_tech = 24
				}
			}
			has_building = fort_18th
		}
	}
}



province_has_current_tech_trade_trigger = {
	custom_trigger_tooltip = {
		tooltip = province_has_current_tech_trade_trigger_tt
		if = {
			limit = {
				owner = {
					NOT = { dip_tech = 17 }
				}
			}
			has_building = marketplace
		}
		else_if = {
			limit = {
				owner = {
					AND = {
						dip_tech = 17
						NOT = { dip_tech = 22 }
					}
				}
			}
			has_building = trade_depot
		}
		else_if = {
			limit = {
				owner = {
					dip_tech = 22
				}
			}
			has_building = stock_exchange
		}
	}
}


check_reducing_estate_revolt_size_trigger = {
	if = {
		limit = {
			NOT = { num_of_cities = 16 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 2
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 24 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 3
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 36 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 4
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 56 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 5
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 80 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 6
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 100 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 7
				has_province_flag = $FLAG$
			}
		}
	}
	else = {
		NOT = {
			num_of_owned_provinces_with = {
				value = 8
				has_province_flag = $FLAG$
			}
		}
	}
}

check_reducing_estate_revolt_size_more_trigger = {
	if = {
		limit = {
			NOT = { num_of_cities = 10 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 2
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 16 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 3
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 24 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 4
				has_province_flag = $FLAG$
			}
		}
	}
	else_if = {
		limit = {
			NOT = { num_of_cities = 36 }
		}
		NOT = {
			num_of_owned_provinces_with = {
				value = 5
				has_province_flag = $FLAG$
			}
		}
	}
	else = {
		NOT = {
			num_of_owned_provinces_with = {
				value = 6
				has_province_flag = $FLAG$
			}
		}
	}
}

is_revolutionary_republic_trigger = {
	OR = {
		has_reform = revolutionary_republic_reform
		has_reform = junior_revolutionary_republic_reform
		has_reform = beikdugang_revolutionary_thalassocracy_reform
	}
}

revolution_event_can_happen_trigger = {
	OR = {
		revolution_target_exists = no
		has_dlc = "Emperor"
	}
	OR = {
		capital_scope = { 
#			continent = europe 
			controlled_by = revolutionary_rebels
		}
		has_country_modifier = just_lost_to_revolutionary_rebels
		has_country_flag = revolution_disaster_immediate_revolution
	}
	is_revolutionary = no
}
#country scope, used in election events to check whether generated rulers may be female
republic_with_female_rulers_trigger = {
	OR = {
		has_active_policy = mandatory_service
		has_country_modifier = sister_suffragettes
		has_country_modifier = mary_inheritance_reforms
		has_reform = democratic_values_reform

		#Anbennar
		has_country_modifier = harpy_administration
		has_country_modifier = gnollish_administration
		has_reform = mountainshark_govzenszel
	}
}

is_absolutism_active = {
	OR = {
		current_age = age_of_absolutism
		current_age = age_of_revolutions
	}
}

is_southeast_tribe = {
	OR =  {
		# tag = HNI
		# tag = ALT
		# tag = ICH
		# tag = COF
		# tag = JOA
		# tag = ETO
		# tag = SAT
		# tag = CIA
		# tag = COO
		# tag = ABI
		# tag = COW
		# tag = NTZ
		# tag = CAQ
		# tag = PCH
		# tag = QUI
		# tag = CCA
		# tag = ATA
		# tag = KSI
		# tag = OEO
		# tag = ANL
		# tag = NTC
		# tag = OSA
		# tag = CAD
		# tag = POW
		# tag = CLG
		# tag = HWK
		# tag = CHO
	}
}

is_iroquois = {
	OR = {
	#	tag = TIO
	#	tag = TAH
	#	tag = ATT
	#	tag = AGG
	#	tag = ATW
	#	tag = ARN
	#	tag = OSH
	#	tag = STA
	#	tag = ERI
	#	tag = WEN
	#	tag = MOH
	#	tag = ONE
	#	tag = ONO
	#	tag = CAY
	#	tag = SEN
	#	tag = TSC
	#	tag = IRO
	}
}

is_volcanic_area = { #polynesia and indonesia	#Would be cool to replace this with our own in Anbennar
	OR = {
		# area = north_sumatra_area #aceh
		# area = batak_area
		# area = minangkabau_area
		# area = south_sumatra_area #lampung
		# area = banten_area
		# area = east_java_area
		# area = central_java_area
		# area = west_java_area
		# area = lesser_sunda_islands_area
		# area = mindanao_area #east mindanao
		# area = west_mindanao_area
		# area = visayas_area
		# area = luzon_area #northern luzon
		# area = southern_luzon_area
		# area = te_ika_a_maui_hauauru_area
		# area = te_ika_a_maui_waho_area
		# area = eastern_polynesia_area #tahiti
		# area = northern_polynesia_area #hawaii
		# area = polynesia_area
		# area = melanesia_area
		# area = papua_area
	}
}

#Country scope
is_or_was_tag = {
	OR = {
		tag = $tag$
		was_tag = $tag$
	}
}

#Province scope
is_trade_node_province = {
	custom_trigger_tooltip = {
		tooltip = is_trade_node_province_tt
		# Updated with Anbennar nodes
		OR = {
			province_id = 5381
			province_id = 5202
			province_id = 5179
			province_id = 5315
			province_id = 5312
			province_id = 5085
			province_id = 1444
			province_id = 1382
			province_id = 5029
			province_id = 5102
			province_id = 5003
			province_id = 4990
			province_id = 5372
			province_id = 5406
			province_id = 2855
			province_id = 1165
			province_id = 1139
			province_id = 1492
			province_id = 1693
			province_id = 1690
			province_id = 1374
			province_id = 4630
			province_id = 4311
			province_id = 4247
			province_id = 4952
			province_id = 4859
			province_id = 1372
			province_id = 1371
			province_id = 4779
			province_id = 1369
			province_id = 1366
			province_id = 1364
			province_id = 4460
			province_id = 4435
			province_id = 4500
			province_id = 4485
			province_id = 1361
			province_id = 1348
			province_id = 1683
			province_id = 6241
			province_id = 2822
			province_id = 1720
			province_id = 2484
			province_id = 1544
			province_id = 2377
			province_id = 1607
			province_id = 1539
			province_id = 1662
			province_id = 1546
			province_id = 2665
			province_id = 1731
			province_id = 1741
			province_id = 1553
			province_id = 1681
			province_id = 1511
			province_id = 1438
			province_id = 1528
			province_id = 1519
			province_id = 1583
			province_id = 1527
			province_id = 1576
			province_id = 1504
			province_id = 3023
			province_id = 2901
			province_id = 4124
			province_id = 671
			province_id = 4100
			province_id = 2931
			province_id = 880
			province_id = 4236
			province_id = 833
			province_id = 229
			province_id = 357
			province_id = 4202
			province_id = 1289
			province_id = 1477
			province_id = 221
			province_id = 1324
			province_id = 1294
			province_id = 1928
			province_id = 1263
			province_id = 1292
			province_id = 1259
			province_id = 640
			province_id = 601
			province_id = 1309
			province_id = 1312
			province_id = 1303
			province_id = 904
			province_id = 901
			province_id = 481
			province_id = 1305
			province_id = 1296
			province_id = 1270
			province_id = 1252
			province_id = 4119
		}
	}
}

is_inland_trade_node_province = {
	custom_trigger_tooltip = {
		tooltip = is_inland_trade_node_province_tt
		# Updated with Anbennar nodes
		OR = {
			province_id = 5381
			province_id = 5202
			province_id = 5179
			province_id = 5085
			province_id = 5029
			province_id = 5102
			province_id = 5003
			province_id = 5372
			province_id = 5406
			province_id = 2855
			province_id = 1165
			province_id = 1139
			province_id = 4630
			province_id = 4311
			province_id = 4247
			province_id = 4952
			province_id = 4859
			province_id = 4779
			province_id = 1364
			province_id = 4460
			province_id = 4435
			province_id = 4500
			province_id = 4485
			province_id = 2822
			province_id = 2484
			province_id = 2377
			province_id = 1662
			province_id = 2665
			province_id = 3023
			province_id = 2901
			province_id = 4124
			province_id = 671
			province_id = 4100
			province_id = 2931
			province_id = 880
			province_id = 4236
			province_id = 833
			province_id = 229
			province_id = 357
			province_id = 4202
			province_id = 640
			province_id = 601
			province_id = 904
			province_id = 901
			province_id = 481
			province_id = 4119
		}
	}
}

is_not_inland_trade_node_province = {
	custom_trigger_tooltip = {
		tooltip = is_not_inland_trade_node_province_tt
		# Updated with Anbennar nodes
		NOT = { province_id = 5381 }
		NOT = { province_id = 5202 }
		NOT = { province_id = 5179 }
		NOT = { province_id = 5085 }
		NOT = { province_id = 5029 }
		NOT = { province_id = 5102 }
		NOT = { province_id = 5003 }
		NOT = { province_id = 5372 }
		NOT = { province_id = 5406 }
		NOT = { province_id = 2855 }
		NOT = { province_id = 1165 }
		NOT = { province_id = 1139 }
		NOT = { province_id = 4630 }
		NOT = { province_id = 4311 }
		NOT = { province_id = 4247 }
		NOT = { province_id = 4952 }
		NOT = { province_id = 4859 }
		NOT = { province_id = 4779 }
		NOT = { province_id = 1364 }
		NOT = { province_id = 4460 }
		NOT = { province_id = 4435 }
		NOT = { province_id = 4500 }
		NOT = { province_id = 4485 }
		NOT = { province_id = 2822 }
		NOT = { province_id = 2484 }
		NOT = { province_id = 2377 }
		NOT = { province_id = 1662 }
		NOT = { province_id = 2665 }
		NOT = { province_id = 3023 }
		NOT = { province_id = 2901 }
		NOT = { province_id = 4124 }
		NOT = { province_id = 671 }
		NOT = { province_id = 4100 }
		NOT = { province_id = 2931 }
		NOT = { province_id = 880 }
		NOT = { province_id = 4236 }
		NOT = { province_id = 833 }
		NOT = { province_id = 229 }
		NOT = { province_id = 357 }
		NOT = { province_id = 4202 }
		NOT = { province_id = 640 }
		NOT = { province_id = 601 }
		NOT = { province_id = 904 }
		NOT = { province_id = 901 }
		NOT = { province_id = 481 }
		NOT = { province_id = 4119 }
	}
}

#Province scope
is_european_trade_node_province = {
	OR = {
		#Anbennar
		#province_id = 1293
		#province_id = 1295
		#province_id = 1298
		#province_id = 1308
		#province_id = 137
		#province_id = 1320
		#province_id = 1324
		#province_id = 280
		#province_id = 153
		#province_id = 134
		#province_id = 61
		#province_id = 45
		#province_id = 1876
		#province_id = 186
		#province_id = 1269
		#province_id = 1276
		#province_id = 1975
		#province_id = 1926
		#province_id = 33
		#province_id = 1652
		#province_id = 1082
		#province_id = 464
	}
}

european_trade_node_scope = {
	# 1293 = { $trigger$ }
	# 1295 = { $trigger$ }
	# 1298 = { $trigger$ }
	# 1308 = { $trigger$ }
	# 137 = { $trigger$ }
	# 1320 = { $trigger$ }
	# 1324 = { $trigger$ }
	# 280 = { $trigger$ }
	# 153 = { $trigger$ }
	# 134 = { $trigger$ }
	# 61 = { $trigger$ }
	# 45 = { $trigger$ }
	# 1876 = { $trigger$ }
	# 186 = { $trigger$ }
	# 1269 = { $trigger$ }
	# 1276 = { $trigger$ }
	# 1975 = { $trigger$ }
	# 1926 = { $trigger$ }
	# 33 = { $trigger$ }
	# 1652 = { $trigger$ }
	# 1082 = { $trigger$ }
	# 464 = { $trigger$ }
}

#Province scope
is_indian_trade_node_province = {
	OR = {
		#province_id = 504
		#province_id = 507
		#province_id = 524
		#province_id = 1343
		#province_id = 1948
		#province_id = 1340
	}
}

#Province scope
is_african_trade_node_province = {
	OR = {
		#Anbennar
		# province_id = 4097
		# province_id = 4064
		# province_id = 1191
		# province_id = 1448
		# province_id = 4346
		# province_id = 2772
		# province_id = 358
		# province_id = 1460
		# province_id = 1466
		# province_id = 1149
		# province_id = 1132
		# province_id = 341
		# province_id = 1110
	}
}

#Province scope
is_american_trade_node_province = {
	OR = {
		#Anbennar
		# province_id = 1490
		# province_id = 1486
		# province_id = 2526
		# province_id = 1500
		# province_id = 1507
		# province_id = 2499
		# province_id = 1551
		# province_id = 1516
		# province_id = 4637
		# province_id = 835
		# province_id = 2935
		# province_id = 809
		# province_id = 800
		# province_id = 1531
		# province_id = 1536
		# province_id = 2868
	}
}

#Anbennar note, this is for 1.32 and is a pain to update so dont bother to be honest. We dont need this
has_any_colonist_idea = {
	OR = {
		has_idea = colonial_ventures
		has_idea = additional_colonists
		has_idea = general_colonization_law
		has_idea = pioneer_spirit
		has_idea = manifest_destiny
		has_idea = settling_the_interior
		has_idea = cab_carib_seafaring
		has_idea = lon_conquistadores
		has_idea = nzh_expand_to_the_east
		has_idea = hdr_distant_diplomacy	#Colonist is in the ambition
		has_idea = AUS_outback_stations
		has_idea = NZL_pokarekare_ana	#Colonist is in the ambition
		has_idea = WSI_Colonial_Legacy	#Colonist is in the ambition
		has_idea = asu_colonialism
		has_idea = adu_expeditionary_sentiment
		has_idea = ICE_nationalism	#Colonist is in the ambition
		has_idea = maj_nusa_tenggara
	}
}

has_completed_idea_group_of_category = {
	[[adm_ideas]
		custom_trigger_tooltip = {
			tooltip = has_completed_one_adm_idea_group
			OR = {
				full_idea_group = innovativeness_ideas
				full_idea_group = religious_ideas
				full_idea_group = economic_ideas
				full_idea_group = expansion_ideas
				full_idea_group = administrative_ideas
				full_idea_group = humanist_ideas
				full_idea_group = infrastructure_ideas
			}
		}
	]
	[[dip_ideas]
		custom_trigger_tooltip = {
			tooltip = has_completed_one_dip_idea_group
			OR = {
				full_idea_group = spy_ideas
				full_idea_group = diplomatic_ideas
				full_idea_group = trade_ideas
				full_idea_group = exploration_ideas
				full_idea_group = maritime_ideas
				full_idea_group = influence_ideas
				full_idea_group = court_ideas
			}
		}
	]
	[[mil_ideas]
		custom_trigger_tooltip = {
			tooltip = has_completed_one_mil_idea_group
			OR = {
				full_idea_group = aristocracy_ideas
				full_idea_group = offensive_ideas
				full_idea_group = defensive_ideas
				full_idea_group = quality_ideas
				full_idea_group = quantity_ideas
				full_idea_group = naval_ideas
				full_idea_group = theocracy_gov_ideas
				full_idea_group = indigenous_ideas
				full_idea_group = horde_gov_ideas
				full_idea_group = plutocracy_ideas
				full_idea_group = mercenary_ideas
			}
		}
	]
}

#1.35
num_of_completed_idea_groups_by_category = {
	calc_true_if = {
		[[adm_ideas]
			full_idea_group = innovativeness_ideas
			full_idea_group = religious_ideas
			full_idea_group = economic_ideas
			full_idea_group = expansion_ideas
			full_idea_group = administrative_ideas
			full_idea_group = humanist_ideas
			full_idea_group = infrastructure_ideas
		]
		[[dip_ideas]
			full_idea_group = spy_ideas
			full_idea_group = diplomatic_ideas
			full_idea_group = trade_ideas
			full_idea_group = exploration_ideas
			full_idea_group = maritime_ideas
			full_idea_group = influence_ideas
			full_idea_group = court_ideas
		]
		[[mil_ideas]
			full_idea_group = aristocracy_ideas
			full_idea_group = offensive_ideas
			full_idea_group = defensive_ideas
			full_idea_group = quality_ideas
			full_idea_group = quantity_ideas
			full_idea_group = naval_ideas
			full_idea_group = theocracy_gov_ideas
			full_idea_group = indigenous_ideas
			full_idea_group = horde_gov_ideas
			full_idea_group = plutocracy_ideas
			full_idea_group = mercenary_ideas
		]
		amount = $amount$
	}
}

num_of_idea_groups_chosen = {
	calc_true_if = {
		has_idea_group = innovativeness_ideas
		has_idea_group = religious_ideas
		has_idea_group = economic_ideas
		has_idea_group = expansion_ideas
		has_idea_group = administrative_ideas
		has_idea_group = humanist_ideas
		has_idea_group = infrastructure_ideas
		has_idea_group = spy_ideas
		has_idea_group = diplomatic_ideas
		has_idea_group = trade_ideas
		has_idea_group = exploration_ideas
		has_idea_group = maritime_ideas
		has_idea_group = influence_ideas
		has_idea_group = court_ideas
		has_idea_group = aristocracy_ideas
		has_idea_group = offensive_ideas
		has_idea_group = defensive_ideas
		has_idea_group = quality_ideas
		has_idea_group = quantity_ideas
		has_idea_group = naval_ideas
		has_idea_group = theocracy_gov_ideas
		has_idea_group = indigenous_ideas
		has_idea_group = horde_gov_ideas
		has_idea_group = plutocracy_ideas
		has_idea_group = mercenary_ideas
		amount = $amount$
	}
}

#has_religion_of_increased_opinion_for_scope = {
#	OR = {
#		AND = { religion = catholic $who$ = { has_country_flag = has_increased_catholic_opinion } }
#		AND = { religion = anglican $who$ = { has_country_flag = has_increased_anglican_opinion } }
#		AND = { religion = hussite $who$ = { has_country_flag = has_increased_hussite_opinion } }
#		AND = { religion = protestant $who$ = { has_country_flag = has_increased_protestant_opinion } }
#		AND = { religion = reformed $who$ = { has_country_flag = has_increased_reformed_opinion } }
#		AND = { religion = orthodox $who$ = { has_country_flag = has_increased_orthodox_opinion } }
#		AND = { religion = coptic $who$ = { has_country_flag = has_increased_coptic_opinion } }
#		AND = { religion = sunni $who$ = { has_country_flag = has_increased_sunni_opinion } }
#		AND = { religion = shiite $who$ = { has_country_flag = has_increased_shiite_opinion } }
#		AND = { religion = ibadi $who$ = { has_country_flag = has_increased_ibadi_opinion } }
#		AND = { religion = buddhism $who$ = { has_country_flag = has_increased_buddhism_opinion } }
#		AND = { religion = vajrayana $who$ = { has_country_flag = has_increased_vajrayana_opinion } }
#		AND = { religion = mahayana $who$ = { has_country_flag = has_increased_mahayana_opinion } }
#		AND = { religion = confucianism $who$ = { has_country_flag = has_increased_confucianism_opinion } }
#		AND = { religion = shinto $who$ = { has_country_flag = has_increased_shinto_opinion } }
#		AND = { religion = hinduism $who$ = { has_country_flag = has_increased_hinduism_opinion } }
#		AND = { religion = sikhism $who$ = { has_country_flag = has_increased_sikhism_opinion } }
#		AND = { religion = animism $who$ = { has_country_flag = has_increased_animism_opinion } }
#		AND = { religion = shamanism $who$ = { has_country_flag = has_increased_shamanism_opinion } }
#		AND = { religion = dotimism $who$ = { has_country_flag = has_increased_dotimism_opinion } }
#		AND = { religion = inti $who$ = { has_country_flag = has_increased_inti_opinion } }
#		AND = { religion = nahuatl $who$ = { has_country_flag = has_increased_nahuatl_opinion } }
#		AND = { religion = mesoamerican_religion $who$ = { has_country_flag = has_increased_mesoamerican_religion_opinion } }
#		AND = { religion = norse_pagan_reformed $who$ = { has_country_flag = has_increased_norse_pagan_reformed_opinion } }
#		AND = { religion = tengri_pagan_reformed $who$ = { has_country_flag = has_increased_tengri_pagan_reformed_opinion } }
#		AND = { religion = dreamtime $who$ = { has_country_flag = has_increased_dreamtime_opinion } }
#		AND = { religion = jewish $who$ = { has_country_flag = has_increased_jewish_opinion } }
#		AND = { religion = zoroastrian $who$ = { has_country_flag = has_increased_zoroastrian_opinion } }
#	}
#}
#
#reverse_has_religion_of_increased_opinion_for_scope = {
#	OR = {
#		AND = { $who$ = { religion = catholic } has_country_flag = has_increased_catholic_opinion }
#		AND = { $who$ = { religion = anglican } has_country_flag = has_increased_anglican_opinion }
#		AND = { $who$ = { religion = hussite } has_country_flag = has_increased_hussite_opinion }
#		AND = { $who$ = { religion = protestant } has_country_flag = has_increased_protestant_opinion }
#		AND = { $who$ = { religion = reformed } has_country_flag = has_increased_reformed_opinion }
#		AND = { $who$ = { religion = orthodox } has_country_flag = has_increased_orthodox_opinion }
#		AND = { $who$ = { religion = coptic } has_country_flag = has_increased_coptic_opinion }
#		AND = { $who$ = { religion = sunni } has_country_flag = has_increased_sunni_opinion }
#		AND = { $who$ = { religion = shiite } has_country_flag = has_increased_shiite_opinion }
#		AND = { $who$ = { religion = ibadi } has_country_flag = has_increased_ibadi_opinion }
#		AND = { $who$ = { religion = buddhism } has_country_flag = has_increased_buddhism_opinion }
#		AND = { $who$ = { religion = vajrayana } has_country_flag = has_increased_vajrayana_opinion }
#		AND = { $who$ = { religion = mahayana } has_country_flag = has_increased_mahayana_opinion }
#		AND = { $who$ = { religion = confucianism } has_country_flag = has_increased_confucianism_opinion }
#		AND = { $who$ = { religion = shinto } has_country_flag = has_increased_shinto_opinion }
#		AND = { $who$ = { religion = hinduism } has_country_flag = has_increased_hinduism_opinion }
#		AND = { $who$ = { religion = sikhism } has_country_flag = has_increased_sikhism_opinion }
#		AND = { $who$ = { religion = animism } has_country_flag = has_increased_animism_opinion }
#		AND = { $who$ = { religion = shamanism } has_country_flag = has_increased_shamanism_opinion }
#		AND = { $who$ = { religion = dotimism } has_country_flag = has_increased_dotimism_opinion }
#		AND = { $who$ = { religion = inti } has_country_flag = has_increased_inti_opinion }
#		AND = { $who$ = { religion = nahuatl } has_country_flag = has_increased_nahuatl_opinion }
#		AND = { $who$ = { religion = mesoamerican_religion } has_country_flag = has_increased_mesoamerican_religion_opinion }
#		AND = { $who$ = { religion = norse_pagan_reformed } has_country_flag = has_increased_norse_pagan_reformed_opinion }
#		AND = { $who$ = { religion = tengri_pagan_reformed } has_country_flag = has_increased_tengri_pagan_reformed_opinion }
#		AND = { $who$ = { religion = dreamtime } has_country_flag = has_increased_dreamtime_opinion }
#		AND = { $who$ = { religion = jewish } has_country_flag = has_increased_jewish_opinion }
#		AND = { $who$ = { religion = zoroastrian } has_country_flag = has_increased_zoroastrian_opinion }
#	}
#}

mal_will_accept_offer = {
	$province$ = {
		owner = {
			OR = {
				alliance_with = ROOT
				is_subject_of = ROOT
				has_opinion = {
					who = ROOT
					value = 100
				}
			}
		}
	}
}

mal_very_highly_to_accept_offer = {
	$province$ = {
		owner = {
			has_opinion = {
				who = ROOT
				value = 50
			}
		}
	}
}

mal_might_or_might_not_accept_offer = {
	$province$ = {
		owner = {
			has_opinion = {
				who = ROOT
				value = -50
			}
			NOT = {
				has_opinion = {
					who = ROOT
					value = 50
				}
			}
		}
	}
}

mal_very_likely_to_not_accept_offer = {
	$province$ = {
		owner = {
			NOT = {
				has_opinion = {
					who = ROOT
					value = 50
				}
			}
		}
	}
}

mal_will_never_accept_offer = {
	$province$ = {
		owner = {
			OR = {
				is_rival = ROOT
				is_enemy = ROOT
				NOT = {
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
			}
		}
	}
}

has_any_heir_cult_active = {
	OR = {
		has_country_modifier = junior_yemoja_cult
		has_country_modifier = junior_roog_cult
		has_country_modifier = junior_nyame_cult
		has_country_modifier = junior_cwezi_cult
		has_country_modifier = junior_central_african_ancestor_cult
		has_country_modifier = junior_mwari_cult
		has_country_modifier = junior_enkai_cult
		has_country_modifier = junior_waaq_cult
		has_country_modifier = junior_zanahary_cult
		has_country_modifier = junior_christianity_cult
		has_country_modifier = junior_islam_cult
		has_country_modifier = junior_buddhism_cult
		has_country_modifier = junior_dharmic_cult
		has_country_modifier = junior_south_central_american_cult
		has_country_modifier = junior_norse_cult
		has_country_modifier = junior_jewish_cult
		has_country_modifier = junior_zoroastrian_cult
	}
}

gained_development_from_building = {
	has_province_flag = built_dev_$building$
}

#1.35
gained_dev_from_eco_building = {
	has_province_flag = built_eco_dev_$building$
}

gained_development_from_any_building = {
	OR = {
		has_province_flag = built_dev_marketplace
		has_province_flag = built_dev_workshop
		has_province_flag = built_dev_temple
		has_province_flag = built_dev_barracks
		has_province_flag = built_dev_shipyard
		has_province_flag = built_dev_courthouse
		has_province_flag = built_dev_dock
		has_province_flag = built_dev_regimental_camp
		has_province_flag = built_dev_cathedral
		has_province_flag = built_dev_university
		has_province_flag = built_dev_trade_depot
		has_province_flag = built_dev_grand_shipyard
		has_province_flag = built_dev_training_fields
		has_province_flag = built_dev_stock_exchange
		has_province_flag = built_dev_counting_house
		has_province_flag = built_dev_town_hall
		has_province_flag = built_dev_drydock
		has_province_flag = built_dev_conscription_center
		has_province_flag = built_dev_manufactory
	}
}

has_primary_cult = {
	has_country_flag = has_$cult$_as_primary_cult
}

has_a_primary_cult_selected = {
	custom_trigger_tooltip = {
		tooltip = has_a_primary_cult_selected_tt
		has_country_flag = has_selected_a_primary_cult
	}
}

has_better_tech_than_westerns = {
	custom_trigger_tooltip = {
		tooltip = has_better_tech_than_westerns_tt
		NOT = {
			any_country = {
				tech_difference = 1
				technology_group = western
				NOT = { tag = ROOT } #1.35
			}
		}
	}
}

has_more_institutions_than_westerns = {
	custom_trigger_tooltip = {
		tooltip = has_more_institutions_than_westerns_tt
		NOT = {
			calc_true_if = {
				all_country = {
					institution_difference = {
						who = ROOT
						value = 1
					}
					technology_group = western
					NOT = { tag = ROOT } #1.35
				}
				amount = 1
			}
		}
	}
}

is_not_free_merc_company = {
	ROOT = {
		# NOT = { mercenary_company = merc_hakkapeliita_cavalry }
		# NOT = { mercenary_company = merc_prussian_volunteer_army }
		# NOT = { mercenary_company = merc_knights_templar }
		# NOT = { mercenary_company = merc_swiss_guard }
		# NOT = { mercenary_company = merc_large_hakkapeliita_cavalry }
		# NOT = { mercenary_company = merc_guerilla_hakkapeliita_cavalry }
		# NOT = { mercenary_company = merc_elite_hakkapeliita_cavalry }
		# NOT = { mercenary_company = merc_mongol_banner }
		# NOT = { mercenary_company = merc_swiss_canton_mercenaries }
		# NOT = { mercenary_company = merc_japanese_volunteers }
		# NOT = { mercenary_company = merc_militant_order_of_saint_joan }
		# NOT = { mercenary_company = merc_black_army }
		# NOT = { mercenary_company = merc_black_army_2 }
		# NOT = { mercenary_company = merc_tatar_vanguard }
		# NOT = { mercenary_company = merc_righteous_army }
		# NOT = { mercenary_company = merc_scouting_almogavars }
		# NOT = { mercenary_company = merc_skirmishing_almogavars }
		# NOT = { mercenary_company = merc_veteran_almogavars }
		#Anbennar
		NOT = { mercenary_company = merc_442nd }
		NOT = { mercenary_company = merc_aelnar_first_corps }
		NOT = { mercenary_company = merc_aelnar_second_corps }
		NOT = { mercenary_company = merc_aelnar_third_corps }
		NOT = { mercenary_company = merc_aelnar_fourth_corps }
		NOT = { mercenary_company = merc_aelnar_precursor_legions }
		NOT = { mercenary_company = merc_amldahvad_guard }
		NOT = { mercenary_company = merc_corvurian_dark_legion }
		NOT = { mercenary_company = merc_domandrod_lightbringers }
		NOT = { mercenary_company = merc_grim_legion }
		NOT = { mercenary_company = merc_iron_company }
		NOT = { mercenary_company = merc_marrhold_griffon_bombardiers }
		NOT = { mercenary_company = merc_marrhold_griffon_grenadiers }
		NOT = { mercenary_company = merc_marrhold_griffon_knight }
		NOT = { mercenary_company = merc_marrhold_griffon_sky_lancers }
		NOT = { mercenary_company = merc_marrhold_griffon_survey }
		NOT = { mercenary_company = merc_marrhold_steel_griffon }
		NOT = { mercenary_company = merc_ogrillons }
		NOT = { mercenary_company = merc_rezankand_var_kultoz }
		NOT = { mercenary_company = merc_sarisung_city_guard }
		NOT = { mercenary_company = merc_seinathil_warsingers }
		NOT = { mercenary_company = merc_serpent_knights }
		NOT = { mercenary_company = merc_jaddaresas_chosen }
		NOT = { mercenary_company = merc_suraelic_guard }
		NOT = { mercenary_company = merc_wolves_of_crovis }
		NOT = { mercenary_company = merc_order_of_keepers }
		NOT = { mercenary_company = merc_cannorian_veterans }
		NOT = { mercenary_company = merc_convocationary_guard }
		NOT = { mercenary_company = merc_blue_viziers }
		NOT = { mercenary_company = merc_shuvuush_auxillaries }
		NOT = { mercenary_company = merc_kenmanshir }
		NOT = { mercenary_company = merc_dhenijanraj_sramaya_pearlglaives }
		NOT = { mercenary_company = merc_dhenijanraj_tiger_command }
		NOT = { mercenary_company = merc_feiten_jellyfish_scouts }
		NOT = { mercenary_company = merc_feiten_lightning_jellyfish }
		NOT = { mercenary_company = merc_feiten_stasis }
		NOT = { mercenary_company = merc_feiten_firestorm }
		NOT = { mercenary_company = merc_feiten_sky_factory }
		NOT = { mercenary_company = merc_jiantsiang_blazing_claws }
		NOT = { mercenary_company = merc_jiantsiang_shuvuush_auxilaries }
		NOT = { mercenary_company = merc_northern_legion }
		NOT = { mercenary_company = merc_novice_slayers }
		NOT = { mercenary_company = merc_bloodied_slayers }
		NOT = { mercenary_company = merc_doomed_slayers }
		NOT = { mercenary_company = veykodan_guard_elite_merc }
		NOT = { mercenary_company = merc_vault_guard }
		NOT = { mercenary_company = merc_tluukt_harpy_janissaries }
		NOT = { mercenary_company = merc_tluukt_masnsih_janissaries }
		NOT = { mercenary_company = merc_tluukt_bulwar_janissaries }
		NOT = { mercenary_company = merc_bianfang_hobgoblin_army }
		NOT = { mercenary_company = merc_freemarches_the_gray_guard }
		NOT = { mercenary_company = merc_dartax_sebhuliam }
		NOT = { mercenary_company = merc_dartax_mage_sebhuliam }
		NOT = { mercenary_company = merc_amacimst_the_amethyst_order }
		NOT = { mercenary_company = merc_shazstundihr_marbleblood }
		NOT = { mercenary_company = merc_newshire_peapods }
		NOT = { mercenary_company = merc_newshire_wallnuts }
		NOT = { mercenary_company = merc_newshire_squashkin }
		NOT = { mercenary_company = merc_newshire_sunwatchers }
		NOT = { mercenary_company = merc_terror_knights }
		NOT = { mercenary_company = merc_crimson_executioners }
		NOT = { mercenary_company = merc_fjarforska }
		NOT = { mercenary_company = merc_siadan_stormtalon_guard }
		NOT = { mercenary_company = merc_surani_exemplars }
		NOT = { mercenary_company = merc_jaherian_exemplars }
		NOT = { mercenary_company = merc_command_wolf_army }
		NOT = { mercenary_company = merc_command_boar_army }
		NOT = { mercenary_company = merc_command_lion_army }
		NOT = { mercenary_company = merc_command_dragon_army }
		NOT = { mercenary_company = merc_command_elephant_army }
		NOT = { mercenary_company = merc_command_tiger_army }
		NOT = { mercenary_company = merc_mountainshark_giantsharks }
		NOT = { mercenary_company = merc_mountainshark_dragonsharks }
		NOT = { mercenary_company = merc_chien_boarsofdinh }
		NOT = { mercenary_company = merc_shrine_guard}
		NOT = { mercenary_company = merc_raggedy_gun_knights }
		NOT = { mercenary_company = merc_lords_of_platinum }
		NOT = { mercenary_company = merc_lords_of_platinum_improved }
		NOT = { mercenary_company = merc_yidabs_vanguard }
		NOT = { mercenary_company = merc_steam_baron_engineering_corps }
		NOT = { mercenary_company = merc_mboala_war_dogs }
		NOT = { mercenary_company = merc_verkalgulan_the_golden_shield_company }
		NOT = { mercenary_company = merc_verkalgulan_the_citadel_cannonneers }
		NOT = { mercenary_company = merc_verkalgulan_the_kings_gate_banners }
		NOT = { mercenary_company = merc_paddleboard_knights }
		NOT = { mercenary_company = merc_haebiszyae_guard_cavalry }
		NOT = { mercenary_company = merc_royakottar_kattyva_elite_vangaurd }
	}
}

has_free_mercs_trait = {
	OR = {
		# has_country_modifier = dan_sca_merc_contract
		has_idea = seasoned_veterans
		has_government_attribute = mercs_do_not_cost_army_professionalism
		# has_country_flag = fra_free_mercs_bargain_sale_flag
	}
}

has_not_free_mercs_trait = {
	NOT = { has_country_modifier = dan_sca_merc_contract }
	NOT = { has_idea = seasoned_veterans } #1.35
	NOT = { has_government_attribute = mercs_do_not_cost_army_professionalism }
	NOT = { has_country_flag = fra_free_mercs_bargain_sale_flag } #1.35
}

##########################################################
# Supports following merc companies
# merc_oyo_cavalry
# merc_hakkapeliita_cavalry
# merc_prussian_volunteer_army
# merc_large_hakkapeliita_cavalry
# merc_guerilla_hakkapeliita_cavalry
# merc_elite_hakkapeliita_cavalry
# merc_schwarze_garde
# merc_hessian_jaegerkorps
# merc_doppelsoeldner
# merc_frisian_free_company
# merc_flemish_company
# merc_reislaufer
##########################################################
# When adding a new merc company then make sure that a unlock_$merc_company$_tt is defined in the localization
# For localization purposes use the following line: "Has unlocked the §Y$merc_company$§! mercenary company."

has_unlocked_estate_privilege = {
	has_country_flag = unlocked_privilege_$estate_privilege$
}

has_unlocked_merc_company = {
	custom_trigger_tooltip = {
		tooltip = has_unlocked_$merc_company$
		has_country_flag = unlocked_$merc_company$
	}
}

##########################################################
# Supports following merc companies
##########################################################
# When adding a new merc company then make sure that a unlock_$merc_company$_tt is defined in the localization
# For localization purposes use the following line: "The §Y$merc_company$§! mercenary company has been globally unlocked."
has_globally_unlocked_merc_company = {
	custom_trigger_tooltip = {
		tooltip = has_globally_unlocked_$merc_company$
		has_global_flag = global_unlocked_$merc_company$
	}

}

has_unlocked_government_reform = {
	has_country_flag = unlocked_$government_reform$
}

#This trigger is used for enabled estates which should be active, but can naturally disappear (like through revolutions)
has_unlocked_estate = {
	has_country_flag = unlocked_$estate$_flag
}

#This trigger is used for enabled estates which should be active at all time, no matter what
has_enabled_estate = {
	has_country_flag = enables_$estate$_flag
}

has_disabled_estate = {
	has_country_flag = disables_$estate$_flag
}

#### Supports the following government reforms ####
# prussian_monarchy
# prussian_monarchy_base
# prussian_republic_reform
# prussian_theocratic_reform
# livonian_military_monarchy
# livonian_naval_monarchy
# livonian_trade_monarchy
# livonian_theocratic_monarchy
# livonian_elective_monarchy
# livonian_monarchy
# livonian_mercenary_monarchy
# livonian_diplomatic_monarchy
# livonian_constitutional_monarchy
# livonian_administrative_monarchy
# livonian_admiral_monarchy
# livonian_naval_controlled_monarchy
# livonian_general_controlled_monarchy
# livonian_absolute_monarchy
# livonian_enlightened_monarchy
has_unlocked_government_reform_tooltip = {
	custom_trigger_tooltip = {
		tooltip = unlocked_$government_reform$_tt
		has_country_flag = unlocked_$government_reform$
	}
}

mal_target_country_exists_in_region = {
	OR = {
		AND = { has_country_flag = mal_journey_to_maghreb			any_country = { capital_scope = { region = maghreb_region			} } }
		AND = { has_country_flag = mal_journey_to_iberia			any_country = { capital_scope = { region = iberia_region			} } }
		AND = { has_country_flag = mal_journey_to_france			any_country = { capital_scope = { region = france_region			} } }
		AND = { has_country_flag = mal_journey_to_italy				any_country = { capital_scope = { region = italy_region				} } }
		AND = { has_country_flag = mal_journey_to_south_germany		any_country = { capital_scope = { region = south_german_region		} } }
		AND = { has_country_flag = mal_journey_to_balkans			any_country = { capital_scope = { region = balkan_region			} } }
		AND = { has_country_flag = mal_journey_to_anatolia			any_country = { capital_scope = { region = anatolia_region			} } }
		AND = { has_country_flag = mal_journey_to_mashriq			any_country = { capital_scope = { region = mashriq_region			} } }
		AND = { has_country_flag = mal_journey_to_egypt				any_country = { capital_scope = { region = egypt_region				} } }
		AND = { has_country_flag = mal_journey_to_arabia			any_country = { capital_scope = { region = arabia_region			} } }
		AND = { has_country_flag = mal_journey_to_horn_of_africa	any_country = { capital_scope = { region = horn_of_africa_region	} } }
	}
}

mal_owns_provinces_in_region = {
	OR = {
		AND = { has_country_flag = mal_journey_to_maghreb			any_owned_province = { region = maghreb_region			} }
		AND = { has_country_flag = mal_journey_to_iberia			any_owned_province = { region = iberia_region			} }
		AND = { has_country_flag = mal_journey_to_france			any_owned_province = { region = france_region			} }
		AND = { has_country_flag = mal_journey_to_italy				any_owned_province = { region = italy_region			} }
		AND = { has_country_flag = mal_journey_to_south_germany		any_owned_province = { region = south_german_region		} }
		AND = { has_country_flag = mal_journey_to_balkans			any_owned_province = { region = balkan_region			} }
		AND = { has_country_flag = mal_journey_to_anatolia			any_owned_province = { region = anatolia_region			} }
		AND = { has_country_flag = mal_journey_to_mashriq			any_owned_province = { region = mashriq_region			} }
		AND = { has_country_flag = mal_journey_to_egypt				any_owned_province = { region = egypt_region			} }
		AND = { has_country_flag = mal_journey_to_arabia			any_owned_province = { region = arabia_region			} }
		AND = { has_country_flag = mal_journey_to_horn_of_africa	any_owned_province = { region = horn_of_africa_region	} }
	}
}

province_is_or_accepts_culture = {
	OR = {
		has_owner_culture = yes
		has_owner_accepted_culture = yes
	}
}

#secondary_religion_group = { #in the base game as of 1.35
#	[[ynnic]
#		OR = {
#			secondary_religion = ynn_river_worship
#			secondary_religion = ynn_river_reformed
#			secondary_religion = rune_scribes
#		}
#	]
#	[[dragon_cult]
#		OR = {
#			secondary_religion = kobold_dragon_cult
#			secondary_religion = drozma_tur
#			secondary_religion = kobold_serpent_cult
#		}
#	]
	#[[christian]
	#	OR = {
	#		secondary_religion = catholic
	#		secondary_religion = hussite
	#		secondary_religion = coptic
	#		secondary_religion = orthodox
	#		secondary_religion = protestant
	#		secondary_religion = reformed
	#		secondary_religion = anglican
	#	}
	#]
	#[[muslim]
	#	OR = {
	#		secondary_religion = sunni
	#		secondary_religion = shiite
	#		secondary_religion = ibadi
	#	}
	#]
	#[[eastern]
	#	OR = {
	#		secondary_religion = buddhism
	#		secondary_religion = vajrayana
	#		secondary_religion = mahayana
	#		secondary_religion = confucianism
	#		secondary_religion = shinto
	#	}
	#]
	#[[dharmic]
	#	OR = {
	#		secondary_religion = hinduism
	#		secondary_religion = sikhism
	#	}
	#]
	#[[pagan]
	#	OR = {
	#		secondary_religion = animism
	#		secondary_religion = shamanism
	#		secondary_religion = totemism
	#		secondary_religion = inti
	#		secondary_religion = nahuatl
	#		secondary_religion = mesoamerican_religion
	#		secondary_religion = norse_pagan_reformed
	#		secondary_religion = tengri_pagan_reformed
	#		secondary_religion = dreamtime
	#	}
	#]
	#[[jewish_group]
	#	secondary_religion = jewish
	#]
	#[[zoroastrian_group]
	#	secondary_religion = zoroastrian
	#]
#}

#1.35
#Buddhism is its own can of worms due to the so many aspects of it
#This was one of the few moments where it was almost worth considering putting Buddhism in its own religion group - almost
#province_is_buddhist_or_accepts_buddhism = {
#	OR = {
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_at
#			OR = {
#				AND = {
#					religion = buddhism
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = buddhism }
#						owner = { secondary_religion = buddhism }
#					}
#				}
#				AND = {
#					religion = vajrayana
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = vajrayana }
#						owner = { secondary_religion = vajrayana }
#					}
#				}
#				AND = {
#					religion = mahayana
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = mahayana }
#						owner = { secondary_religion = mahayana }
#					}
#				}
#			}
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_bt
#			owner = {
#				OR = {
#					has_harmonized_with = buddhism
#					has_harmonized_with = vajrayana
#					has_harmonized_with = mahayana
#				}
#			}
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_ct
#			owner = {
#				OR = {
#					secondary_religion = buddhism
#					secondary_religion = vajrayana
#					secondary_religion = mahayana
#				}
#			}
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_dt
#			religion = shinto
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_et
#			owner = { has_personal_deity = buddha }
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_ft
#			owner = { has_adopted_cult = buddhism_cult }
#			has_owner_religion = yes
#		}
#		#For the case the province has a religion which the player has already harmonized with and cannot convert
#		#It's a hidden trigger because the tooltip is already super flooded and it is incredibly niche
#		hidden_trigger = {
#			owner = {
#				OR = {
#					has_harmonized_with = buddhism
#					has_harmonized_with = vajrayana
#					has_harmonized_with = mahayana
#				}
#				has_harmonized_with = ROOT
#			}
#		}
#	}
#}
#
##Had to make a new scripted trigger or otherwise the conditions looks too cluttered...
#province_is_buddhist_or_accepts_buddhism_or_is_dharmic = {
#	OR = {
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_at
#			OR = {
#				AND = {
#					religion = buddhism
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = buddhism }
#						owner = { secondary_religion = buddhism }
#					}
#				}
#				AND = {
#					religion = vajrayana
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = vajrayana }
#						owner = { secondary_religion = vajrayana }
#					}
#				}
#				AND = {
#					religion = mahayana
#					OR = {
#						has_owner_religion = yes
#						owner = { has_harmonized_with = mahayana }
#						owner = { secondary_religion = mahayana }
#					}
#				}
#			}
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_bt
#			owner = {
#				OR = {
#					has_harmonized_with = buddhism
#					has_harmonized_with = vajrayana
#					has_harmonized_with = mahayana
#				}
#			}
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_ct
#			owner = {
#				OR = {
#					secondary_religion = buddhism
#					secondary_religion = vajrayana
#					secondary_religion = mahayana
#				}
#			}
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_dt
#			religion = shinto
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_et
#			owner = { has_personal_deity = buddha }
#			has_owner_religion = yes
#		}
#		custom_trigger_tooltip = {
#			tooltip = province_is_buddhist_or_accepts_buddhism_ft
#			owner = { has_adopted_cult = buddhism_cult }
#			has_owner_religion = yes
#		}
#		#For the case the province has a religion which the player has already harmonized with and cannot convert
#		#It's a hidden trigger because the tooltip is already super flooded and it is incredibly niche
#		hidden_trigger = {
#			owner = {
#				OR = {
#					has_harmonized_with = buddhism
#					has_harmonized_with = vajrayana
#					has_harmonized_with = mahayana
#				}
#				has_harmonized_with = ROOT
#			}
#		}
#		province_is_or_accepts_religion_group = {
#			religion_group = dharmic
#		}
#	}
#}

province_is_or_accepts_religion_group = { 
	custom_trigger_tooltip = {
		tooltip = province_is_or_accepts_$religion_group$_tt
		OR = {
			AND = {
				religion_group = $religion_group$
				has_owner_religion = yes
			}
			AND = {
				owner = { secondary_religion_group = $religion_group$ }
				OR = {
					religion_group = $religion_group$
					has_owner_religion = yes
				}
			}
		}
	}
}

province_is_or_accepts_or_harmonizes_religion_group = { #if you want to use this trigger, make more tooltips in leviathan_l_english.yml
	custom_trigger_tooltip = {
		tooltip = province_is_or_accepts_or_harmonizes_$religion_group$_tt
		OR = {
			AND = {
				religion_group = $religion_group$
				OR = {
					has_owner_religion = yes
					has_owner_secondary_religion = yes
					owner = { has_harmonized_with = PREV } #has_owner_harmonized_religion doesn't function as of 1.36.2
				}
			}
			AND = { #edge cases where they convert the province
				has_owner_religion = yes 
				owner = {
					OR = {
						has_harmonized_with = $religion_group$
						secondary_religion_group = $religion_group$
					}
				}
			}
			AND = { #edge case where they can't convert because they harmonized the province religion
				owner = { 
					has_harmonized_with = PREV 
					OR = {
						religion_group = $religion_group$
						has_harmonized_with = $religion_group$
					}
				}
			}
		}
	}
}

province_is_or_accepts_religion = {
	custom_trigger_tooltip = {
		tooltip = province_is_or_accepts_$religion$_tt
		OR = {
			AND = {
				religion = $religion$
				has_owner_religion = yes
			}
			AND = {
				owner = { secondary_religion = $religion$ }
				OR = {
					religion = $religion$
					has_owner_religion = yes
				}
			}
		}
	}
}

province_is_or_accepts_or_harmonizes_religion = { #if you want to use this trigger, make more tooltips in leviathan_l_english.yml
	custom_trigger_tooltip = {
		tooltip = province_is_or_accepts_or_harmonizes_$religion$_tt
		OR = {
			AND = {
				religion = $religion$
				OR = {
					has_owner_religion = yes
					has_owner_secondary_religion = yes
					owner = { has_harmonized_with = $religion$ } #has_owner_harmonized_religion doesn't function as of 1.36.2
				}
			}
			AND = { #for folks who convert the province but have the right secondary/harmonized religion
				has_owner_religion = yes
				owner = {
					OR = {
						has_harmonized_with = $religion$
						secondary_religion = $religion$
					}
				}
			}
			AND = { #for if you harmonize the province religion and can't convert
				owner = {
					has_harmonized_with = PREV
					OR = {
						religion = $religion$
						has_harmonized_with = $religion$
					}
				}
			}
		}
	}
}

has_not_any_exploration_ideas = {
	NOT = { has_idea = quest_for_the_new_world }
	# NOT = { has_idea = call_of_our_forefathers }
	# NOT = { has_idea = tonga_oceanic_empire }
	# NOT = { has_idea = samoa_trade }
	# NOT = { has_idea = legendary_voyagers }
	# NOT = { has_idea_group = ICE_ideas }
}

has_any_exploration_idea = {
	OR = {
		has_idea = quest_for_the_new_world
		# has_idea = call_of_our_forefathers
		# has_idea = tonga_oceanic_empire
		# has_idea = samoa_trade
		# has_idea = legendary_voyagers
		# has_idea_group = ICE_ideas
	}
}

###HAS ANY TRADE GOODS IMPORTANT FOR THE MANUFACTORIES###
#For Wharf manufactories
has_wharf_trade_goods = {
	OR = {
		trade_goods = salt
		trade_goods = fish
		trade_goods = naval_supplies
	}
}

#For Weapons manufactories
has_weapons_trade_goods = {
	OR = {
		trade_goods = copper
		trade_goods = iron
		#Anbennar
		trade_goods = mithril
	}
}

#For Textile manufactories
has_textile_trade_goods = {
	OR = {
		trade_goods = wool
		trade_goods = cloth
		trade_goods = silk
		trade_goods = dyes
	}
}

#For Plantation manufactories
has_plantation_trade_goods = {
	OR = {
		trade_goods = coffee
		trade_goods = cotton
		trade_goods = sugar
		trade_goods = tobacco
		trade_goods = tea
		trade_goods = cocoa
	}
}

#For Trade Company manufactories
has_trade_company_trade_goods = {
	OR = {
		trade_goods = ivory
		trade_goods = slaves
		trade_goods = spices
		trade_goods = fur
		trade_goods = incense
		trade_goods = cloves
		#Anbennar
		trade_goods = precursor_relics
		trade_goods = damestear
	}
}

#For Farm manufactories
has_farm_trade_goods = {
	OR = {						
		trade_goods = grain
		trade_goods = livestock
		trade_goods = wine
		#Anbennar
		trade_goods = fungi
		trade_goods = serpentbloom
	}
}

#For Mills manufactories
has_mills_trade_goods = {
	OR = {
		trade_goods = paper
		trade_goods = gems
		trade_goods = tropical_wood
		trade_goods = glass
		trade_goods = chinaware
	}
}

#For special gold trade goods
has_valuable_resource = {
	trade_goods = gold
}

#country scope
ruler_total_stats = {
	variable_arithmetic_trigger = {
		custom_tooltip = ruler_total_stats_$stats$
		export_to_variable = {
			variable_name = ruler_adm
			value = ADM
			who = ROOT
		}
		export_to_variable = {
			variable_name = ruler_dip
			value = DIP
			who = ROOT
		}
		export_to_variable = {
			variable_name = ruler_mil
			value = MIL
			who = ROOT
		}
		change_variable = {
			which = ruler_adm
			which = ruler_dip
		}
		change_variable = {
			which = ruler_adm
			which = ruler_mil
		}
		check_variable = {
			which = ruler_adm
			value = $stats$
		}
	}
}

ruler_total_stats_target = {
	variable_arithmetic_trigger = {
		custom_tooltip = $custom_tooltip$
		export_to_variable = {
			variable_name = ruler_adm
			value = ADM
			who = $who$
		}
		export_to_variable = {
			variable_name = ruler_dip
			value = DIP
			who = $who$
		}
		export_to_variable = {
			variable_name = ruler_mil
			value = MIL
			who = $who$
		}
		change_variable = {
			which = ruler_adm
			which = ruler_dip
		}
		change_variable = {
			which = ruler_adm
			which = ruler_mil
		}
		check_variable = {
			which = ruler_adm
			value = $stats$
		}
	}
}

heir_total_stats = {
	variable_arithmetic_trigger = {
		custom_tooltip = heir_total_stats_$stats$
		export_to_variable = {
			variable_name = heir_adm_var
			value = heir_adm
			who = ROOT
		}
		export_to_variable = {
			variable_name = heir_dip_var
			value = heir_dip
			who = ROOT
		}
		export_to_variable = {
			variable_name = heir_mil_var
			value = heir_mil
			who = ROOT
		}
		change_variable = {
			which = heir_adm_var
			which = heir_dip_var
		}
		change_variable = {
			which = heir_adm_var
			which = heir_mil_var
		}
		check_variable = {
			which = heir_adm_var
			value = $stats$
		}
	}
}

heir_total_stats_target = {
	variable_arithmetic_trigger = {
		custom_tooltip = $custom_tooltip$
		export_to_variable = {
			variable_name = heir_adm_var
			value = heir_adm
			who = $who$
		}
		export_to_variable = {
			variable_name = heir_dip_var
			value = heir_dip
			who = $who$
		}
		export_to_variable = {
			variable_name = heir_mil_var
			value = heir_mil
			who = $who$
		}
		change_variable = {
			which = heir_adm_var
			which = heir_dip_var
		}
		change_variable = {
			which = heir_adm_var
			which = heir_mil_var
		}
		check_variable = {
			which = heir_adm_var
			value = $stats$
		}
	}
}

consort_total_stats = {
	variable_arithmetic_trigger = {
		custom_tooltip = consort_total_stats_$stats$
		export_to_variable = {
			variable_name = consort_adm_var
			value = consort_adm
			who = ROOT
		}
		export_to_variable = {
			variable_name = consort_dip_var
			value = consort_dip
			who = ROOT
		}
		export_to_variable = {
			variable_name = consort_mil_var
			value = consort_mil
			who = ROOT
		}
		change_variable = {
			which = consort_adm_var
			which = consort_dip_var
		}
		change_variable = {
			which = consort_adm_var
			which = consort_mil_var
		}
		check_variable = {
			which = consort_adm_var
			value = $stats$
		}
	}
}

consort_total_stats_target = {
	variable_arithmetic_trigger = {
		custom_tooltip = $custom_tooltip$
		export_to_variable = {
			variable_name = consort_adm_var
			value = consort_adm
			who = $who$
		}
		export_to_variable = {
			variable_name = consort_dip_var
			value = consort_dip
			who = $who$
		}
		export_to_variable = {
			variable_name = consort_mil_var
			value = consort_mil
			who = $who$
		}
		change_variable = {
			which = consort_adm_var
			which = consort_dip_var
		}
		change_variable = {
			which = consort_adm_var
			which = consort_mil_var
		}
		check_variable = {
			which = consort_adm_var
			value = $stats$
		}
	}
}

num_of_ruler_traits = {
	calc_true_if = {
		desc = num_of_ruler_traits_tt
		ruler_has_personality = just_personality
		ruler_has_personality = righteous_personality
		ruler_has_personality = tolerant_personality
		ruler_has_personality = kind_hearted_personality
		ruler_has_personality = free_thinker_personality
		ruler_has_personality = well_connected_personality
		ruler_has_personality = calm_personality
		ruler_has_personality = careful_personality
		ruler_has_personality = secretive_personality
		ruler_has_personality = intricate_web_weaver_personality
		ruler_has_personality = fertile_personality
		ruler_has_personality = well_advised_personality
		ruler_has_personality = benevolent_personality
		ruler_has_personality = zealot_personality 
		ruler_has_personality = pious_personality
		ruler_has_personality = lawgiver_personality
		ruler_has_personality = midas_touched_personality
		ruler_has_personality = incorruptible_personality
		ruler_has_personality = architectural_visionary_personality
		ruler_has_personality = scholar_personality
		ruler_has_personality = entrepreneur_personality
		ruler_has_personality = industrious_personality
		ruler_has_personality = expansionist_personality
		ruler_has_personality = charismatic_negotiator_personality
		ruler_has_personality = silver_tongue_personality
		ruler_has_personality = conqueror_personality
		ruler_has_personality = tactical_genius_personality
		ruler_has_personality = bold_fighter_personality
		ruler_has_personality = strict_personality
		ruler_has_personality = inspiring_leader_personality
		ruler_has_personality = martial_educator_personality
		ruler_has_personality = navigator_personality
		ruler_has_personality = fierce_negotiator_personality
		ruler_has_personality = babbling_buffoon_personality
		ruler_has_personality = embezzler_personality
		ruler_has_personality = infertile_personality
		ruler_has_personality = drunkard_personality
		ruler_has_personality = sinner_personality
		ruler_has_personality = greedy_personality
		ruler_has_personality = cruel_personality
		ruler_has_personality = naive_personality
		ruler_has_personality = craven_personality
		ruler_has_personality = loose_lips_personality
		ruler_has_personality = obsessive_perfectionist_personality
		ruler_has_personality = malevolent_personality
		ruler_has_personality = immortal_personality
		ruler_has_personality = legendary_pirate_personality
		ruler_has_personality = humane_personality
		ruler_has_personality = petty_personality
		ruler_has_personality = reformist_personality
		ruler_has_personality = legendary_conqueror_personality
		ruler_has_personality = great_engineer_personality
		ruler_has_personality = patron_of_arts_personality
		#Anbennar
		ruler_has_personality = mage_personality
		ruler_has_personality = great_conqueror_personality
		ruler_has_personality = mythical_conqueror_personality
		ruler_has_personality = xhazobs_chosen_personality
		ruler_has_personality = mongoose_shifter_personality
		ruler_has_personality = leopard_shifter_personality
		ruler_has_personality = elephant_shifter_personality
		amount = $amount$
	}
}


every_estate_loyalty = {
	if = {
		limit = { has_estate = estate_church }
		estate_loyalty = {
			estate = estate_church
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_brahmins }
		estate_loyalty = {
			estate = estate_brahmins
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_burghers }
		estate_loyalty = {
			estate = estate_burghers
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_cossacks }
		estate_loyalty = {
			estate = estate_cossacks
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_dhimmi }
		estate_loyalty = {
			estate = estate_dhimmi
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_jains }
		estate_loyalty = {
			estate = estate_jains
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_maratha }
		estate_loyalty = {
			estate = estate_maratha
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_nobles }
		estate_loyalty = {
			estate = estate_nobles
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_nomadic_tribes }
		estate_loyalty = {
			estate = estate_nomadic_tribes
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_rajput }
		estate_loyalty = {
			estate = estate_rajput
			loyalty = $loyalty$
		}
	}
	if = {
		limit = { has_estate = estate_vaisyas }
		estate_loyalty = {
			estate = estate_vaisyas
			loyalty = $loyalty$
		}
	}
}

has_points_for_livonian_military_monarchy = {
	check_variable = {
		which = liv_mil
		value = 5
	}
}
has_points_for_livonian_naval_monarchy = {
	check_variable = {
		which = liv_dip
		value = 5
	}
}
has_points_for_livonian_trade_monarchy = {
	check_variable = {
		which = liv_adm
		value = 3
	}
	check_variable = {
		which = liv_dip
		value = 3
	}
}
has_points_for_livonian_constitutional_monarchy = {
	is_variable_equal = {
		which = liv_adm
		value = 3
	}
}
has_points_for_livonian_theocratic_monarchy = {
	check_variable = {
		which = liv_adm
		value = 3
	}
	check_variable = {
		which = liv_mil
		value = 3
	}
}
has_points_for_livonian_elective_monarchy = {
	check_variable = {
		which = liv_dip
		value = 3
	}
}
has_points_for_livonian_diplomatic_monarchy = {
	check_variable = {
		which = liv_dip
		value = 4
	}
}
has_points_for_livonian_administrative_monarchy = {
	check_variable = {
		which = liv_adm
		value = 5
	}
}
has_points_for_livonian_mercenary_monarchy = {
	check_variable = {
		which = liv_mil
		value = 3
	}
}
has_points_for_livonian_admiral_monarchy = {
	check_variable = {
		which = liv_dip
		value = 4
	}
}
has_points_for_livonian_naval_controlled_monarchy = {
	check_variable = {
		which = liv_dip
		value = 3
	}
	check_variable = {
		which = liv_mil
		value = 3
	}
}
has_points_for_livonian_general_controlled_monarchy = {
	check_variable = {
		which = liv_mil
		value = 4
	}
}
has_points_for_livonian_absolute_monarchy = {
	check_variable = {
		which = liv_adm
		value = 4
	}
}
has_points_for_livonian_enlightened_monarchy = {
	is_variable_equal = {
		which = liv_adm
		value = 2
	}
	is_variable_equal = {
		which = liv_dip
		value = 2
	}
	is_variable_equal = {
		which = liv_mil
		value = 2
	}
}

has_points_for_livonian_monarchy = {
	has_points_for_$government_reform$ = yes
}

is_allowed_to_recruit_mercenaries = {
	# custom_trigger_tooltip = {
	# 	tooltip = is_allowed_to_recruit_mercenaries_tt
	# 	NOT = { has_country_modifier = dan_sca_refocus_on_personal_armies }
	# }
}

#TODO ADjustment of everything bellow to anbennar
#1.35 
has_no_religion_specific_government_available = {
	#NOT = { religion = jewish }
	#NOT = { religion = zoroastrian }
	#NOT = { religion = hinduism }
	#NOT = { religion = sikhism }
	#NOT = { religion_group = muslim }
	#NOT = { religion_group = christian }
	#NOT = { religion_group = eastern }
	#NOT = { religion = tengri_pagan_reformed }
	NOT = { religion = shamanism }
	#NOT = { religion = norse_pagan_reformed }
}

#1.35
#Province scope
is_flatland = {
	custom_trigger_tooltip = {
		tooltip = is_flatland_tt
		OR = {
			has_terrain = farmlands
			has_terrain = grasslands
			has_terrain = steppe
			has_terrain = savannah
			has_terrain = drylands
			has_terrain = coastal_desert
			has_terrain = desert
			has_terrain = coastline
			
			#Anbennar
			has_terrain = city_terrain
			has_terrain = dwarven_hold
			has_terrain = dwarven_hold_surface
			has_terrain = dwarven_road
		}
	}
}

#1.35
is_yellow_river_province_trigger = {
	# custom_trigger_tooltip = {
	# 	tooltip = is_yellow_river_province_trigger_tt
	# 	OR = { 
	# 		province_id = 4196 
	# 		province_id = 2142
	# 		province_id = 2141
	# 		province_id = 2176
	# 		province_id = 688
	# 		province_id = 1836
	# 		province_id = 694
	# 		province_id = 700
	# 	}
	# }
}

#1.35
is_yangtze_river_province_trigger = {
	# custom_trigger_tooltip = {
	# 	tooltip = is_yangtze_river_province_trigger_tt
	# 	OR = { 
	# 		province_id = 2145
	# 		province_id = 1821
	# 		province_id = 1838
	# 		province_id = 686
	# 		province_id = 683
	# 		province_id = 4197
	# 		province_id = 682
	# 		province_id = 2172
	# 		province_id = 681
	# 	}
	# }
}

#1.35
is_eyalet_trigger = {
	# custom_trigger_tooltip = {
	# 	tooltip = is_eyalet_trigger_tt
	# 	OR = {
	# 		is_subject_of_type = eyalet
	# 		is_subject_of_type = core_eyalet
	# 	}
	# }
}

has_strong_mil_national_ideas = {
	custom_trigger_tooltip = {
		tooltip = has_strong_mil_national_ideas_tt
		# OR = { 
		# 	tag = FRA
		# 	tag = PRU
		# 	tag = SPA 
		# 	tag = TUR
		# 	tag = JAP
		# 	tag = RUS
		# 	tag = MOS
		# 	tag = TEU
		# 	tag = POL
		# 	tag = PLC
		# 	tag = ITA
		# 	tag = GER
		# 	tag = QNG
		# 	tag = SWE
		# 	tag = SCA
		# 	tag = GBR
		# 	tag = NED
		# 	tag = RUM
		# 	tag = MAM
		# 	tag = ZIM
		# 	tag = ZUL
		# 	tag = ODA
		# 	tag = SMZ
		# 	tag = MCH
		# 	tag = MLC
		# 	tag = MJZ
		# 	tag = BNG
		# 	tag = NPL
		# 	tag = PUN
		# 	tag = BHA
		# 	tag = RJP
		# 	tag = HSA
		# 	tag = SMO
		# 	tag = MAS
		# 	tag = JMN
		# 	tag = SYN
		# }
	}
}

#1.35
has_any_active_incomplete_idea_group_of_category = {
    [[adm_ideas]
        custom_trigger_tooltip = {
            tooltip = has_any_active_incomplete_idea_group_of_category_adm
            OR = {
                AND = { has_idea_group = innovativeness_ideas NOT = { full_idea_group = innovativeness_ideas } }
                AND = { has_idea_group = religious_ideas      NOT = { full_idea_group = religious_ideas } }
                AND = { has_idea_group = economic_ideas       NOT = { full_idea_group = economic_ideas } }
                AND = { has_idea_group = expansion_ideas      NOT = { full_idea_group = expansion_ideas } }
                AND = { has_idea_group = administrative_ideas NOT = { full_idea_group = administrative_ideas } }
                AND = { has_idea_group = humanist_ideas       NOT = { full_idea_group = humanist_ideas } }
                AND = { has_idea_group = infrastructure_ideas NOT = { full_idea_group = infrastructure_ideas } }
            }
        }
    ]
    [[dip_ideas]
        custom_trigger_tooltip = {
            tooltip = has_any_active_incomplete_idea_group_of_category_dip
            OR = {
                AND = { has_idea_group = spy_ideas         	NOT = { full_idea_group = spy_ideas } }
                AND = { has_idea_group = diplomatic_ideas  	NOT = { full_idea_group = diplomatic_ideas } }
                AND = { has_idea_group = trade_ideas       	NOT = { full_idea_group = trade_ideas } }
                AND = { has_idea_group = exploration_ideas 	NOT = { full_idea_group = exploration_ideas } }
                AND = { has_idea_group = maritime_ideas    	NOT = { full_idea_group = maritime_ideas } }
                AND = { has_idea_group = influence_ideas   	NOT = { full_idea_group = influence_ideas } }
                AND = { has_idea_group = court_ideas       	NOT = { full_idea_group = court_ideas } }
            }
        }
    ]
    [[mil_ideas]
        custom_trigger_tooltip = {
            tooltip = has_any_active_incomplete_idea_group_of_category_mil
            OR = {
                AND = { has_idea_group = aristocracy_ideas       	NOT = { full_idea_group = aristocracy_ideas } }
                AND = { has_idea_group = offensive_ideas       		NOT = { full_idea_group = offensive_ideas } }
                AND = { has_idea_group = defensive_ideas       		NOT = { full_idea_group = defensive_ideas } }
                AND = { has_idea_group = quality_ideas           	NOT = { full_idea_group = quality_ideas } }
                AND = { has_idea_group = quantity_ideas             NOT = { full_idea_group = quantity_ideas } }
                AND = { has_idea_group = theocracy_gov_ideas   		NOT = { full_idea_group = theocracy_gov_ideas } }
                AND = { has_idea_group = indigenous_ideas      	    NOT = { full_idea_group = indigenous_ideas } }
                AND = { has_idea_group = horde_gov_ideas       	    NOT = { full_idea_group = horde_gov_ideas } }
                AND = { has_idea_group = plutocracy_ideas        	NOT = { full_idea_group = plutocracy_ideas } }
                AND = { has_idea_group = mercenary_ideas        	NOT = { full_idea_group = mercenary_ideas } }
                AND = { has_idea_group = naval_ideas				NOT = { full_idea_group = naval_ideas } }
            }
        }
    ]
}
#1.35
has_unlocked_church_aspect = {
	has_country_flag = unlocked_church_aspect_$church_aspect$
}
#1.35
has_increased_trade_goods_discovery = {
	has_country_flag = increased_trade_goods_discovery_$trade_goods$
}
#1.35
has_stab_reduction_from_dip_action_modifier = {
	full_idea_group = diplomatic_ideas
}
#1.35
is_not_eligible_for_trade_good_grain = {
	OR = {
		has_terrain = desert
		has_terrain = glacier
		has_terrain = coastline
		has_climate = arctic
	}
}
#1.35
is_not_eligible_for_trade_good_wine = {
	OR = {
		has_winter = severe_winter
		has_climate = arctic
		has_climate = arid
		has_climate = tropical
		has_terrain = jungle
		has_terrain = drylands
		has_terrain = steppe
		has_terrain = desert
		has_terrain = coastal_desert
		has_terrain = marsh
		has_terrain = savannah
		has_terrain = glacier
		#religion_group = muslim
	}
}
#1.35
is_not_eligible_for_trade_good_wool = {
	OR = {
		has_terrain = glacier
		has_terrain = marsh
		has_terrain = jungle
		has_terrain = farmlands
		has_terrain = coastline
		has_terrain = hills
		has_terrain = forest
		has_terrain = woods
		region = central_africa_region
		area = newfoundland_area
		AND = {
			has_climate = tropical
			NOT = { area = paraguay_area }
			NOT = { area = chaco_area }
		}
		AND = {
			has_climate = arctic
			NOT = { region = tibet_region }
		}
		AND = {
			has_winter = severe_winter
			NOT = { region = tibet_region }
			NOT = { region = hindusthan_region }
			NOT = { region = central_asia_region }
			NOT = { region = caucasia_region }
		}
		AND = {
			OR = {
				region = carribeans_region
				region = brazil_region
				region = colombia_region
				region = southeast_america_region
				region = mississippi_region
			}
			NOT = { has_terrain = mountain }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_cloth = {
	NOT = { development_discounting_tribal = 15 }
}
#1.35
is_not_eligible_for_trade_good_fish = {
	NOT = { has_port = yes }
}
#1.35
is_not_eligible_for_trade_good_fur = {
	OR = {
		AND = {
			OR = {
				has_climate = tropical
				has_climate = arid
				has_terrain = drylands
				has_terrain = steppe
				has_terrain = desert
				has_terrain = coastal_desert
				has_terrain = coastline
			}
			NOT = { has_winter = normal_winter }
			NOT = { has_winter = severe_winter }
		}
		has_terrain = farmlands
		has_terrain = mountain
		continent = south_america
		region = carribeans_region
		region = south_africa_region
		region = australia_region
		region = central_africa_region
		area = newfoundland_area
	}
}
#1.35
is_not_eligible_for_trade_good_salt = {
	OR = {
		area = newfoundland_area
		NOT = { has_terrain = desert }
		NOT = { has_terrain = marsh }
		NOT = { has_terrain = mountain }
		NOT = { has_terrain = highlands }
		NOT = { any_neighbor_province = { province_id = 1649 } } #Lake Victoria
		NOT = { any_neighbor_province = { province_id = 1650 } } #Lake Tangyanika
		NOT = { any_neighbor_province = { province_id = 1651 } } #Lake Malawi
	}
}
#1.35
is_not_eligible_for_trade_good_naval_supplies = {
	OR = {
		has_terrain = glacier
		has_terrain = desert
		has_terrain = coastal_desert
		has_terrain = drylands
		has_terrain = savannah
		has_terrain = marsh
		has_terrain = steppe
		has_terrain = highlands
		has_terrain = farmlands
		area = newfoundland_area
	}
}
#1.35
is_not_eligible_for_trade_good_copper = {
	OR = {
		area = newfoundland_area
		has_terrain = steppe
		has_terrain = desert
		has_terrain = coastal_desert
		has_terrain = drylands
		has_terrain = grasslands
		has_terrain = savannah
		has_terrain = coastline
		has_terrain = glacier
		has_terrain = jungle
		has_terrain = farmlands
		has_terrain = woods
		AND = {
			is_random_new_world = no
			NOT = { province_id = 990 } #St Maurice ironworks
			NOT = { area = minas_gerais_area }
			NOT = { area = diamantina_area }
			NOT = { area = mato_grosso_area }
			NOT = { area = great_valley_area }
			NOT = { area = susquehanna_area }
			NOT = { area = hudson_valley_area }
			NOT = { area = lake_superior_area }
			NOT = { area = south_iroquoisia_area }
			NOT = { area = upper_ontario_area }
			NOT = { area = laurentian_area }
			NOT = { area = inner_ontario_area }
			NOT = { area = maryland_area }
			NOT = { area = ofaie_area }
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = central_africa_region }
		}
		AND = {
			is_random_new_world = yes
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { continent = new_world }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_gold = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = cascadia_region }
			NOT = { region = australia_region }
			NOT = { region = california_region }
			NOT = { region = south_africa_region }
			NOT = { region = central_africa_region }
			NOT = { region = peru_region }
			NOT = { region = upper_peru_region }
			NOT = { region = mexico_region }
			NOT = { region = rio_grande_region }
			NOT = { region = central_america_region }
			NOT = { area = goias_area }
			NOT = { area = pontal_area }
			NOT = { area = mato_grosso_area }
			NOT = { area = ofaie_area }
			NOT = { area = minas_gerais_area }
			NOT = { area = diamantina_area }
			NOT = { area = guapore_area }
			NOT = { area = grao_para_area }
			NOT = { area = amapa_area }
			NOT = { area = ucayali_area }
			NOT = { area = amazon_area }
		}
		AND = {
			is_random_new_world = yes
			NOT = { continent = new_world }
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = australia_region }
			NOT = { region = south_africa_region }
			NOT = { region = central_africa_region }
		}
		AND = {
			is_random_new_world = yes
			continent = new_world
			OR = {
				has_terrain = forest
				has_terrain = woods
				has_terrain = drylands
				has_terrain = grasslands
				has_terrain = savannah
				has_terrain = steppe
				has_terrain = jungle
				has_terrain = coastline
				has_terrain = coastal_desert
				has_terrain = marsh
			}
		}
	}
}
#1.35
is_not_eligible_for_trade_good_iron = {
	OR = {
		area = newfoundland_area
		AND = {
			normal_or_historical_nations = yes
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = central_africa_region }
			NOT = { province_id = 990 }
			NOT = { area = great_valley_area }
			NOT = { area = susquehanna_area }
			NOT = { area = hudson_valley_area }
			NOT = { area = lake_superior_area }
			NOT = { area = south_iroquoisia_area }
			NOT = { area = upper_ontario_area }
			NOT = { area = laurentian_area }
			NOT = { area = inner_ontario_area }
			NOT = { area = maryland_area }
			NOT = { area = ofaie_area }
			NOT = { province_id = 18 }
			is_random_new_world = no
		}
	}
}
#1.35
is_not_eligible_for_trade_good_slaves = {
	OR = {
		holy_order = dominican_order
		area = newfoundland_area
		island = yes
		NOT = { continent = africa }
		owner = {
			OR = {
				has_country_modifier = abolish_slavery
				has_reform = war_against_the_world_doctrine_reform
			}
		}
	}
}
#1.35
is_not_eligible_for_trade_good_ivory = {
	OR = {
		area = newfoundland_area
		AND = {
			NOT = { continent = asia }
			NOT = { continent = africa }
			NOT = { area = subarctic_islands_area }
			NOT = { area = greenland_area }
		}
		AND = {
			NOT = { has_terrain = jungle }
			NOT = { has_terrain = savannah }
			NOT = { has_terrain = glacier }
		}
		region = west_siberia_region
		region = east_siberia_region
		region = manchuria_region
		region = central_asia_region
		region = south_africa_region
	}
}
#1.35
is_not_eligible_for_trade_good_tea = {
	OR = {
		AND = {
			is_random_new_world = no
			NOT = {	region = malaya_region }
			NOT = {	region = moluccas_region }
			NOT = {	region = indonesia_region }
			NOT = { region = indo_china_region }
			NOT = { region = south_china_region }
			NOT = { region = xinan_region }
			NOT = { region = japan_region }
			NOT = { area = taiwan_area }
			NOT = { area = assam_area }
			NOT = { area = banda_oriental_area } #Yerba Mate
			NOT = { area = rio_grande_do_sol_area } #Yerba Mate
			NOT = { area = buenos_aires_area } #Yerba Mate
			NOT = { area = misiones_area } #Yerba Mate
			NOT = { area = beni_area } #Yerba Mate
			NOT = { area = moxos_area } #Yerba Mate
			NOT = { area = paraguay_area } #Yerba Mate
			NOT = { area = sao_paolo_area } #Yerba Mate
			NOT = { area = west_sao_paolo_area } #Yerba Mate
		}
		AND = {
			is_random_new_world = yes #Only the below cultures can get tea in the RNW
			FROM = {
				NOT = { culture_group = east_asian }
				NOT = { culture_group = central_indic }
				NOT = { culture_group = dravidian }
				NOT = { culture_group = western_aryan }
				NOT = { culture_group = hindusthani }
				NOT = { culture_group = eastern_aryan }
				NOT = { culture_group = korean_g }
				NOT = { culture_group = japanese_g }
			}
		}
		AND = {
			OR = {
				has_terrain = mountain
				has_terrain = desert
				has_terrain = drylands
				has_terrain = steppe
				has_terrain = savannah
				has_climate = arid
				has_winter = mild_winter
				has_winter = normal_winter
				has_winter = severe_winter
			}
		}
	}
}
#1.35
is_not_eligible_for_trade_good_chinaware = {
	OR = {
		area = newfoundland_area
		AND = {
			NOT = {	region = malaya_region }
			NOT = {	region = moluccas_region }
			NOT = {	region = indonesia_region }
			NOT = { region = south_china_region }
			NOT = { region = japan_region }
		}
		NOT = { development_discounting_tribal = 8 }
	}
}
#1.35
is_not_eligible_for_trade_good_spices = {
	OR = {
		area = newfoundland_area
		AND = {
			NOT = {	region = malaya_region }
			NOT = {	region = moluccas_region }
			NOT = {	region = indonesia_region }
			NOT = { region = deccan_region }
			NOT = { region = bengal_region }
			NOT = { region = coromandel_region }
			NOT = { region = central_america_region }
			NOT = { region = mexico_region }
			NOT = { area = indian_ocean_islands_area }
			NOT = { province_id = 1244 } # Tahiti
		}
		has_terrain = mountain
	}
}
#1.35
is_not_eligible_for_trade_good_coffee = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { area = southern_ethiopia_area }
			NOT = { area = hadiya_area }
			NOT = { area = damot_area }
			NOT = { area = shewa_area }
			NOT = {	region = malaya_region }
			NOT = { region = indonesia_region }
			NOT = { region = moluccas_region }
			NOT = { region = la_plata_region }
			NOT = { region = peru_region }
			NOT = { region = brazil_region }
			NOT = { region = carribeans_region }
			NOT = { region = central_america_region }
			NOT = { region = mexico_region }
			NOT = { region = colombia_region }
		}
		has_terrain = glacier
		has_terrain = forest
		has_climate = arctic
		has_winter = severe_winter
		has_winter = normal_winter
		has_winter = mild_winter
		province_id = 481
		AND = {
			is_random_new_world = yes
			continent = new_world #Always in RNW
			NOT = { has_climate = tropical }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_cotton = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { region = southeast_america_region }
			NOT = { region = carribeans_region }
			NOT = { region = mississippi_region }
			NOT = { region = rio_grande_region }
			NOT = { region = egypt_region }
			NOT = { region = hindusthan_region }
			NOT = { region = bengal_region }
			NOT = { region = deccan_region }
			NOT = { region = anatolia_region }
			NOT = { region = mongolia_region }
		}
		AND = {
			is_random_new_world = yes
			NOT = { region = egypt_region }
			NOT = { region = hindusthan_region }
			NOT = { region = bengal_region }
			NOT = { region = deccan_region }
			NOT = { region = anatolia_region }
			NOT = { region = mongolia_region }
			NOT = { continent = new_world } #Always in RNW
		}
		has_terrain = mountain
		has_terrain = highlands
		has_terrain = forest
		has_terrain = jungle
		has_climate = arctic
		has_climate = arid
		has_terrain = glacier
		has_winter = severe_winter
		has_winter = normal_winter
		has_winter = mild_winter
		has_terrain = desert
		province_id = 481
		AND = {
			continent = europe
			NOT = { region = anatolia_region }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_sugar = {
	OR = {
		area = newfoundland_area
		AND = {
			NOT = { has_climate = tropical }
			OR = {
				has_winter = severe_winter
				has_winter = normal_winter
				has_winter = mild_winter
				has_terrain = desert
				has_terrain = mountain
				has_terrain = hills
				has_terrain = highlands
				has_terrain = forest
				has_terrain = steppe
			}
		}
		is_random_new_world = no
		NOT = { region = carribeans_region }
		NOT = { region = brazil_region }
		NOT = { region = mexico_region }
		NOT = { region = rio_grande_region }
		NOT = { region = central_america_region }
		NOT = { region = colombia_region }
		NOT = { region = deccan_region }
		NOT = { region = west_india_region }
		NOT = { area = mascarenes_area }
	}
}
#1.35
is_not_eligible_for_trade_good_tobacco = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { region = la_plata_region }
			NOT = { region = northeast_america_region }
			NOT = { region = southeast_america_region }
			NOT = { region = rio_grande_region }
			NOT = { region = brazil_region }
			NOT = { region = carribeans_region }
			NOT = { region = australia_region }
			NOT = { area = appalachia_area }
			NOT = { area = south_appalachia_area }
		}
		AND = {
			is_random_new_world = yes
			NOT = { continent = new_world } #Always in RNW
		}
		AND = {
			has_climate = arid
			NOT = { has_terrain = grasslands }
			NOT = { has_terrain = farmlands }
		}
		has_winter = severe_winter
		has_terrain = glacier
		has_terrain = mountain
		has_terrain = drylands
		has_terrain = desert
	}
}
#1.35
is_not_eligible_for_trade_good_cocoa = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { region = central_america_region }
			NOT = { region = colombia_region }
			NOT = { region = peru_region }
			NOT = { region = brazil_region }
		}
		AND = {
			is_random_new_world = yes
			NOT = { continent = new_world } #Always in RNW
		}
		has_terrain = glacier
		has_terrain = steppe
		has_terrain = forest
		has_terrain = woods
		has_terrain = marsh
		has_climate = arid
		has_climate = arctic
		has_winter = mild_winter
		has_winter = normal_winter
		has_winter = severe_winter
	}
}
#1.35
is_not_eligible_for_trade_good_silk = {
	OR = {
		area = newfoundland_area
		normal_or_historical_nations = yes
		has_terrain = highlands
		has_terrain = mountain
		has_terrain = marsh
		has_terrain = steppe
		has_terrain = coastline
		has_terrain = desert
		has_terrain = coastal_desert
		has_terrain = hills
		has_terrain = drylands
		has_terrain = glacier
		has_climate = arid
		has_climate = arctic
		has_winter = mild_winter
		has_winter = normal_winter
		has_winter = severe_winter
	}
}
#1.35
is_not_eligible_for_trade_good_dyes = {
	OR = {
		area = newfoundland_area
		NOT = { has_terrain = jungle }
		has_climate = arid
		has_climate = arctic
		has_winter = mild_winter
		has_winter = normal_winter
		has_winter = severe_winter
		AND = {
			is_random_new_world =  no
			NOT = { region = niger_region }
			NOT = { region = guinea_region }
			NOT = { region = kongo_region }
			NOT = { region = central_america_region }
			NOT = { region = mexico_region }
			NOT = { region = carribeans_region }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_tropical_wood = {
	OR = {
		area = newfoundland_area
		NOT = { has_terrain = jungle }
		NOT = { has_climate = tropical }
		NOT = { province_id = 1240 }
	}
}
#1.35
is_not_eligible_for_trade_good_livestock = {
	OR = {
		area = newfoundland_area
		has_terrain = glacier
		has_terrain = marsh
		has_terrain = jungle
		AND = {
			has_terrain = coastline
			NOT = { province_id = 2002 }
		}
		has_terrain = hills
		has_terrain = forest
		has_terrain = woods
		AND = {
			has_climate = tropical
			NOT = { area = paraguay_area }
			NOT = { area = chaco_area }
			NOT = { region = central_africa_region }
			NOT = { region = east_africa_region }
			NOT = { region = colombia_region }
			NOT = { region = brazil_region }
		}
		AND = {
			has_climate = arctic
			NOT = { region = tibet_region }
		}
		AND = {
			OR = {
				region = carribeans_region
				region = brazil_region
				region = colombia_region
				region = southeast_america_region
				region = mississippi_region
			}
			NOT = { has_terrain = mountain }
		}
	}
}
#1.35
is_not_eligible_for_trade_good_incense = {
	OR = {
		area = newfoundland_area
		AND = {
			NOT = {	region = arabia_region }
			NOT = {	region = malaya_region }
			NOT = {	region = moluccas_region }
			NOT = {	region = indonesia_region }
			NOT = { region = deccan_region }
			NOT = { region = bengal_region }
			NOT = { region = coromandel_region }
			NOT = { region = south_east_pacific_region }
			NOT = { region = australia_region }
			NOT = { area = indian_ocean_islands_area }
		}
		has_terrain = mountain
	}
}
#1.35
is_not_eligible_for_trade_good_glass = {
	OR = {
		area = newfoundland_area
		NOT = { development_discounting_tribal = 15 }
	}
}
#1.35
is_not_eligible_for_trade_good_paper = {
	OR = {
		area = newfoundland_area
		NOT = { development_discounting_tribal = 15 }
	}
}
#1.35
is_not_eligible_for_trade_good_gems = {
	OR = {
		area = newfoundland_area
		AND = {
			is_random_new_world = no
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = australia_region }
			NOT = { region = south_africa_region }
			NOT = { region = central_africa_region }
			NOT = { region = central_america_region }
			NOT = { region = peru_region }
			NOT = { region = upper_peru_region }
			NOT = { region = colombia_region }
			NOT = { region = indonesia_region }
			NOT = { region = moluccas_region }
			NOT = { region = hindusthan_region }
			NOT = { region = west_india_region }
			NOT = { region = bengal_region }
			NOT = { region = deccan_region }
			NOT = { region = coromandel_region }
			NOT = { region = indo_china_region }
			NOT = { continent = oceania }
			NOT = { area = minas_gerais_area }
			NOT = { area = diamantina_area }
			NOT = { area = amazon_area }
			NOT = { area = bogota_area }
			NOT = { area = popayan_area }
			NOT = { area = venezuela_area }
			NOT = { area = guyana_area }
			NOT = { area = upper_guyana_area }
			NOT = { area = guapore_area }
			NOT = { area = amapa_area }
			NOT = { area = grao_para_area }
			NOT = { area = goias_area }
			NOT = { area = mato_grosso_area }
			NOT = { area = pontal_area }
			NOT = { area = guapore_area }
		}
		AND = {
			is_random_new_world = yes
			NOT = { continent = new_world }
			NOT = { region = west_siberia_region }
			NOT = { region = east_siberia_region }
			NOT = { region = australia_region }
			NOT = { region = south_africa_region }
			NOT = { region = indonesia_region }
			NOT = { region = moluccas_region }
			NOT = { region = hindusthan_region }
			NOT = { region = west_india_region }
			NOT = { region = bengal_region }
			NOT = { region = deccan_region }
			NOT = { region = coromandel_region }
			NOT = { region = indo_china_region }
			NOT = { continent = oceania }
		}
		AND = {
			is_random_new_world = yes
			continent = new_world
			OR = {
				has_terrain = forest
				has_terrain = woods
				has_terrain = drylands
				has_terrain = grasslands
				has_terrain = savannah
				has_terrain = steppe
				has_terrain = coastline
				has_terrain = coastal_desert
				has_terrain = marsh
			}
		}
		AND = {
			NOT = { has_terrain = coastline }
			NOT = { region = australia_region }
			continent = oceania #Pearls
		}
	}
}
#1.35
is_not_eligible_for_trade_good_coal = {
	always = yes	#Should never be available
}
#1.35
is_not_eligible_for_trade_good_cloves = {
	NOT = {
		OR = {
			area = molluca_area
			area = spice_islands_area
		}
	}
}
#1.35
is_not_eligible_for_trade_good_unknown = {
	always = yes
}
#1.35
has_chance_scaling_cost = {
	always = no
}

# Province scope
# Supports the following trade goods
####################################
# grain
# wine
# wool
# cloth
# fish
# fur
# salt
# naval_supplies
# copper
# gold
# iron
# slaves
# ivory
# tea
# chinaware
# spices
# coffee
# cotton
# sugar
# tobacco
# cocoa
# silk
# dyes
# tropical_wood
# livestock
# incense
# glass
# paper
# gems
# coal
# cloves
# unknown

#1.35
is_eligible_for_trade_good = {
	NOT = { trade_goods = $trade_goods$ }
	NOT = { is_not_eligible_for_trade_good_$trade_goods$ = yes }
}

#1.35
has_updated_culture = {
	has_global_flag = updated_$culture$_flag
}

#1.35
is_eligible_for_statists_monarchist_events = {
	NOT = { has_government_attribute = theocratic_monarchy_mechanic }
	NOT = { has_government_attribute = has_co_rulership }
}

#1.35
has_modifier_locking_military_tier = {
	has_country_modifier = new_order_regiment_mobilized_modifier
}

#1.35
has_not_modifier_locking_military_tier = {
	custom_trigger_tooltip = {
		tooltip = has_modifier_locking_military_tier_tt
		NOT = { has_modifier_locking_military_tier = yes }
	}
}

has_not_locked_first_tier_reform = {  #TODO 1.35 needs adjusting for anbennar
	# NOT = { has_reform = shogunate }
	# NOT = { has_reform = daimyo }
	# NOT = { has_reform = feudal_france_reform }
	# NOT = { has_reform = appanage_reform }
	# NOT = { has_reform = absolutist_france_reform }
	# NOT = { has_reform = celestial_empire }
	# NOT = { has_reform = kalmar_union }
	# NOT = { has_reform = elective_monarchy }
	# NOT = { has_reform = english_monarchy }
	# NOT = { has_reform = british_monarchy }
	# NOT = { has_reform = angevin_monarchy }
	# NOT = { has_reform = absolute_british_monarchy }
	# NOT = { has_reform = ottoman_government }
	# NOT = { has_reform = byzantine_autocracy_reform }
	# NOT = { has_reform = reformed_byzantine_monarchy_reform }
	# NOT = { has_reform = caliphate_reform }
	# NOT = { has_reform = modernized_ottoman_government }
	# NOT = { has_reform = reorganized_ottoman_government }
	# NOT = { has_reform = eyalet_government }
	# NOT = { has_reform = barbary_eyalet_government }
	# NOT = { has_reform = mughal_government }
	# NOT = { has_reform = revolutionary_empire_reform }
	# NOT = { has_reform = polish_great_sejm }
	# NOT = { has_reform = polish_elective_monarchy }
	# NOT = { has_reform = polish_autocratic_monarchy }
	# NOT = { has_reform = norwegian_parliamentary_monarchy }
	# NOT = { has_reform = protectorate_parliament_reform }
	# NOT = { has_reform = parliamentary_republic_reform }
	# NOT = { has_reform = pirate_republic_reform }
	# NOT = { has_reform = presidential_despot_reform }
	# NOT = { has_reform = military_dictatorship_reform }
	# NOT = { has_reform = revolutionary_republic_reform }
	# NOT = { has_reform = junior_revolutionary_republic_reform }
	# NOT = { has_reform = free_city }
	# NOT = { has_reform = trading_city }
	# NOT = { has_reform = colonial_government }
	# NOT = { has_reform = crown_colony_government }
	# NOT = { has_reform = private_enterprise_colony_government }
	# NOT = { has_reform = self_governing_colony_government }
	# NOT = { has_reform = trade_company_government }
	# NOT = { has_reform = english_parliamentary_republic_government }
	# NOT = { has_reform = papacy_reform }
	# NOT = { has_reform = caliphate_theocracy_reform }
	# NOT = { has_reform = fifth_monarchists_reform }
	# NOT = { has_reform = great_mongol_state_reform }	
}

#---1.36 stuff below---

ARB_hedjaz_najd_bedouin_potential = {
	OR = {
		tag = ARB
		tag = NAJ
		tag = DAW
		tag = SHM 
		tag = HED
		tag = MDA
		tag = MFL 
		tag = ANZ
		tag = FAD
	}
	NOT = { map_setup = map_setup_random }
}

YEM_is_yemeni_nation ={
	OR = { 
		tag = YEM
		tag = ADE
		tag = HDR
		tag = NJR
		tag = MHR
		tag = RAS
		# tag = MFL technically Hedjazi
	}
}

num_of_forced_converted_countries = {
	custom_trigger_tooltip = {
		tooltip = HAS_FORCE_CONVERTED_$amount$_COUNTRIES_TT
		check_variable = {
			which = num_of_forced_conversions
			value = $amount$
		}
	}
}

num_of_converted_provinces = {
	custom_trigger_tooltip = {
		tooltip = HAS_CONVERTED_$amount$_PROVINCES_TT
		check_variable = {
			which = num_converted_religion
			value = $amount$
		}
	}
}

has_unlocked_trading_policy = {
	custom_trigger_tooltip = {
		tooltip = has_unlocked_trading_policy_$policy$_tt
		NOT = { has_country_flag = locked_trading_policy_$policy$ }
	}
}

has_locked_trading_policy = {
	custom_trigger_tooltip = {
		tooltip = has_locked_trading_policy_$policy$_tt
		has_country_flag = locked_trading_policy_$policy$
	}
}

has_enabled_trading_policy = {
	has_country_flag = enabled_trading_policy_$policy$
	NOT = { has_country_flag = disabled_trading_policy_$policy$ }
}

has_disabled_trading_policy = {
	has_country_flag = disabled_trading_policy_$policy$
}

has_not_disabled_trading_policy = {
	NOT = { has_country_flag = disabled_trading_policy_$policy$ }
}

trading_policy_or_upgraded_policy_in_node = {
	OR = {
		trading_policy_in_node = {
			node = $node$
			policy = $policy$
		}
		trading_policy_in_node = {
			node = $node$
			policy = $policy$_upgraded
		}
	}
}

# Supports the following decisions
##################################
# grand_vizier_selection
# horse_breeding_decision
has_unlocked_decision = {
	custom_trigger_tooltip = {
		tooltip = has_unlocked_decision_$type$_tt
		has_country_flag = unlocked_decision_$type$
	}
}

has_max_monthly_monarch_power = {
	if = {
		limit = {
			#Promote Advisors - +2
			has_dlc = "Cradle of Civilization"
			#National Focus - +2
			has_dlc = "Res Publica"
			has_dlc = "Common Sense"
		}
		monthly_$type$ = 18
	}
	else_if = {
		limit = {
			OR = {
				has_dlc = "Cradle of Civilization"
				has_dlc = "Res Publica"
				has_dlc = "Common Sense"
			}
		}
		monthly_$type$ = 16
	}
	else = {
		monthly_$type$ = 14
	}
}

has_high_monthly_monarch_power = {
	if = {
		limit = {
			#Promote Advisors - +2
			has_dlc = "Cradle of Civilization"
			#National Focus - +2
			has_dlc = "Res Publica"
			has_dlc = "Common Sense"
		}
		monthly_$type$ = 14
	}
	else_if = {
		limit = {
			OR = {
				has_dlc = "Cradle of Civilization"
				has_dlc = "Res Publica"
				has_dlc = "Common Sense"
			}
		}
		monthly_$type$ = 12
	}
	else = {
		monthly_$type$ = 10
	}
}

has_medium_monthly_monarch_power = {
	if = {
		limit = {
			#Promote Advisors - +2
			has_dlc = "Cradle of Civilization"
			#National Focus - +2
			has_dlc = "Res Publica"
			has_dlc = "Common Sense"
		}
		monthly_$type$ = 12
	}
	else_if = {
		limit = {
			OR = {
				has_dlc = "Cradle of Civilization"
				has_dlc = "Res Publica"
				has_dlc = "Common Sense"
			}
		}
		monthly_$type$ = 10
	}
	else = {
		monthly_$type$ = 8
	}
}

has_defender_of_faith_religion = {
	custom_trigger_tooltip = {
		tooltip = has_defender_of_faith_religion_tt
		OR = {
			religion_group = christian
			religion_group = muslim
			religion_group = zoroastrian_group
			religion_group = jewish_group
		}
	}
}

has_unlocked_diplomatic_action = {
	has_country_flag = unlocked_diplomatic_action_$type$
}

has_unified_islam = {
	custom_trigger_tooltip = {
		tooltip = has_unified_islam_tt
		has_country_modifier = unified_islam
	}
}

has_completed_all_persian_missions = {
	custom_trigger_tooltip = {
		tooltip = has_completed_all_persian_missions_tt
		mission_completed = per_reform_our_defenses
		mission_completed = per_master_of_india
		OR = {
			AND = {
				mission_completed = per_indomitable_lion
				mission_completed = per_unify_islam
			}
			AND = {
				mission_completed = per_indomitable_lion
				mission_completed = per_great_shia_empire
			}
			AND = {
				mission_completed = per_a_new_eranshahr
				mission_completed = per_an_asha_empire
			}
		}
		if = {
			limit = { primary_culture = mazandarani	}
			mission_completed = per_tab_legacy_of_eranshahr
		}
		if = {
			limit = { 
				OR = {
					was_tag = AKK
					was_tag = QAR
				}
			}
			mission_completed = per_qqq_legacy_of_the_seljuk
		}
		if = {
			limit = {
				OR = {
					was_tag = TIM
					was_tag = KHO
					was_tag = FRS
					was_tag = AFG
					was_tag = TRS
					was_tag = SIS
					was_tag = QOM
					has_country_flag = enthroned_a_timurid_prince
				}
			}
			mission_completed = per_tim_legacy_of_timur
		}
		if = {
			limit = { was_tag = ARL }
			mission_completed = per_arl_legacy_of_the_safavid
		}
		mission_completed = per_riches_of_asia
		mission_completed = per_enlightened_rule
		mission_completed = per_the_tofangchi
		mission_completed = per_balance_of_power
		mission_completed = per_establish_the_qurchi
		mission_completed = per_language_of_poetry
	}
}

has_any_ongoing_construction = {
	custom_trigger_tooltip = {
		tooltip = has_any_ongoing_construction_tt
		has_construction = building
		has_construction = core
		has_construction = culture
		has_construction = great_project
		has_construction = canal
		has_construction = missionary
	}
}

total_non_estate_disasters_completed = {
	custom_trigger_tooltip = {
		tooltip = total_non_estate_disasters_completed_$value$_tt
		check_variable = {
			which = total_disasters_completed_counter
			value = $value$
		}
	}
}

#---1.36 end---

#Probably Anbennar shizz

#country scope, used to check if a neighbor country has an institution the in scope one does not
neighbor_is_ahead_in_institution = {
	any_neighbor_country = {
		institution_difference = {
            who = ROOT
            value = 1
        }
	}
}

is_legendary_mage = { #Made for Elikhand but generally usable. The tooltip is with Elikhand's loc if somebody wants to move it.
	custom_trigger_tooltip = {
		tooltip = is_mage_3_tt
		OR = {
			is_abjuration_3 = yes
			is_conjuration_3 = yes
			is_divination_3 = yes
			is_enchantment_3 = yes
			is_evocation_3 = yes
			is_illusion_3 = yes
			is_necromancy_3 = yes
			is_transmutation_3 = yes
		}
	}
}

eligible_for_gov_tribal_reform_monster_non_horde = {
	OR = {
		culture_group = orcish
		culture_group = goblin
		culture_group = harpy
		culture_group = ogre
		culture_group = giantkind
		culture_group = kobold
		##culture_group = centaur
	}
	is_tribal = yes
	NOT = { has_reform = ogre_horde }
	NOT = { has_reform = emerald_horde }
	NOT = { has_reform = shadow_horde }
	NOT = { has_reform = steppe_horde }
	NOT = { has_reform = roadwarrior_great_convoy }
	NOT = { tag = H91 }
}

eligble_for_harpy_harem_events = {
	OR = {
		has_reform = harpy_matriarchy_reform
		has_reform = siadan_harpy_empire
		has_reform = harpy_queendom_reform
		has_reform = matriarchal_pirate_republic
	}
}