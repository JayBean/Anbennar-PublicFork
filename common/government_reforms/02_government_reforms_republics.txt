republic_mechanic = {
	basic_reform = yes
	republican_name = yes
	royal_marriage = no
	republic = yes
	duration = 4
	has_term_election = yes
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	modifiers = {
		burghers_influence_modifier = 0.15
		#vaisyas_influence_modifier = 0.15
		max_absolutism = -40

		# Anbennar
		middlecastes_influence_modifier = 0.15
	}

	valid_for_nation_designer = no

	government_abilities = {
		anb_dummy_hold_mechanic
	}
}

#Oligarchy vs Merchant Class vs Noble Elite

oligarchy_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	duration = 4
	legacy_equivalent = oligarchic_republic
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	potential = {
		NOT = { culture_group = latin }
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		#Anbennar
		NOT = { tag = Y15 }
		NOT = { culture_group = dwarven }
	}
	nation_designer_trigger = {
		NOT = { culture_group = latin }
		NOT = { culture_group = dwarven }
	}
	modifiers = {
		burghers_loyalty_modifier = 0.05
		global_tax_modifier = 0.05
		global_unrest = -0.5
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	ai = {
		factor = 0.5 #generic
	}
}

signoria_reform = {
	icon = "signoria_reform"
	allow_normal_conversion = yes
	duration = 12
	legacy_equivalent = signoria
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	royal_marriage = yes
	potential = {
		culture_group = latin
	}
	nation_designer_trigger = {
		culture_group = latin
	}
	modifiers = {
		global_tax_modifier = 0.05
		max_absolutism = 10
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_nepotism = yes
	}
	ai = {
		factor = 10
	}
}

#ANBENNAR


protectorate_parliament_reform = {
	icon = "protectorate_parliament_reform"
	allow_normal_conversion = no
	potential = {
		has_reform = protectorate_parliament_reform
	}
	lock_level_when_selected = yes
	valid_for_new_country = no
	valid_for_nation_designer = no
	nation_designer_cost = 15
	legacy_equivalent = protectorate_parliament_legacy
	modifiers = {
		global_autonomy = -0.05
		land_morale = 0.1
		max_absolutism = 20
		republican_tradition = -0.5
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
		custom_attributes = {
			blocked_call_diet = yes
		}
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	has_term_election = no
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

stratocracy_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "black_army_reform"
	potential = {
		has_reform = stratocracy_reform
	}
	valid_for_nation_designer = yes
	legacy_equivalent = military_dictatorship
	has_term_election = no
	modifiers = {
		army_tradition = 1
		land_morale = 0.1
		free_leader_pool = 1
		max_absolutism = 40
	}
	custom_attributes = {
		generals_become_rulers = yes
		locked_government_type = yes
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
}

jiangdu_leadership_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "black_army_reform"
	potential = {
		has_reform = jiangdu_leadership_reform
	}
	valid_for_nation_designer = yes
	legacy_equivalent = military_dictatorship
	has_term_election = no
	modifiers = {
		army_tradition = 0.5
		land_morale = 0.1
		free_leader_pool = 1
		governing_capacity_modifier = -0.25
	}
	custom_attributes = {
		generals_become_rulers = yes
		locked_government_type = yes
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
}

jiangdu_war_empire_reform = {
	icon = "soldiers_5"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = jiangdu_war_empire_reform
	}
	trigger = {
		OR = {
			is_playing_custom_nation = yes
			tag = Y13
			was_tag = Y13
		}
		custom_trigger_tooltip = {
			tooltip = jiangdu_war_empire_tt
			NOT = { has_country_flag = jiangdu_war_empire }
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	legacy_equivalent = military_dictatorship
	modifiers = {
        land_morale = 0.10
        governing_capacity_modifier = 0.10
        global_manpower_modifier = 0.20
        army_tradition = 1
        max_absolutism = 40
	}
	custom_attributes = {
		generals_become_rulers = yes
		locked_government_type = yes
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		has_term_election = no
	}
}
# parliamentary_republic_reform = {
# 	icon = "protectorate_parliament_reform"
# 	allow_normal_conversion = no
# 	potential = {
# 		OR = {
# 			has_reform = parliamentary_republic_reform
# 			have_had_reform = parliamentary_republic_reform
# 		}
# 	}
# 	lock_level_when_selected = yes
# 	valid_for_new_country = no
# 	nation_designer_cost = 30
# 	valid_for_nation_designer = yes
# 	modifiers = {
# 		global_autonomy = -0.05
# 		land_morale = 0.1
# 		can_revoke_parliament_seats = yes 
# 		parliament_backing_chance = 0.25
# 		num_of_parliament_issues = 1
# 	}

# 	conditional = {
# 		allow = {
# 			has_dlc = "Common Sense"
# 			NOT = { has_dlc = "Domination" }
# 		}
# 		has_parliament = yes
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Domination"
# 		}
# 		has_parliament = yes
# 		custom_attributes = {
# 			english_parliament = yes
# 		}
# 	}
# 	duration = 5
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		cannot_become_dictatorship = yes
# 	}
# }

# prussian_republic_reform = {
# 	icon = "prussian_monarchy"
# 	allow_normal_conversion = yes
# 	potential = {
# 		OR = {
# 			AND = {
# 				tag = PRU
# 				NOT = { map_setup = map_setup_random }
# 			}
# 			AND = {
# 				tag = GER
# 				NOT = { map_setup = map_setup_random }
# 				OR = {
# 					has_reform = prussian_monarchy
# 					have_had_reform = prussian_monarchy
# 					have_had_reform = prussian_republic_reform
# 					have_had_reform = prussian_theocratic_reform
# 					is_hegemon_of_type = military_hegemon
# 					development_in_provinces = {
# 						value = 500
# 						culture = prussian
# 					}
# 				}
# 			}
# 			AND = {
# 				is_playing_custom_nation = yes
# 				OR = {
# 					has_reform = prussian_republic_reform
# 					have_had_reform = prussian_monarchy
# 					have_had_reform = prussian_monarchy_base
# 					have_had_reform = prussian_republic_reform
# 					have_had_reform = prussian_theocratic_reform
# 				}
# 			}
# 			has_unlocked_government_reform = {
# 				government_reform = prussian_republic_reform
# 			}
# 		}
# 	}
# 	trigger = {
# 		OR = {
# 			religion = protestant
# 			religion = reformed
# 			religion = hussite
# 			religion = anglican
# 			AND = {
# 				is_playing_custom_nation = yes
# 				OR = {
# 					hidden_trigger = {
# 						has_reform = prussian_republic_reform
# 					}
# 					have_had_reform = prussian_monarchy
# 					have_had_reform = prussian_monarchy_base
# 					have_had_reform = prussian_republic_reform
# 					have_had_reform = prussian_theocratic_reform
# 				}
# 			}
# 			has_unlocked_government_reform_tooltip = {
# 				government_reform = prussian_republic_reform
# 			}
# 		}
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 100
# 	legacy_equivalent = prussian_republic
	
# 	modifiers = {
# 		war_exhaustion = -0.02
# 		monthly_militarized_society = 0.05
# 		global_autonomy = -0.075
# 		republican_tradition = -0.5
# 		max_absolutism = 30
# 		governing_capacity_modifier = -0.5
# 	}
	
# 	conditional = {
# 		allow = { has_dlc = "Rights of Man" }
# 		government_abilities = {
# 			militarization_mechanic
# 		}
# 	}
	
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		generals_become_rulers = yes
# 	}
	
# 	has_term_election = no
# }

merchants_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -10
		merchants = 1
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	potential = {
		# NOT = {
		# 	AND = {
		# 		tag = VEN
		# 		NOT = { map_setup = map_setup_random }
		# 	}
		# }
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
	}
	trigger = {
		OR = {
			has_reform = merchants_reform
			crown_stronger_than_estate = { estate = all }
		}
	}
	boost_income = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		elections_increase_factions_influence = yes
	}
	ai = {
		factor = 0.75 #generic
		
		modifier = {
			factor = 0
			num_of_cities = 11
		}
		
		modifier = {
			factor = 0
			capital_scope = { has_port = no }
		}
		
		modifier = {
			factor = 0
			NOT = {
				capital_scope = { province_has_center_of_trade_of_level = 1 }
			}
		}
		
		modifier = {
			factor = 0
			is_subject = yes
		}
	}
}

# venice_merchants_reform = {
# 	icon = "trading_city"
# 	allow_normal_conversion = yes
# 	modifiers = {
# 		max_absolutism = -10
# 		merchants = 1
# 		yearly_corruption = -0.1
# 		monarch_lifespan = 0.25
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 40
# 	legacy_equivalent = venetian_merchant_republic
# 	potential = {
# 		NOT = { map_setup = map_setup_random }
# 		OR = {
# 			tag = VEN
# 			AND = {
# 				is_playing_custom_nation = yes
# 				have_had_reform = venice_merchants_reform
# 			}
# 		}
# 	}
# 	boost_income = yes
# 	factions = {
# 		mr_aristocrats
# 		mr_traders
# 		mr_guilds
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Res Publica"
# 			NOT = { has_dlc = "Mare Nostrum" }
# 		}
# 		can_use_trade_post = yes
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Mare Nostrum"
# 			NOT = { has_dlc = "Res Publica" }
# 		}
# 		can_form_trade_league = yes
# 		trade_city_reform = trading_city
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Res Publica"
# 			has_dlc = "Mare Nostrum"
# 		}
# 		can_use_trade_post = yes
# 		can_form_trade_league = yes
# 		trade_city_reform = trading_city
# 	}
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		lottery_election = yes
# 		election_on_death = yes
# 		is_merchant_republic = yes
# 		elections_increase_factions_influence = yes
# 		bonus_stats_for_elected_ruler = yes
# 	}
# 	has_term_election = no
# }

pirate_republic_reform = {
	icon = "pirate_republic"
	allow_normal_conversion = no
	legacy_equivalent = pirate_republic
	lock_level_when_selected = yes
	modifiers = {
		republican_tradition = -1
		max_absolutism = 10
		naval_forcelimit_modifier = 0.5
		capture_ship_chance = 0.33
		state_governing_cost = 0.75
		may_perform_slave_raid_on_same_religion = yes
		allowed_marine_fraction = 0.5
	}
	trigger = {
		OR = {
			has_government_attribute = is_pirate_republic_reform
			crown_stronger_than_estate = { estate = all }
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	can_form_trade_league = no
	
	nation_designer_trigger = {
		OR = {
			has_dlc = "Lions of the North"
			has_dlc = "Golden Century"
		}
		capital_scope = {
			has_port = yes
			OR = {
				province_is_on_an_island = yes
				region = maghreb_region
			}
		}
		NOT = { technology_group = andean }
		NOT = { technology_group = north_american }
		NOT = { technology_group = south_american }
		NOT = { technology_group = mesoamerican }
	}

	removed_effect = {
		clr_country_flag = pirate_mutineer_council
	}
	
	potential = {
		has_reform = pirate_republic_reform
		OR = {
			has_dlc = "Lions of the North"
			has_dlc = "Golden Century"
		}
	}
	
	factions_frame = 9
	factions = {
		pr_buccaneers
		pr_smugglers
		pr_captains
	}
	
	duration = 4
	
	custom_attributes = {
		locked_government_type = yes
		force_admiral_leader = yes
		is_pirate_republic_reform = yes
		elections_increase_factions_influence = yes
		cannot_become_dictatorship = yes
		disables_regular_estates = yes #is that wanted?
	}
	
}

noble_elite_reform = {
	icon = "nobleman"
	allow_normal_conversion = yes
	legacy_equivalent = noble_republic
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		#Anbennar
		NOT = { has_reform = obsidian_council_reform }
		NOT = { tag = Y15 }
		NOT = { culture_group = dwarven }
		NOT = { culture_group = goblin }
	}
	modifiers = {
		army_tradition = 0.5
		max_absolutism = 20
		nobles_influence_modifier = 0.05
		#maratha_exclusive_influence_modifier = 0.05
		#rajput_exclusive_influence_modifier = 0.05

		# Anbennar
		uppercastes_influence_modifier = 0.05
	}
	duration = 8

	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
	ai = {
		factor = 0.5 #generic
	}
}

#ANBENNAR
dwarovar_elected_clans_reform = {
	icon = "regionally_elected_commanders"
	allow_normal_conversion = yes
	duration = 8
	potential = { 
		culture_group = dwarven 
		NOT = { tag = I02 }
	}
	nation_designer_trigger = { culture_group = dwarven }
	modifiers = {
		diplomatic_reputation = 1
		advisor_pool = 2
		caravan_power = 0.25
		max_absolutism = 10
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_nepotism = yes
	}
	ai = { factor = 10 }
}	


ar_callein_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	valid_for_new_country = no
	potential = {
		OR = {
			has_reform = ar_callein_reform
			have_had_reform = ar_callein_reform
		}
		has_estate = estate_vampires
	}
	trigger = {
		NOT = { has_estate_privilege = estate_vampires_law_open_rule }
	}
	icon = "ar_callein"
	legacy_equivalent = noble_republic
	valid_for_nation_designer = no
	factions = {
		vilaechi
		rosrholych
		drominar
	}
	modifiers = {
		prestige = 1
		production_efficiency = 0.1
		max_absolutism = 20
	}
	duration = 10

	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		locked_government_type = yes
		disables_regular_estates = yes
	}
}

presidential_despot_reform = {
	allow_normal_conversion = no
	dictatorship = yes
	is_eligible_for_hre_emperor = no
	lock_level_when_selected = yes
	icon = "parliament_hall"
	potential = {
		has_reform = presidential_despot_reform
	}
	valid_for_nation_designer = no
	legacy_equivalent = republican_dictatorship

	modifiers = {
		global_autonomy = -0.075
		land_morale = 0.1
		max_absolutism = 40
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	has_term_election = no
}

military_dictatorship_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "parliament_hall"
	potential = {
		has_reform = military_dictatorship_reform
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 25
	legacy_equivalent = military_dictatorship
	has_term_election = no
	modifiers = {
		global_autonomy = -0.075
		land_morale = 0.1
		max_absolutism = 30
	}
	custom_attributes = {
		generals_become_rulers = yes
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
}

revolutionary_republic_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "revolutionary_republic"
	potential = {
		has_reform = revolutionary_republic_reform
	}
	legacy_equivalent = revolutionary_republic
	valid_for_new_country = no
	duration = 4
	valid_for_nation_designer = no
	republican_name = yes
	royal_marriage = no
	uses_revolutionary_zeal = yes
	revolutionary = yes

	modifiers = {
		tolerance_heretic = 2
		land_morale = 0.1
		global_autonomy = -0.2
		max_revolutionary_zeal = 50
		max_absolutism = 40
		papal_influence = -100
		allowed_rev_guard_fraction = 0.2	
	}
	fixed_rank = 3
	effect = {
		custom_tooltip = break_every_non_rev_republic_alliance_tt
		hidden_effect = {
			every_ally = {
				limit = {
					NOT = { government = republic }
					is_revolutionary = no
				}
				ROOT = { break_alliance = PREV }
			}
		}
	}

	custom_attributes = {
		cannot_ally_non_republics_or_non_rev = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		#is_technocracy = yes	#why the hell was this put here here? -Jay
		disables_regular_estates = yes	#anbennar
	}

	conditional = {
		allow = {
			has_dlc = "Rights of Man"
		}
		factions = {
			rr_jacobins
			rr_royalists
			rr_girondists
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = is_revolutionary_china_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_china_flag
				restore_country_name = yes
				override_country_name = CHINA_STRING
				set_country_flag = is_china_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_turkey_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_turkey_flag
				restore_country_name = yes
				override_country_name = TURKEY_STRING
				set_country_flag = is_turkey_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_gurkani_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_gurkani_flag
				restore_country_name = yes
				override_country_name = GURKANI_EMPIRE_STRING
				set_country_flag = is_gurkani_flag
			}
		}
	}
}

junior_revolutionary_republic_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "revolutionary_republic"
	potential = {
		has_reform = junior_revolutionary_republic_reform
	}
	legacy_equivalent = revolutionary_republic
	valid_for_new_country = no
	duration = 4
	valid_for_nation_designer = no
	republican_name = yes
	royal_marriage = no
	uses_revolutionary_zeal = yes
	revolutionary = yes
	revolutionary_client_state = yes # Used By Revolutionary Client State

	modifiers = {
		tolerance_heretic = 2
		land_morale = 0.1
		global_autonomy = -0.2
		max_revolutionary_zeal = 25
		max_absolutism = 40
		papal_influence = -100
		allowed_rev_guard_fraction = 0.2
	}
	fixed_rank = 2
	effect = {
		custom_tooltip = break_every_non_rev_republic_alliance_tt
		hidden_effect = {
			every_ally = {
				limit = {
					NOT = { government = republic }
					is_revolutionary = no
				}
				ROOT = { break_alliance = PREV }
			}
		}
	}

	custom_attributes = {
		cannot_ally_non_republics_or_non_rev = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		disables_regular_estates = yes	#anbennar
	}

	removed_effect = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = is_revolutionary_china_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_china_flag
				restore_country_name = yes
				override_country_name = CHINA_STRING
				set_country_flag = is_china_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_turkey_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_turkey_flag
				restore_country_name = yes
				override_country_name = TURKEY_STRING
				set_country_flag = is_turkey_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_gurkani_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_gurkani_flag
				restore_country_name = yes
				override_country_name = GURKANI_EMPIRE_STRING
				set_country_flag = is_gurkani_flag
			}
		}
	}

	conditional = {
		allow = {
			has_dlc = "Rights of Man"
		}
		factions = {
			rr_jacobins
			rr_royalists
			rr_girondists
		}
	}
}

peasants_republic = {
	allow_normal_conversion = yes
	icon = "peasant_republic"
	potential = {
		OR = {
			has_reform = peasants_republic
			has_country_flag = besolaki_peasants_flag #ANBENNAR
			has_country_flag = ikko_ikki_peasants_flag
			has_country_flag = great_peasants_war_peasant_republic
			have_had_reform = peasants_republic
			have_had_reform = stateless_society
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	legacy_equivalent = peasants_republic_legacy
	modifiers = {
		production_efficiency = 0.1
		land_morale = 0.05
		max_absolutism = -10
	}
	effect = {
		hidden_effect = {
			if = {
				limit = {
					has_global_flag = great_peasants_war_flag
					is_part_of_hre = yes
				}
				1 = {
					change_variable = {
						which = GPW_counting_variable
						value = 2
					}
				}
			}
		}
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		disables_estate_nobles = yes
		is_peasants_republic = yes
	}
	duration = 4
}

# ikko_ikki_republic_reform = {
# 	icon = "peasants"
# 	allow_normal_conversion = yes
# 	potential = {
# 		NOT = { tag = PAP }
# 		OR = {
# 			culture_group = japanese_g
# 			have_had_reform = ikko_ikki_republic_reform
# 		}
# 	}
# 	trigger = {
# 		religion_group = eastern
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_trigger = {
# 		culture_group = japanese_g
# 		religion_group = eastern
# 	}
# 	nation_designer_cost = 20
# 	modifiers = {
# 		yearly_harmony = 0.25
# 		yearly_karma_decay = 0.002
# 		tolerance_own = 1
# 		production_efficiency = 0.1
# 		land_morale = 0.05
# 		global_missionary_strength = 0.02
# 	}
# 	effect = {
# 		hidden_effect = {
# 			set_country_flag = ikko_ikki_peasants_flag
# 		}
# 	}
# 	removed_effect = {
# 		hidden_effect = {
# 			clr_country_flag = ikko_ikki_peasants_flag
# 		}
# 	}
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		disables_estate_nobles = yes
# 		is_peasants_republic = yes
# 	}
# 	duration = 4
# }

# kongsi_federation = {
# 	allow_normal_conversion = yes
# 	icon = "peasant_republic"
# 	potential = {
# 		OR = {
# 			tag = LFA
# 			have_had_reform = kongsi_federation
# 		}
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 20
# 	nation_designer_trigger = {
# 		primary_culture = hakka
# 		technology_group = chinese
# 	}
# 	modifiers = {
# 		production_efficiency = 0.1
# 		republican_tradition = 0.5
# 		max_absolutism = -10
# 	}
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		allow_draft_transport_ships = yes
# 		disables_estate_nobles = yes
# 	}
# 	duration = 4
# }

free_city = {
	icon = "free_city"
	allow_normal_conversion = no
	potential = {
		has_reform = free_city
	}
	legacy_equivalent = imperial_city
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	nation_designer_cost = 40
	nation_designer_trigger = {
		capital_scope = { is_part_of_hre = yes }
		NOT = { num_custom_nation_provinces = 2 }
	}

	free_city = yes
	modifiers = {
		trade_efficiency = 0.1
		development_cost = -0.2
		diplomatic_upkeep = 1
		burghers_influence_modifier = 0.1
	}
	fixed_rank = 1

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	duration = 4
}

trading_city = {
	icon = "trading_city"
	allow_normal_conversion = no
	potential = {
		has_reform = trading_city
	}
	valid_for_nation_designer = no
	legacy_equivalent = trading_city_legacy
	boost_income = yes
	lock_level_when_selected = yes
	is_trading_city = yes
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	modifiers = {
		global_trade_power = 0.1
		max_absolutism = 20
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		elections_increase_factions_influence = yes
	}

	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = merchants_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = merchants_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	duration = 4
}

ambrosian_republic = {
	icon = "ambrosian_republic"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = ambrosian_republic
			have_had_reform = ambrosian_republic
		}
	}
	legacy_equivalent = ambrosian_republic_legacy
	valid_for_nation_designer = yes
	nation_designer_cost = 25
	modifiers = {
		global_tax_modifier = 0.1
		land_morale = 0.05
		governing_capacity = 50
		max_absolutism = 10
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	duration = 4
}

veche_republic = {
	icon = "russian_principality"
	allow_normal_conversion = yes
	potential = {
		# NOT = { has_reform = great_veche_republic }
		# NOT = { have_had_reform = great_veche_republic }
		OR = {
			culture_group = east_slavic
			culture_group = slavic
			AND = {
				is_playing_custom_nation = yes
				have_had_reform = veche_republic
			}
		}
	}
	legacy_equivalent = veche_republic_legacy
	nation_designer_trigger = {
		OR = {
			culture_group = east_slavic
			culture_group = slavic
		}
	}
	modifiers = {
		merchants = 1
		governing_capacity = 100
		max_absolutism = 10
		has_streltsy = yes
		allowed_streltsy_fraction = 0.1
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40

	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	boost_income = yes
	fixed_rank = 1

	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		elections_increase_factions_influence = yes
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
			NOT = { has_dlc = "Third Rome" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
			NOT = { has_dlc = "Third Rome" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Third Rome" }
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Third Rome"
			NOT = { has_dlc = "Mare Nostrum" }
			NOT = { has_dlc = "Res Publica" }
		}
		government_abilities = {
			russian_mechanic
		}
	}
	conditional = {
		allow = {
			has_dlc = "Third Rome"
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		government_abilities = {
			russian_mechanic
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Third Rome"
			NOT = { has_dlc = "Mare Nostrum" }
			has_dlc = "Res Publica"
		}
		government_abilities = {
			russian_mechanic
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = { 
			has_dlc = "Third Rome"
			has_dlc = "Mare Nostrum"
			has_dlc = "Res Publica"
		}
		government_abilities = {
			russian_mechanic
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
		}
	duration = 4
}

# great_veche_republic = {
# 	icon = "king"
# 	allow_normal_conversion = yes
# 	potential = {
# 		OR = {
# 			culture_group = east_slavic
# 			culture_group = slavic
# 		}
# 		religion = orthodox
# 		OR = {
# 			AND = {
# 				tag = RUS
# 				NOT = { map_setup = map_setup_random }
# 			}
# 			AND = {
# 				tag = UKR
# 				NOT = { map_setup = map_setup_random }
# 			}
# 			AND = {
# 				is_playing_custom_nation = yes
# 				have_had_reform = great_veche_republic
# 			}
# 		}
# 	}
# 	fixed_rank = 3
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 40

# 	nation_designer_trigger = {
# 		OR = {
# 			culture_group = east_slavic
# 			culture_group = slavic
# 		}
# 		religion = orthodox
# 	}

# 	modifiers = {
# 		global_manpower_modifier = 0.2
# 		merchants = 1
# 		max_absolutism = 20
# 		governing_capacity = 350
# 		has_streltsy = yes
# 		allowed_streltsy_fraction = 0.2
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Res Publica"
# 		}
# 		can_use_trade_post = yes
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Mare Nostrum"
# 		}
# 		can_form_trade_league = yes
# 		trade_city_reform = trading_city
# 	}
# 	conditional = {
# 		allow = { 
# 			has_dlc = "Third Rome" 
# 			NOT = { has_dlc = "Domination" }
# 		}
# 		government_abilities = {
# 			russian_mechanic
# 		}
# 	}
# 	conditional = {
# 		allow = { has_dlc = "Domination" }
# 		government_abilities = {
# 			russian_mechanic
# 			russian_modernization_mechanic
# 		}
# 	}
# 	duration = 6
# }

# great_russian_republic_reform = {
# 	icon = "organized_military_staff"
# 	allow_normal_conversion = yes
# 	potential = {
# 		OR = {
# 			has_reform = great_russian_republic_reform
# 			have_had_reform = great_russian_republic_reform
# 			AND = {
# 				is_playing_custom_nation = yes
# 				have_had_reform = great_russian_republic_reform
# 			}
# 		}
# 	}
# 	fixed_rank = 3
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 40

# 	modifiers = {
# 		global_manpower_modifier = 0.2
# 		merchants = 2
# 		governing_capacity = 350
# 		yearly_absolutism = 0.05
# 		global_autonomy = -0.05
# 		embracement_cost = -0.5
# 		max_absolutism = 50
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Res Publica"
# 		}
# 		can_use_trade_post = yes
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Mare Nostrum"
# 		}
# 		can_form_trade_league = yes
# 		trade_city_reform = trading_city
# 	}

# 	conditional = {
# 		allow = { has_dlc = "Third Rome" }
# 		claim_states = yes
# 	}
# 	conditional = {
# 		allow = { has_dlc = "Domination" }
# 		government_abilities = {
# 			russian_rule_mechanic
# 		}
# 	}
# 	duration = 6
# }

# american_republic = {
# 	icon = "parliament"
# 	allow_normal_conversion = yes
# 	potential = {
# 		has_dlc = "American Dream"
# 		OR = {
# 			AND = {
# 				OR = {
# 					tag = USA
# 					primary_culture = american
# 				}
# 				NOT = { map_setup = map_setup_random }
# 			}
# 			AND = {
# 				is_playing_custom_nation = yes
# 				have_had_reform = american_republic
# 			}
# 		}
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 15
# 	nation_designer_trigger = {
# 		has_dlc = "American Dream"
# 	}
# 	legacy_equivalent = american_republic_legacy
# 	modifiers = {
# 		war_exhaustion = -0.04
# 		stability_cost_modifier = -0.1
# 		max_absolutism = 20
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		disables_estate_nobles = yes
# 	}
# 	conditional = {
# 		allow = {
# 			OR = {
# 				has_dlc = "Common Sense"
# 				has_dlc = "Domination"
# 			}
# 		}
# 		has_parliament = yes
# 		custom_attributes = {
# 			blocked_call_diet = yes
# 		}
# 	}
# 	duration = 4
# }

# federal_republic = {
# 	icon = "constitution"
# 	allow_normal_conversion = yes
# 	potential = {
# 		has_dlc = "American Dream"
# 		OR = {
# 			AND = {
# 				tag = USA
# 				NOT = { map_setup = map_setup_random }
# 			}
# 			AND = {
# 				is_playing_custom_nation = yes
# 				have_had_reform = federal_republic
# 			}
# 		}
# 	}
# 	legacy_equivalent = federal_republic_legacy
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 15
# 	nation_designer_trigger = {
# 		has_dlc = "American Dream"
# 	}
# 	modifiers = {
# 		diplomatic_reputation = 1
# 		global_spy_defence = 0.1
# 		max_absolutism = 10
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 		disables_estate_nobles = yes
# 	}
# 	conditional = {
# 		allow = {
# 			OR = {
# 				has_dlc = "Common Sense"
# 				has_dlc = "Domination"
# 			}
# 		}
# 		has_parliament = yes
# 		custom_attributes = {
# 			blocked_call_diet = yes
# 		}
# 	}
# 	duration = 4
# }

colonial_government = {
	icon = "peasants"
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	allow_normal_conversion = no
	fixed_rank = 1
	potential = {
		is_colonial_nation = yes
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		NOT = { is_subject_of_type = crown_colony }
		NOT = { is_subject_of_type = private_enterprise }
		NOT = { is_subject_of_type = self_governing_colony }
	}
	legacy_equivalent = colonial_government_legacy
	modifiers = {
		global_autonomy = -0.05
		recover_army_morale_speed = 0.02
		embracement_cost = -0.1
		governing_capacity = 100
		max_absolutism = 40
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}
	duration = 4
}

crown_colony_government = {
	icon = "crown_colony_government"
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	allow_normal_conversion = no
	fixed_rank = 1
	potential = {
		is_colonial_nation = yes
		OR = {
			has_reform = crown_colony_government
			has_reform = private_enterprise_colony_government
			has_reform = self_governing_colony_government
		}
	}
	trigger = {
		is_subject_of_type = crown_colony
	}
	legacy_equivalent = colonial_government_legacy
	modifiers = {
		recover_army_morale_speed = 0.02
		embracement_cost = -0.1
		governing_capacity = 100
		max_absolutism = 40
	}
	effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	duration = 4
}

private_enterprise_colony_government = {
	icon = "private_enterprise_colony_government"
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	allow_normal_conversion = no
	fixed_rank = 1
	potential = {
		is_colonial_nation = yes
		OR = {
			has_reform = crown_colony_government
			has_reform = private_enterprise_colony_government
			has_reform = self_governing_colony_government
		}
	}
	trigger = {
		is_subject_of_type = private_enterprise
	}
	legacy_equivalent = colonial_government_legacy
	modifiers = {
		global_ship_trade_power = 0.2
		embracement_cost = -0.1
		merchants = 1
		production_efficiency = 0.05
		max_absolutism = 40
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = self_governing_colony }
				add_government_reform = self_governing_colony_government
			}
		}
	}
	duration = 4
}

self_governing_colony_government = {
	icon = "self_governing_colony_government"
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	allow_normal_conversion = no
	fixed_rank = 1
	potential = {
		is_colonial_nation = yes
		OR = {
			has_reform = crown_colony_government
			has_reform = private_enterprise_colony_government
			has_reform = self_governing_colony_government
		}
	}
	trigger = {
		is_subject_of_type = self_governing_colony
	}
	legacy_equivalent = colonial_government_legacy
	modifiers = {
		build_cost = -0.1
		development_cost = -0.1
		embracement_cost = -0.1
		state_maintenance_modifier = -0.25
		max_absolutism = 40
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_estate_nobles = yes
		enables_estate_burghers = yes
	}
	effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = { is_subject_of_type = crown_colony }
				add_government_reform = crown_colony_government
			}
			if = {
				limit = { is_subject_of_type = private_enterprise }
				add_government_reform = private_enterprise_colony_government
			}
		}
	}
	duration = 4
}

# trade_company_government = {
#	icon = "paper_with_seal"
#	lock_level_when_selected = yes
#	allow_normal_conversion = no
#	potential = {
#		OR = {
#			has_reform = trade_company_government
#			have_had_reform = trade_company_government
#		}
#	}
#	modifiers = {		
#		tolerance_heathen = 1
#		tolerance_of_heathens_capacity = 1
#		global_own_trade_power = 0.1
#		production_efficiency = 0.1
#		#governing_capacity = 50
#		#global_manpower_modifier = 0.1
#		#naval_forcelimit_modifier = 0.1
#	}
#	nation_designer_cost = 60
#	valid_for_nation_designer = yes
#	boost_income = yes
#	duration = 4
#	factions = {
#		mr_aristocrats
#		mr_traders
#		mr_guilds
#	}
#
#	custom_attributes = {
#		enables_plutocratic_idea_group = yes
#		enables_aristocratic_idea_group = no
#		enables_estate_burghers = yes
#		elections_increase_factions_influence = yes
#		locked_government_type = yes
#		is_merchant_republic = yes
#	}
#	
#	conditional = {
#		allow = {
#			has_dlc = "Leviathan"
#		}
#		allow_draft_transport_ships = yes
#	}
#	conditional = {
#		allow = {
#			has_dlc = "Res Publica"
#			NOT = { has_dlc = "Mare Nostrum" }
#		}
#		can_use_trade_post = yes
#	}
#	conditional = {
#		allow = {
#			has_dlc = "Mare Nostrum"
#			NOT = { has_dlc = "Res Publica" }
#		}
#		can_form_trade_league = yes
#		trade_city_reform = trading_city
#	}
#	conditional = {
#		allow = {
#			has_dlc = "Res Publica"
#			has_dlc = "Mare Nostrum"
#		}
#		can_use_trade_post = yes
#		can_form_trade_league = yes
#		trade_city_reform = trading_city
#	}
#
#}

# english_parliamentary_republic_government = {
# 	icon = "house_of_lords"
# 	lock_level_when_selected = yes
# 	allow_normal_conversion = no
# 	potential = {
# 		has_dlc = "Domination"
# 		OR = {
# 			culture_group = british
# 			culture = anglois
# 		}
# 	}
# 	nation_designer_cost = 20
# 	nation_designer_trigger = {
# 		OR = {
# 			culture_group = british
# 			culture = anglois
# 		}
# 	}
# 	valid_for_nation_designer = yes
# 	modifiers = {
# 		num_of_parliament_issues = 1
# 		republican_tradition = 0.25
# 		max_absolutism = 5
# 	}
# 	duration = 5
# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 	}
	
# 	conditional = {
# 		allow = {
# 			has_dlc = "Common Sense"
# 			NOT = { has_dlc = "Domination" }
# 		}
# 		has_parliament = yes
# 	}
# 	conditional = {
# 		allow = {
# 			has_dlc = "Domination"
# 		}
# 		has_parliament = yes
# 		custom_attributes = {
# 			english_parliament = yes
# 		}
# 	}
# }

# roman_republic_government = {
# 	icon = "roman_empire"
# 	allow_normal_conversion = no
# 	nation_designer_trigger = {
# 		primary_culture = roman
# 	}
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 100
# 	potential = {
# 		has_dlc = "Domination"
# 		primary_culture = roman 
# 	}
# 	modifiers = {
# 		administrative_efficiency = 0.05
# 		culture_conversion_cost = -0.25
# 		culture_conversion_time = -0.1
# 		num_of_parliament_issues = 1
# 	}
# 	fixed_rank = 3
# 	conditional = {
# 		allow = {
# 			OR = {
# 				has_dlc = "Common Sense"
# 				has_dlc = "Domination"
# 			}
# 		}
# 		has_parliament = yes
# 		custom_attributes = {
# 			gain_rt_from_parliament = yes
# 		}
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = yes
# 		enables_aristocratic_idea_group = no
# 	}
# 	duration = 5
# }

# civic_republicanism_government = {
# 	icon = "parliament"
# 	valid_for_nation_designer = no
# 	allow_normal_conversion = no
# 	potential = {
# 		has_dlc = "Domination"
# 		NOT = { has_reform = crown_colony_government }
# 		NOT = { has_reform = private_enterprise_colony_government }
# 		NOT = { has_reform = self_governing_colony_government }
# 	}
# 	modifiers = {
# 		candidate_random_bonus = 1
# 		all_estate_influence_modifier = -0.05
# 		max_terms = 2
# 	}
# 	trigger = {
# 		custom_trigger_tooltip = {
# 			tooltip = "NEEDS_REGULAR_ELECTIONS"
# 			has_government_attribute = has_term_election
# 		}
# 	}

# 	conditional = {
# 		allow = { has_dlc = "Domination" }
# 		custom_attributes = {
# 			enables_plutocratic_idea_group = yes
# 			enables_aristocratic_idea_group = no
# 			has_limited_terms = yes
# 			has_candidate_bonus = yes
# 		}
# 	}

# 	conditional = {
# 		allow = { NOT = { has_dlc = "Domination" } }
# 		custom_attributes = {
# 			enables_plutocratic_idea_group = yes
# 			enables_aristocratic_idea_group = no
# 		}
# 	}
# 	effect = {
# 		hidden_effect = {
# 			set_variable = {
# 				which = election_term
# 				value = 1
# 			}
# 		}
# 	}
# 	removed_effect = {
# 		hidden_effect = {
# 			set_variable = {
# 				which = election_term
# 				value = 1
# 			}
# 		}
# 		clr_ruler_focus_modifiers = yes
# 	}
# 	post_removed_effect = {
# 		clr_ruler_focus_modifiers = yes
# 	}
# 	duration = 5
# }

# calvinist_republic_government = {
# 	icon = "calvinism"
# 	allow_normal_conversion = no
# 	potential = {
# 		has_dlc = "Domination"
# 		religion = reformed
# 	}
# 	trigger = {
# 		religion = reformed 
# 		NOT = { total_development = 400 }
# 	}
# 	nation_designer_cost = 50
# 	valid_for_nation_designer = no
# 	nation_designer_trigger = {
# 		religion = reformed 
# 		NOT = { total_development = 400 }
# 	}
# 	modifiers = {
# 		monthly_fervor_increase = 0.1
# 		tolerance_own = 1 
# 		own_territory_dice_roll_bonus = 1
# 	}

# 	custom_attributes = {
# 		enables_plutocratic_idea_group = no
# 		enables_divine_idea_group = yes
# 	}
# 	duration = 4
# }

dutch_republic = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	potential = {
		always = no	#anbennar
		# OR = {
			# AND = {
				# tag = NED
				# NOT = { map_setup = map_setup_random }
			# }
			# AND = {
				# is_playing_custom_nation = yes
				# have_had_reform = dutch_republic
			# }
		# }
	}
	legacy_equivalent = dutch_republic_legacy
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	royal_marriage = yes
	nation_designer_trigger = {
		has_dlc = "Res Publica"
	}

	modifiers = {
		heavy_ship_power = 0.1
		trade_efficiency = 0.1
		reduced_liberty_desire_on_other_continent = 10
		max_absolutism = 10
		# has_voc_indiamen = yes #1.35
		# allowed_voc_indiamen_fraction = 0.2 #1.35
	}

	removed_effect = {
		if = {
			# Monarchs seize power
			limit = { government = monarchy }
			country_event = { id = dutch_republic.33 }
		}
	}

	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		has_dutch_election = yes
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}

		states_general_mechanic = {
			statists = {
				naval_forcelimit_modifier = 0.10
				global_trade_power = 0.05
				republican_tradition = 1
			}

			orangists = {
				land_forcelimit_modifier = 0.25
				stability_cost_modifier = -0.10
				republican_tradition = -1
			}
		}
	}
	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
	}
	duration = 4
}


cossacks_reform = {
	icon = "horde_riding"
	legacy_equivalent = cossacks_legacy_reform
	allow_normal_conversion = yes
	potential = {
		OR = {
			# AND = {
			# 	tag = ZAZ
			# 	NOT = { map_setup = map_setup_random }
			# }
			has_reform = cossacks_reform
			have_had_reform = cossacks_reform
		}
	}
	
	raze_province = yes
	government_abilities = {
		cossacks_mechanic
	}

	conditional = {
		allow = { has_dlc = "Origins" }
		custom_attributes = {
			has_itinerant_capital = yes
		}
	}
	valid_for_new_country = yes

	nation_designer_trigger = {
		any_owned_province = {
			has_terrain = steppe
		}
	}

	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 60

	modifiers = {
		cavalry_power = 0.2
		cavalry_cost = -0.2
		cav_to_inf_ratio = 0.25
		governing_capacity = 50
	}

	conditional = {
		allow = {
			has_dlc = "The Cossacks"
		}
		custom_attributes = {
			enables_estate_cossacks = yes
		}
	}
	custom_attributes = {
		enables_horde_idea_group = yes
		disables_estate_nobles = yes
	}

	duration = 4
}

# Anbennar

adventurer_republic_reform = {	#adventurer council
	icon = "peasant_republic"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		OR = {
			AND = {
				is_playing_custom_nation = yes
				have_had_reform = adventurer_republic_reform
			}
			has_country_flag = adventurer_derived_government
		}
	}
	duration = 4
	legacy_equivalent = oligarchic_republic
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	modifiers = {
		army_tradition_decay = -0.01
		max_absolutism = 20
		advisor_cost = -0.1
		colonists = 1
		
		adventurers_influence_modifier = 0.1
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
}

technocracy_republic_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes	#changed this from no
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		NOT = { has_reform = pentapandemonium_reform }
		NOT = { has_reform = obsidian_council_reform }
		OR = {
			has_country_flag = magic_artificery_artificery_only
			has_country_flag = magic_artificery_mixed
		}
	}
	trigger = {
		OR = {
			culture_group = gnomish
			culture_group = goblin
			culture_group = kobold
			has_institution = manufactories
			current_age = age_of_revolutions
			has_reform = technocracy_republic_reform
		}
	}
	duration = 4
	valid_for_nation_designer = yes
	nation_designer_trigger = {
		OR = {
			culture_group = gnomish
			culture_group = goblin
			culture_group = kobold
			has_institution = manufactories
			current_age = age_of_revolutions
		}
	}
	nation_designer_cost = 20
	
	factions = {
		tec_brilliance
		tec_technomancy
		tec_mechanists
	}
	
	modifiers = {
		advisor_cost = -0.1
		female_advisor_chance = 0.33
		allowed_rajput_fraction = 0.1 #artificers
		artificers_loyalty_modifier = 0.1
	}
	
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_technocracy = yes
		anb_special_elections = yes
		cannot_become_dictatorship = yes
	}
	effect = {
		add_country_modifier = {
			name = technocracy_rajput_bonus
			duration = -1
		}
		artifice_magic_switch_to_artificery_only_mode = yes
		country_event = { id = elections.902 days = 1 }
	}
	removed_effect = {
		remove_country_modifier = technocracy_rajput_bonus
	}
}

obsidian_council_reform = {
	icon = "obsidian_council"
	allow_normal_conversion = no
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		OR = { 
			tag = I23
			is_playing_custom_nation = yes
		}
		religion = runefather_worship
	}
	fixed_rank = 3
	duration = 15
	valid_for_nation_designer = yes
	nation_designer_trigger = {
		religion = runefather_worship
	}
	lock_level_when_selected = yes
	nation_designer_cost = 40
	modifiers = {
		max_absolutism = 60
		same_culture_advisor_cost = -0.20
		all_power_cost = 0.05
		republican_tradition = 1
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
}

free_slave_reform = {
	icon = "noble_indian"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		OR = {
			has_reform = free_slave_reform
			have_had_reform = free_slave_reform
		}
	}

	modifiers = {
		num_accepted_cultures = 3
		discipline = 0.05
		promote_culture_cost = -0.5
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		#boost_income = yes
		disabled_expelling = yes
		disabled_purging = yes
		anb_special_elections = yes
		locked_government_type = yes
	}
	has_term_election = yes
	duration = 10
}

praxic_meritocracy_reform = {
	icon = "noble_indian"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		OR = {
			has_reform = praxic_meritocracy_reform
			have_had_reform = praxic_meritocracy_reform
		}
	}

	modifiers = {
		discipline = 0.05
		num_accepted_cultures = 3
		promote_culture_cost = -0.5
		missionaries = 1
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		#boost_income = yes
		disabled_expelling = yes
		disabled_purging = yes
		has_parliament = yes
		anb_special_elections = yes
		locked_government_type = yes
	}
	has_term_election = yes
	duration = 10
}


gang_control_reform = {
	icon = "monks"
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		OR = {
			has_reform = gang_control_reform
			have_had_reform = gang_control_reform
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	allow_normal_conversion = no
	duration = 6
	modifiers = {
		candidate_random_bonus = 2
		governing_capacity = -100
		diplomatic_reputation = -1
		liberty_desire = 10
		max_absolutism = 40
	}
	
	custom_attributes = {
		disables_regular_estates = yes
		lock_level_when_selected = yes
	}
}

lake_republic = {
	icon = "constitution"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		OR = {
			has_country_modifier = lake_federation_member
			has_reform = lake_republic
		}
	}
	# legacy_equivalent = federal_republic_legacy
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	nation_designer_trigger = {
		always = yes
	}
	modifiers = {
		global_trade_goods_size_modifier = 0.1
		candidate_random_bonus = 3
		advisor_cost = -0.20
		reelection_cost = 0.33
		max_absolutism = -35
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		republican_name = yes
	}
	duration = 4
}

united_federation = {
	icon = "constitution"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = united_federation
			have_had_reform = united_federation
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	nation_designer_trigger = {
		always = yes
	}
	modifiers = {
		candidate_random_bonus = 4
		reelection_cost = 0.33
		state_maintenance_modifier = -0.25
		global_unrest = -2
		max_possible_parliament_seats = 31
		parliament_backing_chance = -0.25
		max_absolutism = -50
	}
	factions = {
		kalsyto_dazjal_0
		kalsyto_sojdal_0
		kalsyto_sovk_0
		kalsyto_bhu_0
		kalsyto_boshal_0
		kalsyto_kasuk_0
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		blocked_call_diet = yes
		disables_estate_nobles = yes
		cannot_become_dictatorship = yes
		locked_government_type = yes
		republican_name = yes
		has_parliament = yes
		centralize_state_half_refund = yes
		lake_federal_parliament = yes
	}
	duration = 4
}

lake_consolidated_state = {
	icon = "constitution"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		overlord = {
			OR = {
				has_reform = united_federation
				have_had_reform = united_federation
			}
		}
	}
	trigger = {
		has_reform = lake_consolidated_state
	}
	modifiers = {
		num_accepted_cultures = 3
		governing_capacity = 250
		religious_unity = 0.25
		#core_creation = -0.1
		max_absolutism = -30
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
		locked_government_type = yes
		republican_name = yes
		centralize_state_half_refund = yes
	}
	fixed_rank = 3
	duration = 4
}

damescrown_republic_reform = {
	icon = "trading_city"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	modifiers = {
		merchants = 1
		max_absolutism = 5
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 30
	nation_designer_trigger = {
		has_dlc = "Res Publica"
	}
	potential = {
		OR = {
			tag = A25
			have_had_reform = damescrown_republic_reform
		}
		NOT = { ruler_can_revive = yes } # Anbennar
	}
	trigger = {
		OR = {
			has_reform = damescrown_republic_reform
			crown_stronger_than_estate = { estate = all }
		}
	}
	removed_effect = {
		if = {
			# Monarchs seize power
			limit = { government = monarchy }
			country_event = { id = dutch_republic.33 }
		}
	}
	boost_income = yes
	royal_marriage = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}

		states_general_mechanic = {
			republicans = {
				yearly_corruption = -0.1
				global_ship_trade_power = 0.2
				republican_tradition = 1
			}

			clstc = {
				production_efficiency = 0.1
				prestige = 1
				republican_tradition = -1
			}
		}
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		anb_special_elections = yes
	}
}


krak_clan_council = { #krakdhumvror starting republic
	icon = "black_market_consortium"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		NOT = { has_country_flag = krak_disaster_ended }
		OR = {
			has_reform = krak_clan_council
			have_had_reform = krak_clan_council
		}
		primary_culture = quartz_dwarf
	}
	valid_for_nation_designer = no
	modifiers = {
		nobles_influence_modifier = 0.1
		burghers_influence_modifier = -0.1
		advisor_cost = -0.1
		election_cycle = -6 #10 years
		republican_tradition = -0.5
		max_absolutism = 40
	}

	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		rulers_can_be_generals = yes
		cannot_become_dictatorship = yes
		anb_special_elections = yes
	}
}

krak_free_council = { #krakdhumvror reformed republic
	icon = "government_for_people_reform"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = krak_free_council
			have_had_reform = krak_free_council
		}
	}
	valid_for_nation_designer = no
	modifiers = {
		nobles_influence_modifier = -0.1
		advisor_cost = -0.15
		global_unrest = -2
		max_absolutism = 20
		election_cycle = 24 #40 years
	}

	custom_attributes = {
		locked_government_type = yes
		rulers_can_be_generals = yes
		cannot_become_dictatorship = yes
		anb_special_elections = yes
	}
}

eunuch_republic = {
	icon = "asian_scripture"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		OR = {
			capital_scope = { superregion = yanshen_superregion }
			has_reform = eunuch_republic
		}
		OR = {
			has_estate = estate_eunuchs_anb
			is_playing_custom_nation = yes
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 15
	nation_designer_trigger = {
		capital_scope = { superregion = yanshen_superregion }
	}
	modifiers = {
		candidate_random_bonus = 1
		advisor_cost = -0.1
		army_tradition_decay = 0.01
		female_advisor_chance = -0.1
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		disables_estate_nobles = yes
		republican_name = yes
	}
	duration = 4
}

eternal_council = {
	icon = "eternal_council"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = eternal_council
		NOT = {
			has_country_flag = magic_artificery_artificery_only
		}
	}
	valid_for_nation_designer = no
	modifiers = {
		max_absolutism = 40
		global_autonomy = -0.05
		advisor_pool = 1
		# global_unrest = -1
		# diplomatic_reputation = -1.5
		# yearly_corruption = -0.1
		vampires_loyalty_modifier = 0.10
		female_advisor_chance = -0.1
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
		disables_estate_nobles = yes
		is_magocracy = yes   
		anb_special_elections = yes
	}
	duration = 40
	effect = {
		artifice_magic_switch_to_magic_only_mode = yes
	}
}

honsai_ghost_council_1 = {
	icon = "ghost_emperor"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = honsai_ghost_council_1
	}
	valid_for_nation_designer = no
	modifiers = {
		max_absolutism = 30
		republican_tradition = 0.2
		all_power_cost = -0.025
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes 
	}
	duration = 4
}

honsai_ghost_council_2 = {
	icon = "ghost_emperor"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = honsai_ghost_council_2
	}
	valid_for_nation_designer = no
	modifiers = {
		max_absolutism = 30
		republican_tradition = 0.2
		all_power_cost = -0.05
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes 
	}
	duration = 4
}

honsai_ghost_council_3 = {
	icon = "ghost_emperor"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = honsai_ghost_council_3
	}
	valid_for_nation_designer = no
	modifiers = {
		max_absolutism = 30
		republican_tradition = 0.2
		country_admin_power = 1
		country_diplomatic_power = 1
		country_military_power = 1
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes 
	}
	duration = 4
}

kai_township = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	legacy_equivalent = peasants_republic_legacy
	potential = {
		culture_group = kai
		NOT = {
			OR = {
				has_reform = kai_republic
				has_reform = sunrise_court_reform
			}
		}
	}
	has_term_election = no
	valid_for_nation_designer = yes
	nation_designer_cost = 15
	nation_designer_trigger = {
		capital_scope = { region = thidinkai_region }
		culture_group = kai
	}
	modifiers = {
		candidate_random_bonus = 1
		defensiveness = 0.15
		governing_capacity_modifier = -0.2
		max_absolutism = 20
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		republican_name = no
		election_on_death = yes
	}
}

kai_republic = {
	icon = "religious_harmony_reform"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	legacy_equivalent = administrative_republic
	potential = {
		has_reform = kai_republic
	}
	valid_for_nation_designer = no
	modifiers = {
		num_accepted_cultures = 2
		development_cost = -0.1
		max_absolutism = 30
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		has_parliament = yes
		cannot_become_dictatorship = yes
		republican_name = no
	}
	has_term_election = yes
	duration = 8
}

kai_diligent_bureucracy = {
	icon = "three_classes_reform"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = kai_republic
	}
	trigger = {
		has_reform = kai_diligent_bureucracy
	}
	valid_for_nation_designer = yes
	modifiers = {
		expand_infrastructure_cost_modifier = -0.25
	}
	custom_attributes = {
		halved_parliament_bribes = yes
		manufactory_development_discount = yes
	}
}

kai_diligent_bureucracy_no_dlc = {
	icon = "three_classes_reform"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = kai_republic
	}
	trigger = {
		has_reform = kai_diligent_bureucracy_no_dlc
	}
	valid_for_nation_designer = yes
	modifiers = {
		global_allowed_num_of_manufactories = 1
	}
	custom_attributes = {
		halved_parliament_bribes = yes
		manufactory_development_discount = yes
	}
}

azkare_court = {
	icon = "three_classes_reform"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	legacy_equivalent = administrative_republic
	potential = {
		has_reform = azkare_court
	}
	valid_for_nation_designer = no
	conditional = {
		allow = {
			end_game_tags_blocked = yes
		}	
		can_change_primary_culture = no
	}
	modifiers = {
		advisor_cost = -0.15
		development_cost = -0.1
		governing_capacity_modifier = -0.6
		culture_conversion_cost = 100
		global_missionary_strength = -0.1
		max_absolutism = 20
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		republican_name = no
		election_on_death = yes
		has_parliament = yes
		rulers_can_be_generals = no
		disabled_purging = yes
		disabled_expelling = yes
	}
	has_term_election = no
}

sunrise_court_reform = {
	icon = "sunrise_empire"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	legacy_equivalent = constitutional_republic
	potential = {
		has_reform = sunrise_court_reform
	}
	valid_for_nation_designer = no
	valid_for_new_country = no
	conditional = {
		allow = {
			end_game_tags_blocked = yes
		}	
		can_change_primary_culture = no
	}
	modifiers = {
		advisor_cost = -0.15
		idea_cost = -0.1
		development_cost = -0.1
		governing_capacity_modifier = -0.6
		culture_conversion_cost = 100
		global_missionary_strength = -0.1
		max_absolutism = 20
	}
	fixed_rank = 3
	
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		has_parliament = yes
		disabled_purging = yes
		disabled_expelling = yes
	}
	duration = 30
}

beikdugang_plutocracy_reform = {
	icon = "constitution"
	allow_normal_conversion = no
	modifiers = {
		max_absolutism = -20
		merchants = 2
		stability_cost_modifier = -0.25
		burghers_loyalty_modifier = 0.10
		candidate_random_bonus = 1
	}
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	nation_designer_cost = 50
	legacy_equivalent = merchant_republic
	potential = {
		OR = {
			has_reform = beikdugang_plutocracy_reform
			have_had_reform = beikdugang_plutocracy_reform
		}
	}
	boost_income = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		#locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
	}
	ai = {
		factor = 20
	}
}

beikdugang_revolutionary_thalassocracy_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "trading_city"
	potential = {
		OR = {
			has_reform = beikdugang_revolutionary_thalassocracy_reform
			AND = {
				have_had_reform = beikdugang_revolutionary_thalassocracy_reform
				is_revolutionary = yes
			}
		}
	}
	boost_income = yes
	legacy_equivalent = revolutionary_republic
	valid_for_new_country = no
	duration = 4
	valid_for_nation_designer = no
	republican_name = yes
	royal_marriage = no
	uses_revolutionary_zeal = yes
	revolutionary = yes

	modifiers = {
		merchants = 2
		land_morale = 0.05
		naval_morale = 0.1
		diplomatic_upkeep = 3
		reduced_liberty_desire = 20
		max_revolutionary_zeal = 40
		governing_capacity = -300
	}
	fixed_rank = 3

	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		locked_government_type = yes
	}

	conditional = {
		allow = {
			has_dlc = "Rights of Man"
		}
		factions = {
			rr_jacobins
			rr_royalists
			rr_girondists
		}
	}
}

league_of_feiten = {
	allow_normal_conversion = no
	icon = "peasant_republic"
	lock_level_when_selected = yes
	potential = {
		OR = {
			if = {
				limit = { has_saved_global_event_target = feiten_or_was_feiten_target }
				tag = event_target:feiten_or_was_feiten_target
			}
			have_had_reform = league_of_feiten
		}
	}
	valid_for_nation_designer = no
	valid_for_new_country = no
	
	modifiers = {
		global_trade_goods_size_modifier = 0.10
		republican_tradition = 0.5
		max_absolutism = -10
		global_autonomy = 0.025
		administrative_efficiency = -0.05
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		allow_draft_transport_ships = yes
		disables_estate_nobles = yes
	}
	duration = 4
}

seghdihr_syndicates_reform = {
	icon = "government_for_people_reform"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = seghdihr_syndicates_reform
			have_had_reform = seghdihr_syndicates_reform
		}
	}
	valid_for_nation_designer = no
	modifiers = {
		land_forcelimit_modifier = -0.25
		fort_maintenance_modifier = -0.25
		production_efficiency = 0.15
		global_trade_goods_size_modifier = 0.1
	}

	custom_attributes = {
		locked_government_type = yes
	}
}

golden_republic_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	republican_name = no
	royal_marriage = no
	republic = yes	
	has_term_election = no
	conditional = {
		allow = {
			end_game_tags_blocked = yes
		}	
		can_change_primary_culture = no
	}

	icon = "peasant_republic"
	potential = {
		has_reform = golden_republic_reform
	}
	valid_for_nation_designer = no
	legacy_equivalent = peasants_republic_legacy
	modifiers = {
		production_efficiency = 0.1
		merchants = 1
		max_absolutism = -10
		church_influence_modifier = -0.2
		church_loyalty_modifier = -0.05
	}
	boost_income = yes
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		has_parliament = yes
		cannot_become_dictatorship = yes
	}
	duration = 4
}

ameion_conquerers_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "parliament_hall"
	potential = {
		has_reform = ameion_conquerers_reform
	}
	valid_for_nation_designer = no
	legacy_equivalent = republican_dictatorship

	modifiers = {
		ae_impact = -0.1
		fabricate_claims_cost = -0.25
		core_creation = -0.2
		republican_tradition = -0.75
		max_absolutism = 30
	}

	custom_attributes = {
		locked_government_type = yes
		election_on_death = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	has_term_election = no
}

bulwar_twelve_families_reform = {
	icon = "bulwar_twelve_families"
	allow_normal_conversion = no
	duration = 12
	legacy_equivalent = oligarchic_republic
	lock_level_when_selected = yes
	valid_for_new_country = no
	nation_designer_cost = 0
	royal_marriage = yes
	potential = {
		has_reform = bulwar_twelve_families_reform
	}
	modifiers = {
		diplomatic_upkeep = 1
		republican_tradition = -0.5
		max_absolutism = 10
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		anb_special_elections = yes
	}
	ai = {
		factor = 0.5 #generic
	}
}

concord_administration_reform = {
	icon = "neutral_ground"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	duration = 4
	legacy_equivalent = constitutional_republic
	valid_for_nation_designer = no
	potential = {
		OR = {
			has_reform = concord_administration_reform
			have_had_reform = concord_administration_reform
		}
	}
	modifiers = {
		diplomats = 1
		national_focus_years = -10
		governing_capacity_modifier = -0.25
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		lower_gov_cost_in_home_region = yes
	}
	effect = {
		hidden_effect = {
			capital_scope = {
				region = {
					limit = { owned_by = ROOT }
					add_province_modifier = {
						name = lower_gov_cost_in_home_region_modifier
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_modifier = lower_gov_cost_in_home_region_modifier }
				remove_province_modifier = lower_gov_cost_in_home_region_modifier
			}
		}
	}
	ai = {
		factor = 0.5 #generic
	}
}

namasomitingo_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	duration = 8
	legacy_equivalent = oligarchic_republic
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	potential = {		
		OR = {
			primary_culture = tanizu
			has_reform = namasomitingo_reform
		}
		NOT = {
			has_reform = seventeen_families_reform
		}
	}
	nation_designer_trigger = {
		culture_group = inyaswarosa
	}

	modifiers = {
		female_advisor_chance = 0.25
		may_recruit_female_generals = yes
		vassal_forcelimit_bonus = 0.25
		diplomatic_upkeep = 2
		
		max_absolutism = -20
	}
	custom_attributes = {
		enables_divine_idea_group = yes
		enables_plutocratic_idea_group = no
		tanizu_elections = yes
	}
	ai = {
		factor = 0.5 #generic
	}
}

seventeen_families_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -10
		burghers_influence_modifier = 0.1
		global_trade_goods_size_modifier = 0.1
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = seventeen_families_reform
			primary_culture = antmvura
		}
	}
	trigger = {
		OR = {
			has_reform = seventeen_families_reform
			primary_culture = antmvura
		}
	}
	boost_income = yes
	duration = 4
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
	}
	ai = { factor = 1 }
}

adeen_republic_reform = {
	icon = "noble_indian"
	allow_normal_conversion = no
	potential = {
		NOT = { has_reform = crown_colony_government }
		NOT = { has_reform = private_enterprise_colony_government }
		NOT = { has_reform = self_governing_colony_government }
		
		OR = {
			has_reform = adeen_republic_reform
			have_had_reform = adeen_republic_reform
		}
	}
	legacy_equivalent = mamluk_government_legacy

	valid_for_nation_designer = yes
	nation_designer_cost = 30

	modifiers = {
		army_tradition_decay = -0.01
		navy_tradition_decay = -0.01
	}
	custom_attributes = {
		generals_become_rulers = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	#conditional = {
	#	allow = { has_dlc = "Cradle of Civilization" }
	#	government_abilities = {
	#		mamluk_mechanic
	#	}
	#	foreign_slave_rulers = yes
	#}
	has_term_election = no
}

plumstead_technocracy_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes	#changed this from no
	potential = {
		OR = {
			has_reform = plumstead_technocracy_reform
			have_had_reform = plumstead_technocracy_reform
		}
	}
	trigger = {
		OR = {
			has_reform = plumstead_technocracy_reform
			have_had_reform = plumstead_technocracy_reform
		}
	}
	duration = 8
	valid_for_nation_designer = no
	
	modifiers = {
		religious_unity = 0.2
		max_absolutism = -40
		artificers_influence_modifier = 0.1
	}
	
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_technocracy = yes
	}
	
	effect = {
		add_country_modifier = {
			name = technocracy_rajput_bonus
			duration = -1
		}
	}
	
	removed_effect = {
		remove_country_modifier = technocracy_rajput_bonus
	}
}

kengashkosh_reform = {
	icon = "horde_riding"
	legacy_equivalent = cossacks_legacy_reform
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			AND = {
			 	tag = J53
			 	NOT = { map_setup = map_setup_random }
				ai = yes
			}
			has_reform = kengashkosh_reform
			have_had_reform = kengashkosh_reform
		}
	}
	
	government_abilities = {
		cossacks_mechanic
	}

	conditional = {
		allow = { has_dlc = "Origins" }
		custom_attributes = {
			has_itinerant_capital = yes
		}
	}
	valid_for_new_country = yes

	nation_designer_trigger = {
		any_owned_province = {
			has_terrain = steppe
		}
	}

	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 50

	modifiers = {
		cavalry_power = 0.2
		cavalry_cost = -0.1
		cav_to_inf_ratio = 0.25
		allowed_cossack_fraction = 0.10
		move_capital_cost_modifier = -0.75
	}

	custom_attributes = {
		enables_horde_idea_group = yes
		disables_estate_nobles = yes
		locked_government_type = yes
	}

	duration = 4
}


koroshesh_league_reform = {
	icon = "politician"
	allow_normal_conversion = no
	potential = {
		OR = {
			has_reform = koroshesh_league_reform
			have_had_reform = koroshesh_league_reform
		}
	}
	trigger = {
		if = {
			limit = { has_country_modifier = koroshesh_league_bankruptcy }
			hidden_trigger = { has_country_modifier = koroshesh_league_bankruptcy }
		}
		else = { is_emperor_of_china = yes }
	}
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	boost_income = yes
	has_term_election = yes
	duration = 4

	modifiers = {
		inflation_reduction = 0.1
		mercantilism_cost = -0.2
		max_absolutism = -10
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		locked_government_type = yes
		has_meritocracy = yes
	}
}

#Republican Virtues

republican_authoritarianism_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		
		#Anbennar
		NOT = {
			has_reform = northern_league_magnates
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		global_unrest = -1
		max_absolutism = 5
	}
	ai = {
		factor = 1
	}
}

nepotism_reform = {
	icon = "man_and_children"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
			
			has_reform = presidential_despot_reform
			has_reform = military_dictatorship_reform
			has_reform = admiralty_reform
			has_reform = military_rulership_reform
			has_reform = signoria_reform

			#Anbennar
			has_government_attribute = anb_special_elections
			has_reform = northern_league_magnates
			has_reform = eternal_council
			has_reform = stratocracy_reform
			has_reform = free_slave_reform
			has_reform = golden_republic_reform
			has_reform = feiten_reformist_movement
			has_reform = jiangdu_war_empire_reform
			has_reform = jiangdu_leadership_reform
			culture_group = dwarven
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		NOT = { 
			OR = {
				# has_reform = venice_merchants_reform 
				has_reform = eordand_moon_republic_reform
				has_government_attribute = has_dutch_election
				has_reform = presidential_despot_reform
				has_reform = military_dictatorship_reform
				has_reform = admiralty_reform
				has_reform = military_rulership_reform
				# has_reform = prussian_republic
				# has_reform = prussian_republic_reform
				has_reform = pentapandemonium_reform
			}
		}
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		candidate_random_bonus = 1
	}

	custom_attributes = {
		enables_nepotism = yes
	}
	ai = {
		factor = 1
	}
}

republicanism_reform = {
	icon = "assembly_hall"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
			
			#Anbennar
			has_reform = northern_league_magnates
			has_reform = krak_clan_council
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		republican_tradition = 0.2
	}
	ai = {
		factor = 1.5
	}
}

democratic_values_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		NOT = { has_reform = northern_league_magnates } # Anbennar
	}
	trigger = {
		if = {
			limit = { tag = I02 }
			NOT = { has_reform = krak_clan_council }
		}
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		global_trade_goods_size_modifier = 0.05
		#maratha_muslim_influence_modifier = 0.1
		#rajput_muslim_influence_modifier = 0.1
		burghers_influence_modifier = 0.1
		burghers_loyalty_modifier = 0.05

		#Anbennar
		gerunanin_influence_modifier = 0.1
		gerunanin_loyalty_modifier = 0.05
		castonath_patricians_influence_modifier = 0.1
		castonath_patricians_loyalty_modifier = 0.05
		#vaisyas_non_muslim_influence_modifier = 0.1
		middlecastes_influence_modifier = 0.1
		middlecastes_loyalty_modifier = 0.05
		
		may_recruit_female_generals = yes
		female_advisor_chance = 0.25
	}
	ai = {
		factor = 1
	}
}

aristocratic_values_reform = {
	icon = "politeia"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		NOT = { has_reform = northern_league_magnates } # Anbennar
	}
	trigger = {
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		global_manpower_modifier = 0.1
		nobles_influence_modifier = 0.1
		#maratha_exclusive_influence_modifier = 0.1
		#rajput_exclusive_influence_modifier = 0.1
		nobles_loyalty_modifier = 0.05
		#maratha_exclusive_loyalty_modifier = 0.05
		#rajput_exclusive_loyalty_modifier = 0.05

		#Anbennar
		lowercastes_influence_modifier = 0.1
		lowercastes_loyalty_modifier = 0.05
	}
	ai = {
		factor = 1
	}
}

religious_values_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		#Anbennar
		NOT = { 
			has_reform = northern_league_magnates 
			culture_group = dwarven
			culture_group = goblin
		}
	}
	trigger = {
		if = { #Anbennar, so Besolaki doesn't lose their factions from getting a gov reform before getting their special reform
			limit = { tag = G54 } #Besolaki
			OR = {
				has_reform = besolaki_chaotic_republicanism
				have_had_reform = besolaki_chaotic_republicanism
			}
		}
	}
	modifiers = {
		missionaries = 1
		
		#brahmins_hindu_influence_modifier = 0.1
		#brahmins_hindu_loyalty_modifier = 0.05

		church_influence_modifier = 0.1
		church_loyalty_modifier = 0.05

		#Anbennar
		uppercastes_influence_modifier = 0.1
		uppercastes_loyalty_modifier = 0.05
	}
	ai = {
		factor = 1
	}
}

council_of_captains_reform = {
	icon = "council_of_captains"
	allow_normal_conversion = yes
	legacy_equivalent = oligarchic_republic
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_captains_influence = 0.1
		privateer_efficiency = 0.33
	}
	ai = {
		factor = 2.5
	}
}

articles_of_agreement_reform = {
	icon = "articles_of_agreement"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		republican_tradition = 0.5
		global_sailors_modifier = 0.1
	}
	ai = {
		factor = 2.5
	}
}

smugglers_haven_reform = {
	icon = "smugglers_haven"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		global_foreign_trade_power = 0.3
	}
	ai = {
		factor = 2.5
	}
}

the_pirate_ways_reform = {
	icon = "sailors"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		privateer_efficiency = 0.25
		land_morale = 0.1
		naval_morale = 0.1
		naval_maintenance_modifier = -0.10
		republican_tradition = 1
	}
	effect = {
		custom_tooltip = break_every_non_pirate_alliance_tt
		custom_tooltip = blocks_other_reforms_for_this_level_for_10_years_tt
		hidden_effect = {
			every_ally = {
				limit = {
					NOT = { has_government_attribute = is_pirate_republic_reform }
				}
				ROOT = { break_alliance = PREV }
			}
			clr_country_flag = has_the_pirate_ways_reform
			set_country_flag = has_the_pirate_ways_reform
		}
	}
	custom_attributes = {
		cannot_ally_non_pirates = yes
	}
	ai = {
		factor = 1
	}
}

liberte_reform = {
	icon = "liberte_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		rr_girondists_influence = 0.1
		num_accepted_cultures = 2
		promote_culture_cost = -0.75
	}
	ai = {
		factor = 2.5
	}
}

egalite_reform = {
	icon = "egalite_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		rr_jacobins_influence = 0.1
		republican_tradition = 0.25
		legitimacy = 1
		advisor_pool = 1
	}
	ai = {
		factor = 2.5
	}
}

fraternite_reform = {
	icon = "fraternite_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		rr_royalists_influence = 0.1
		culture_conversion_cost = -0.2
		harsh_treatment_cost = -0.25
		reform_progress_growth = 0.1
	}
	ai = {
		factor = 2.5
	}
}

#Anbennar
military_council_reform = {
	icon = "feudal_theocracy"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = military_council_reform
	}
	modifiers = {
		leader_naval_manuever = 2
		leader_land_manuever = 2
		leader_land_fire = 1
		general_cost = 0.5
	}
	ai = {
		factor = 1.5
	}
}

traveling_convocationairies = {
	icon = "clergyman"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = traveling_convocationairies
	}
	modifiers = {
		yearly_corruption = -0.1
		stability_cost_modifier = -0.25
	}
	ai = {
		factor = 1.5
	}
}

maiden_republic = {
	icon = "clergyman"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = maiden_republic
	}
	modifiers = {
		mages_loyalty_modifier = 0.1
		mages_influence_modifier = 0.1
	}
	ai = {
		factor = 1.5
	}
}

educated_republic_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = educated_republic_reform
			have_had_reform = educated_republic_reform
		}
	}
	modifiers = {
		idea_cost = -0.1
		embracement_cost = -0.1
		max_absolutism = -20
	}
	custom_attributes = {
		has_parliament = yes
		blocked_call_diet = yes
	}
	ai = {
		factor = 2
	}
}

aelantiri_corporate_state_reform = {
	icon = "paper_with_seal"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		OR = {
			has_reform = aelantiri_corporate_state_reform
			have_had_reform = aelantiri_corporate_state_reform
		}
	}
	modifiers = {
		global_own_trade_power = 0.1
		production_efficiency = 0.1
		has_voc_indiamen = yes
 		allowed_voc_indiamen_fraction = 0.25
	}
	nation_designer_cost = 60
	valid_for_nation_designer = yes
	boost_income = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	custom_attributes = {
		elections_increase_factions_influence = yes
		locked_government_type = yes
		is_merchant_republic = yes
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}

}

aelantir_branch_reform = {
	icon = "aelantir_branch"
	allow_normal_conversion = yes
	potential = {
		OR = { 
		tag = G97
		tag = G98
		}
		is_revolutionary = no
	}
	trigger = {
		OR = {
		tag = G97
		tag = G98
		}
	}
	modifiers = {
		candidate_random_bonus = 1
		max_absolutism = 10
	}
	custom_attributes = {
		metropolis_election = yes
	}
	ai = {
		factor = 1
	}
}

lake_bastion_of_democracy = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "parliament"
	potential = {
		has_reform = lake_bastion_of_democracy
	}
	trigger = {
		tag = J33
	}
	modifiers = {
		harmonization_speed = 0.5
		diplomats = 1
		envoy_travel_time = -0.25
		administrative_efficiency = 0.05
		monthly_favor_modifier = 0.5
	}
	#custom_attributes = {
	#	bastion_of_democracy = yes
	#}
	government_abilities = {
		kalsyto_influence_mechanic
	}
	ai = {
		factor = 1
	}
}

#Frequency of Elections / Consolidation of Power

frequent_elections_reform = {
	icon = "ballot_box"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		#Anbennar
		NOT = {
			has_reform = eternal_council
			has_country_flag = mykx_disable_t3
			culture_group = dwarven
		}
	}
	trigger = {
		OR = {
			custom_trigger_tooltip = {
				tooltip = "NEEDS_REGULAR_ELECTIONS"
				has_government_attribute = has_term_election
			}
			has_reform = lottery_reform
			has_reform = golden_republic_reform
		}
	}
	modifiers = {
		max_absolutism = -10
		election_cycle = -1
	}
	ai = {
		factor = 1
	}
}

consolidation_of_power_reform = {
	icon = "constitution"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		#Anbennar
		NOT = {
			has_reform = eternal_council
			has_country_flag = mykx_disable_t3
			culture_group = dwarven
		}
	}
	modifiers = {
		max_absolutism = 10
		election_cycle = 1
		max_terms = 1
	}
	effect = {
	}
	custom_attributes = {
		reelection_depowers_estates = yes
	}
}

lottery_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		is_colonial_nation = no
		NOT = {
			OR = { 
				has_government_attribute = is_pirate_republic_reform
				#anbennar
				culture_group = goblin
				has_government_attribute = anb_special_elections
				has_reform = obsidian_council_reform
				has_reform = malacnar_republic_reform
				has_reform = golden_republic_reform
				has_country_flag = mykx_disable_t3
				has_reform = anisikheioni_naval_stratocracy
				has_reform = eternal_council
				has_reform = ameion_conquerers_reform
				has_reform = kai_township
				has_reform = kai_republic
			}
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		NOT = { 
			OR = {
				# has_reform = venice_merchants_reform 
				# has_government_attribute = has_dutch_election
				has_reform = presidential_despot_reform
				has_reform = military_dictatorship_reform
				has_reform = admiralty_reform
				has_reform = military_rulership_reform
				# has_reform = prussian_republic
				# has_reform = prussian_republic_reform

				#Anbennar
				has_reform = free_slave_reform
				has_reform = lake_republic
				has_reform = united_federation
				has_reform = ar_callein_reform
				has_reform = stratocracy_reform
				has_reform = jiangdu_war_empire_reform
				has_reform = sunrise_court_reform
				has_reform = jiangdu_leadership_reform
				has_reform = feiten_reformist_movement
				has_reform = elected_clanspeakers_reform
				has_reform = pentapandemonium_reform
				has_reform = eordand_moon_republic_reform
			}
		}
	}
	modifiers = {
		monarch_lifespan = 0.25
	}
	custom_attributes = {
		lottery_election = yes
		election_on_death = yes
		bonus_stats_for_elected_ruler = yes
	}
	has_term_election = no
	ai = {
		factor = 1
	}
}

force_reelection_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		
		#anbennar
		NOT = {
			has_government_attribute = anb_special_elections
		}
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
		#Anbennar
		NOT = { is_lesser_in_union = yes }
	}

	modifiers = {
		max_absolutism = -10
		yearly_corruption = -0.1
	}
	custom_attributes = {
		can_force_election = yes
	}
}

devotee_to_the_people_reform = {
	icon = "revolutionary_republic"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		OR = {
			# has_reform = venice_merchants_reform 
			# has_government_attribute = has_dutch_election
			has_reform = eordand_moon_republic_reform
			has_reform = presidential_despot_reform
			has_reform = military_dictatorship_reform
			has_reform = admiralty_reform
			has_reform = military_rulership_reform
			# has_reform = prussian_republic
			# has_reform = prussian_republic_reform
		}
	}
	trigger = {
		OR = {
			# has_reform = venice_merchants_reform 
			# has_government_attribute = has_dutch_election
			has_reform = eordand_moon_republic_reform
			has_reform = presidential_despot_reform
			has_reform = military_dictatorship_reform
			has_reform = admiralty_reform
			has_reform = military_rulership_reform
			# has_reform = prussian_republic
			# has_reform = prussian_republic_reform
		}
	}
	modifiers = {
		max_absolutism = -10
		years_of_nationalism = -5
		republican_tradition = 0.1
	}
}

consolidate_power_in_doge_reform = {
	icon = "consolidate_power_in_doge_reform"
	allow_normal_conversion = yes
	potential = {
		OR = {
			# has_reform = venice_merchants_reform
			has_reform = eordand_moon_republic_reform
			has_reform = merchants_reform
			has_reform = veche_republic
			# has_reform = great_veche_republic
		}
	}
	trigger = {
		OR = {
			# has_reform = venice_merchants_reform
			has_reform = eordand_moon_republic_reform
			has_reform = merchants_reform
			has_reform = veche_republic
			# has_reform = great_veche_republic
		}
	}
	modifiers = {
		governing_capacity = 250
	}
	has_term_election = no
	ai = {
		factor = 10
		modifier = {
			factor = 0
			NOT = {
				num_of_cities = 25
			}
		}
	}
}

consolidate_power_in_cities_reform = {
	icon = "consolidate_power_in_cities_reform"
	allow_normal_conversion = yes
	potential = {
		OR = {
			# has_reform = venice_merchants_reform
			has_reform = merchants_reform
			has_reform = veche_republic
			has_reform = eordand_moon_republic_reform
			# has_reform = great_veche_republic
		}
	}
	trigger = {
		OR = {
			# has_reform = venice_merchants_reform
			has_reform = merchants_reform
			has_reform = eordand_moon_republic_reform
			has_reform = veche_republic
			# has_reform = great_veche_republic
		}
	}
	modifiers = {
		diplomatic_upkeep = 1
		global_foreign_trade_power = 0.1
	}
	has_term_election = yes
	is_eligible_for_hre_emperor = no
	duration = 4
	ai = {
		factor = 10
		modifier = {
			factor = 0
			num_of_cities = 25
		}
	}
}

legislative_assembly_reform = {
	icon = "legislative_assembly_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		yearly_revolutionary_zeal = 1.5
	}
	custom_attributes = {
		can_force_election = yes
	}
	ai = {
		factor = 10
	}
}

national_constituent_reform = {
	icon = "national_constituent_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		improve_relation_modifier = 0.15
		diplomatic_upkeep = 1
		reelection_cost = -0.15
	}
	ai = {
		factor = 10
	}
}

national_assembly_reform = {
	icon = "national_assembly"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		candidate_random_bonus = 2
	}
	custom_attributes = {
		elections_increase_factions_influence = yes
	}
	ai = {
		factor = 2
	}
}


finger_on_the_scale = {
	icon = "black_market_consortium"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		tag = A73
		NOT = { has_reform = revolutionary_republic_reform }
	}
	trigger = {
		mission_completed = A73_delegate
	}
	modifiers = {
		reelection_cost = -0.2
		max_absolutism = 20
		yearly_corruption = 0.2
	}
}

younger_courts_reform = {
	icon = "generic_people"
	allow_normal_conversion = yes
	potential = {
		has_reform = eternal_council
	}
	modifiers = {
		global_unrest = -2
		global_institution_spread = 0.15
		election_cycle = -20
		max_absolutism = -15
	}
	ai = {
		factor = 1
	}
}

wisdom_comes_with_age_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	potential = {
		has_reform = eternal_council
	}
	modifiers = {
		state_maintenance_modifier = -0.1
		stability_cost_modifier = -0.1
		election_cycle = 10
	}
}

mortal_court_reform = {
	icon = "samurai"
	allow_normal_conversion = yes
	potential = {
		has_reform = eternal_council
	}
	modifiers = {
		global_trade_power = 0.1
		trade_efficiency = 0.1
		election_cycle = -10
		max_absolutism = -10
	}
	effect = {
		custom_tooltip = mortal_court_founded
	}
}

feiten_silken_jellyfish_council = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "black_market_consortium"
	potential = {
		has_reform = feiten_silken_jellyfish_council
	}
	valid_for_nation_designer = no
	valid_for_new_country = no
	modifiers = {
		global_ship_trade_power = 0.2
		trade_efficiency = 0.1
		administrative_efficiency = -0.05
		stability_cost_modifier = 0.33
		merchants = 1
		placed_merchant_power = 5
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		trade_city_reform = trading_city
		can_form_trade_league = yes
	}
	boost_income = yes
	custom_attributes = {
		is_merchant_republic = yes
	}
}

mykx_xhazobkult_reform = {
	icon = "constitution"
	allow_normal_conversion = yes
	potential = {
		has_country_flag = mykx_disable_t3_2
	}
	factions = {
		pr_buccaneers
		pr_smugglers
		pr_captains
		mykx_xhazobkult
	}
	modifiers = {
		religious_unity = 0.25
		republican_tradition = 0.5
	}
}

dwarovar_new_minds = {
	icon = "ballot_box"
	potential = { culture_group = dwarven }
	trigger = {
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
		if = {
			limit = { tag = I02 }
			NOT = { has_reform = krak_clan_council }
		}
	}
	
	modifiers = {
		election_cycle = -4
		stability_cost_modifier = -0.15
	}

	custom_attributes = { dwarovar_new_minds_effect = yes }

	ai = { factor = 1 }
}

dwarovar_elder_wisdom = {
	icon = "constitution"
	potential = { culture_group = dwarven }
	
	modifiers = {
		election_cycle = 4
		candidate_random_bonus = 1
	}

	custom_attributes = { reelection_depowers_estates = yes }

	ai = { factor = 1 }
}

#Religion within Republic
establish_religious_institution_for_pirates_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		OR = {
			NOT = { has_estate = estate_church }
			crown_stronger_than_estate = { estate = estate_church }
			has_reform = establish_religious_institution_for_pirates_reform
		}
	}
	modifiers = {
		tolerance_own = 2
		max_absolutism = -15
	}
	custom_attributes = {
		enables_estate_church = yes
	}
	effect = {
		change_estate_land_share = {
			estate = estate_church
			share = 20
		}
	}
	ai = {
		factor = 2.5
	}
}

crew_before_faith_reform = {
	icon = "pirate_crew"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_church
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_church
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		war_exhaustion = -0.1
	}
	ai = {
		factor = 2.5
	}
}

respect_for_the_sea_reform = {
	icon = "great_sea"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_church
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_church
			}
		}
	}
	modifiers = {
		global_unrest = -1
		navy_tradition = 0.5
		pr_captains_influence = 0.1
	}
	ai = {
		factor = 2.5
	}
}

relgious_freedom_reform = {
	icon = "partial_secularisation_reform"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_church
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_church
			}
		}
	}
	modifiers = {
		development_cost = -0.05
		tolerance_heathen = 1
		tolerance_heretic = 1
		pr_smugglers_influence = 0.1
	}
	ai = {
		factor = 2.5
	}
}

#Anbennar

clerical_mayors_act_reform = {
	icon = "partial_secularisation_reform"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = clerical_mayors_act_reform
			have_had_reform = clerical_mayors_act_reform
		}
	}
	modifiers = {
		curia_powers_cost = -0.2
		missionary_maintenance_cost = -0.15
		church_influence_modifier = 0.15
	}
	custom_attributes = {
		ravelian_election = yes
	}
	ai = {
		factor = 5
	}
}

#Federalism vs Unitarianism vs Confederacy

provincial_governments_reform = {
	icon = "landscape"
	allow_normal_conversion = yes
	
	potential = {
		NOT = { has_reform = golden_republic_reform }
		NOT = { culture_group = goblin }
		NOT = { culture_group = gnomish }
	}
	
	modifiers = {
		state_maintenance_modifier = -0.25
		global_prosperity_growth = 0.5
	}
	ai = {
		factor = 1
	}
}

administrative_divisions_reform = {
	icon = "map"
	allow_normal_conversion = yes
	
	potential = {
		NOT = { has_reform = golden_republic_reform }
	}
	
	modifiers = {
		governing_capacity = 250
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.5
			NOT = {
				any_owned_province = {
					is_territorial_core = root
				}
			}
		}
		modifier = {
			factor = 2.5
			num_of_owned_provinces_with = {
				value = 10
				is_territorial_core = root
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				has_reform = merchants_reform
				has_reform = eordand_moon_republic_reform
				# has_reform = venice_merchants_reform
			}
		}
	}
}

union_of_states_reform = {
	icon = "constitution"
	allow_normal_conversion = yes
	
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		NOT = { has_reform = golden_republic_reform }
		NOT = { culture_group = gnomish }
		NOT = { has_unlocked_government_reform = { government_reform = F23_trading_post_oversight } }
	}
	
	modifiers = {
		global_trade_power = 0.1
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		can_use_trade_post = yes
	}
	trigger = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		hidden_trigger = { NOT = { has_unlocked_government_reform = { government_reform = F23_trading_post_oversight } } }
	}
	boost_income = yes
	ai = {
		factor = 1
		modifier = {
			factor = 1.5
			trade_income_percentage = 0.35
		}
		modifier = {
			factor = 2
			OR = {
				has_reform = merchants_reform
				has_reform = eordand_moon_republic_reform
				# has_reform = venice_merchants_reform
			}
		}
		modifier = {
			factor = 0
			NOT = { num_of_cities = 2 }
			is_part_of_hre = yes
		}
	}
}

cultural_administration_reform = {
	icon = "conciliarism_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = { culture_group = gnomish }
	}
	modifiers = {
		num_accepted_cultures = 2
		promote_culture_cost = -0.5
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0.25
			NOT = {
				any_owned_province = {
					has_owner_accepted_culture = no
					has_owner_culture = no
				}
			}
		}
	}
}

#Anbennar
beikdugang_regional_reform = {
	icon = "paper_money_map"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	modifiers = {
		free_policy = 1
		expand_administration_cost = 2
	}
	potential = {
		OR = {
			has_reform = beikdugang_regional_reform
			have_had_reform = beikdugang_regional_reform
		}
	}
	ai = {
		factor = 5
	}
}

balkhangfa_administration_reform = {
	icon = "clergyman"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = golden_republic_reform
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = Y85_balkhangfa_admin_tt
			has_reform = balkhangfa_administration_reform
		}
	}
	modifiers = {
		state_governing_cost = 0.1
		administrative_efficiency = 0.05
		governing_capacity = 200
		governing_capacity_modifier = 0.15
	}
	ai = {
		factor = 1.5
	}
}

honsai_the_commonwealth_rep = {
	icon = "strength_of_the_khalsa"
	allow_convert = no
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = honsai_the_commonwealth_rep
	}
	valid_for_nation_designer = no
	modifiers = {
		liberty_desire_from_subject_development = -0.4		
	}
	ai = {
		factor = 5
	}
}

autonomous_epednar_tribes_reform = {
	icon = "horde_riding"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = autonomous_epednar_tribes_reform
			have_had_reform = autonomous_epednar_tribes_reform
		}
	}
	valid_for_nation_designer = no
	modifiers = {
		cavalry_cost = -0.15
		global_autonomy = 0.05
	}
	custom_attributes = {
		enables_estate_nomadic_tribes = yes
		disabled_expelling_ruinborn = yes
		disabled_purging_ruinborn = yes
		epednar_election = yes
	}
	ai = {
		factor = 5
	}
}

#Parliamentary vs Presidential

# parliamentary_reform defined in common file

presidential_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_reform = golden_republic_reform
			has_reform = bulwar_twelve_families_reform
		}
	}
	modifiers = {
		embracement_cost = -0.1
		max_absolutism = 5
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

estate_council_reform = {
	icon = "council"
	allow_normal_conversion = yes
	modifiers = {
		all_estate_loyalty_equilibrium = 0.1
		max_absolutism = -25
	}
	potential = {
		is_revolutionary = no
		NOT = { has_government_attribute = is_pirate_republic_reform }
		
		#anbennar
		NOT = {
			has_reform = bulwar_twelve_families_reform
			has_reform = krak_clan_council
			has_reform = krak_free_council
		}
	}
	trigger = {
		has_any_estates = yes
		is_emperor_of_china = no #Anbennar
	}
	custom_attributes = {
		diet_increases_not_influence = yes
		elections_influence_estates = yes
		republican_tradition_from_diets = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

attorney_general_reform = {
	icon = "three_classes_reform"
	allow_normal_conversion = yes
	potential = { 
		NOT = {
			culture_group = goblin
		}
	}
	trigger = {
		is_emperor_of_china = no #Anbennar
	}
	modifiers = {
		same_culture_advisor_cost = -0.15
	}
	custom_attributes = {
		#seizing_land_no_rebels = yes
		republican_tradition_from_advisors = yes
		can_not_seize_land = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

imperial_diplomacy_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		has_reform = free_city
	}
	modifiers = {
		diplomatic_reputation = 2
		diplomatic_upkeep = 1
	}
	effect = {
		emperor = {
			add_opinion = {
				who = root
				modifier = opinion_imperial_diplomacy
			}
		}
	}
	removed_effect = {
		emperor = {
			remove_opinion = {
				who = root
				modifier = opinion_imperial_diplomacy
			}
		}
	}
	ai = {
		factor = 1.5
	}
}

municipal_self_defense_reform = {
	icon = "soldiers_7"
	allow_normal_conversion = yes
	potential = {
		has_reform = free_city
	}
	modifiers = {
		land_forcelimit_modifier = 0.25
		global_manpower = 5
	}
	ai = {
		factor = 1.5
	}
}

feuillant_reform = {
	icon = "feuillant_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
		NOT = { ruler_can_revive = yes } # Anbennar
	}
	modifiers = {
		stability_cost_modifier = -0.1
		republican_tradition = -0.1
	}

	ai = {
		factor = 0
	}

	conditional = {
		allow = { has_dlc = "Res Publica" }
		duration = 4
		has_term_election = yes
		is_eligible_for_hre_emperor = no
		states_general_mechanic = {
			revolutionaries = {
				land_morale = 0.1
				republican_tradition = 0.1
				yearly_revolutionary_zeal = 0.25
			}

			monarchists = {
				diplomatic_reputation = 1
				manpower_recovery_speed = 0.1
				global_unrest = -1
			}
		}
	}
}

two_chamber_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		free_policy = 1
		republican_tradition = 0.15
	}
	
	ai = {
		factor = 1
	}
}

azkare_extended_terms_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes

	potential = {
		OR = {
			tag = Y86
			tag = Y00
		}
	}
	valid_for_nation_designer = no
	modifiers = {
		min_autonomy = 5
		governing_capacity_modifier = 0.15
	}
}

deep_state_government_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = golden_republic_reform
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = Y85_balkhangfa_admin_tt
			has_reform = deep_state_government_reform
		}
	}
	modifiers = {
		global_tax_income = -24
		global_unrest = -2
		global_spy_defence = 0.1
		all_estate_loyalty_equilibrium = 0.05
	}
	ai = {
		factor = 1.5
	}
}

trollsbayer_pluralism_reform = {
	icon = "dutch_republic"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	republican_name = no	#to enable last names with the special elections
	potential = {
		OR = {
			has_reform = trollsbayer_pluralism_reform
			have_had_reform = trollsbayer_pluralism_reform
		}
	}
	modifiers = {
		no_religion_penalty = yes
		stability_cost_modifier = -0.1
	}
	effect = {
		custom_tooltip = break_every_non_republic_alliance_tt
		hidden_effect = {
			every_known_country = {
				limit = {
					alliance_with = ROOT
					NOT = { government = republic }
				}
				ROOT = { break_alliance = PREV }
			}
		}
	}
	custom_attributes = {
		has_parliament = yes
		cannot_ally_non_republics = yes
		anb_special_elections = yes
		cannot_become_dictatorship = yes
		disabled_expelling_halfling = yes
		disabled_purging_halfling = yes
		blocked_call_diet = yes
	}
}

circle_of_hands_reform = {
	icon = "peasants"
	allow_normal_conversion = yes
	lock_level_when_selected = yes 

	potential = {
		OR = {
			has_reform = circle_of_hands_reform
			have_had_reform = circle_of_hands_reform
		}
	}

	modifiers = {
		manpower_in_accepted_culture_provinces = 0.15
		country_diplomatic_power = 1
	}

	custom_attributes = {
		has_parliament = yes
		blocked_call_diet = yes
		disabled_expelling = yes
		disabled_purging = yes
	}

}

#Consolidation of Power

broaden_executive_powers_reform = {
	icon = "castle"
	allow_normal_conversion = yes
	potential = {
		#Anbennar
		NOT = { culture_group = dwarven }
	}
	modifiers = {
		stability_cost_modifier = -0.15
		all_power_cost = -0.02
	}
	ai = {
		factor = 1
	}
}

devolution_of_powers_reform = {
	icon = "generic_people"
	allow_normal_conversion = yes
	modifiers = {
		advisor_pool = 2
		global_autonomy = -0.05
	}
	ai = {
		factor = 1.5
	}
}

power_to_the_raiders_reform = {
	icon = "sea_raiders"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		allowed_marine_fraction = 0.25
		global_sailors_modifier = 0.25
	}
	ai = {
		factor = 2.5
	}
}

power_to_the_captains_reform = {
	icon = "pirate_queen"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_captains_influence = 0.1
		heavy_ship_power = 0.1
		movement_speed_in_fleet_modifier = 1
	}
	ai = {
		factor = 2.5
	}
}

power_to_the_smugglers_reform = {
	icon = "blackmailing"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		merchants = 1
		ship_power_propagation = 0.25
	}
	ai = {
		factor = 2.5
	}
}

consolidate_power_to_the_ruler_reform = {
	icon = "nobleman"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		
		#Anbennar
		NOT = {
			has_reform = bulwar_twelve_families_reform
		}
	}
	modifiers = {
		yearly_absolutism = 2
		max_absolutism = 25
		reelection_cost = -0.1
	}
	custom_attributes = {
		absolutism_reduction_on_ruler_death = yes
		reelection_increases_absolutism = yes
	}
	effect = {
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
	ai = {
		factor = 0
	}
}

consolidate_power_into_different_candidates_reform = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		NOT = { has_reform = pentapandemonium_reform  }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
	}
	modifiers = {
		max_absolutism = -20
		election_cycle = -1
		candidate_random_bonus = 1
	}
	ai = {
		factor = 0
	}
}

pirate_king_reform = {
	icon = "pirate_king"
	allow_normal_conversion = yes
	legacy_equivalent = pirate_kingdom
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_captains_influence = 0.1
		harsh_treatment_cost = -0.2
		leader_naval_fire = 1
	}
	custom_attributes = {
		admirals_become_rulers = yes
	}
	has_term_election = no
	ai = {
		factor = 2.5
	}
}

war_against_the_world_doctrine_reform = {
	icon = "war_against_the_world"
	allow_normal_conversion = yes
	legacy_equivalent = war_against_the_world_government
	disallowed_trade_goods = { slaves }
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		NOT = { culture_group = gnollish }
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		years_of_nationalism = -5
		global_ship_recruit_speed = -0.15
	}
	custom_attributes = {
		gives_war_against_the_world_tooltip_dummy = yes
	}
	ai = {
		factor = 2.5
	}
}

black_market_consortium_reform = {
	icon = "black_market_consortium"
	allow_normal_conversion = yes
	legacy_equivalent = black_market_consortium_government
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_smugglers_influence = 0.1
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		can_use_trade_post = yes
	}
	boost_income = yes
	ai = {
		factor = 2.5
	}
}

absolute_president_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		all_power_cost = -0.05
		election_cycle = 1
	}
	ai = {
		factor = 2
	}
}

revolutionary_council_reform = {
	icon = "revolutionary_council_reform"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Emperor"
		is_revolutionary = yes
	}
	modifiers = {
		max_revolutionary_zeal = 10
		election_cycle = -1
	}
	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
	}
	ai = {
		factor = 2
	}
}

#Anbennar
leading_by_example_reform = {
	icon = "emperor_of_the_revolution_reform"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = leading_by_example_reform
	}
	modifiers = {
		land_morale = 0.05
		free_leader_pool = 1
	}
	
	custom_attributes = {
		ruler_become_general = yes
	}
	ai = {
		factor = 1.5
	}
}

dwarovar_cartel_backing = {
	icon = "paper_money_map"
	potential = { 
		culture_group = dwarven 
		NOT = { has_unlocked_government_reform = { government_reform = F23_uthojdihr_backing } }
	}

	trigger = {
		hidden_trigger = { NOT = { has_unlocked_government_reform = { government_reform = F23_uthojdihr_backing } } }
	}
	
	modifiers = {
		global_trade_power = 0.1
		burghers_loyalty_modifier = 0.05
		burghers_influence_modifier = 0.05
	}
	custom_attributes = { dwarovar_cartel_backing_effect = yes }

	ai = { factor = 1 }
}


#Economical Matters
empowered_quartermasters_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		OR = {
			NOT = { has_estate = estate_burghers }
			crown_stronger_than_estate = { estate = estate_burghers }
			has_reform = empowered_quartermasters_reform
		}
	}
	modifiers = {
		naval_maintenance_modifier = -0.15
		max_absolutism = -15
	}
	effect = {
		change_estate_land_share = {
			estate = estate_burghers
			share = 20
		}
	}
	custom_attributes = {
		enables_estate_burghers = yes
	}
	ai = {
		factor = 1
	}
}

open_naval_services_reform = {
	icon = "merchant_ship"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_burghers
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_burghers
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		global_ship_cost = -0.05
		global_ship_repair = 0.15
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = naval_supplies
					}
					add_province_modifier = { 
						name = naval_supplies_bonus_prod
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = naval_supplies_bonus_prod
				}
				remove_province_modifier = naval_supplies_bonus_prod
			}
		}
	}
	custom_attributes = {
		extra_trade_goods_from_naval_supplies = yes
	}
	ai = {
		factor = 1
	}
}

master_smugglers_reform = {
	icon = "black_army_reform"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_burghers
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_burghers
			}
		}
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		mercenary_cost = -0.2
	}
	custom_attributes = {
		mercs_do_not_cost_army_professionalism = yes
	}
	ai = {
		factor = 1
	}
}

cutthroat_approach_reform = {
	icon = "pirate_republic"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_burghers
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_burghers
			}
		}
	}
	modifiers = {
		naval_tradition_from_battle = 0.5
		prestige_from_naval = 0.5
		capture_ship_chance = 0.33
		pr_captains_influence = 0.1
	}
	conditional = {
		allow = { has_dlc = "Golden Century" }
		custom_attributes = {
			flagship_bounty_hunter = yes
		}
	}
	ai = {
		factor = 1
	}
}

#Administration

political_principle_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		NOT = { # Anebnnar
			has_reform = northern_league_magnates
		}
	}
	modifiers = {
		possible_adm_policy = 1
	}
}

moral_principle_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	potential = {
		NOT = { # Anbennar
			culture_group = goblin
			has_reform = northern_league_magnates
		}
	}
	modifiers = {
		possible_dip_policy = 1
	}
}

stability_principle_reform = {
	icon = "soldiers_6"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_reform = northern_league_magnates } #Anbennar
	}
	modifiers = {
		possible_mil_policy = 1
	}
}

enlightened_principle_reform = {
	icon = "enlightenment"
	allow_normal_conversion = yes
	potential = {
		NOT = { culture_group = dwarven }
	}
	trigger = {
		OR = {
			full_idea_group = innovativeness_ideas
			has_institution = enlightenment
		}
	}
	modifiers = {
		years_of_nationalism = -10
	}
}

military_principle_reform = {
	icon = "soldiers_3"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_reform = northern_league_magnates } #Anbennar
	}
	trigger = {
		is_emperor_of_china = no #Anbennar
	}
	modifiers = {
		republican_tradition = -0.5
		max_absolutism = 10
		years_of_nationalism = -5
	}
	custom_attributes = {
		winning_wars_gives_rt = yes
	}
}

revolutionary_principle_reform = {
	icon = "revolutionary_republic"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		rr_girondists_influence = 0.1
		land_morale = 0.1
		global_manpower_modifier = 0.15
	}
	ai = {
		factor = 2
	}
}

equality_principle_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		tolerance_heretic = 2
		tolerance_heathen = 2
		rr_jacobins_influence = 0.1
	}
	ai = {
		factor = 2
	}
}

imperial_principle_reform = {
	icon = "imperial_nobility_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		rr_royalists_influence = 0.1
		ae_impact = -0.1
		province_warscore_cost = -0.1
	}
	ai = {
		factor = 2
	}
}

high_dawn_academy_reform = {
	icon = "united_cantons_reform"
	allow_normal_conversion = yes
	potential = {
		has_reform = high_dawn_academy_reform
	}
	modifiers = {
		governing_capacity_modifier = 0.1
	}
	custom_attributes = {
		better_long_lived = yes
	}
}

khug_asra_reform_republic = {
	icon = paper_money_map
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		has_country_flag = unlock_asra_reform_republic
		NOT = { has_country_flag = khug_bank_out }
	}
	modifiers = {
		country_admin_power = 1
		interest = -0.5
		burghers_influence_modifier = 0.10
	}
}

feiten_reformist_movement = {
	icon = "united_cantons_reform"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		has_reform = feiten_reformist_movement
	}
	modifiers = {
		max_absolutism = -20
		republican_tradition = 1
	}

	states_general_mechanic = {
		feiten_reformists = {
			global_unrest = -1
			global_trade_goods_size_modifier = 0.1
			technology_cost = -0.1
			all_estate_loyalty_equilibrium = -0.1
			discipline = -0.05
		}
		feiten_traditionalists = {
			global_foreign_trade_power = 0.2
			technology_cost = 0.2
			fire_damage = 0.1
		}
	}

	custom_attributes = {
		anb_special_elections = yes
	}
}

dwarovar_keep_to_tradition = {
	icon = "noble_indian"
	potential = { culture_group = dwarven }
	trigger = { 
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
	}
	modifiers = {
		reform_progress_growth = -0.1
		reelection_cost = -0.2
		same_culture_advisor_cost = -0.05
	}

	ai = { factor = 1 }
}

#Electorate

landholders_reform = {
	icon = "dutch_flag"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		NOT = { has_reform = northern_league_magnates }
	}
	modifiers = {
		manpower_recovery_speed = 0.1
	}
	ai = {
		factor = 1
	}
}

citizenry_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		NOT = { has_reform = northern_league_magnates }
	}
	modifiers = {
		land_morale = 0.1
	}
	ai = {
		factor = 1.5
	}
}

admiralty_reform = {
	icon = "admiralty_reform"
	allow_normal_conversion = yes
	# no legacy equivalent. own Dharama or Emperor
	potential = {
		is_revolutionary = no
		NOT = {
			has_government_attribute = is_pirate_republic_reform
			
			# Anbennar
			has_government_attribute = anb_special_elections
			has_reform = northern_league_magnates
			has_reform = golden_republic_reform
			tag = G32
			tag = G59
			culture_group = dwarven
			has_reform = pentapandemonium_reform
		}
	}
	trigger = {
		num_of_ports = 1
		NOT = { has_government_attribute = is_pirate_republic_reform }
		NOT = { has_reform = jiangdu_leadership_reform }
		NOT = { has_reform = jiangdu_war_empire_reform }
	}
	modifiers = {
		leader_naval_fire = 1
		naval_tradition_from_battle = 1
		republican_tradition = -0.5
		max_absolutism = 10
	}
	custom_attributes = {
		admirals_become_rulers = yes
		cannot_become_dictatorship = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

military_rulership_reform = {
	icon = "soldiers_2"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
		NOT = {
			has_government_attribute = is_pirate_republic_reform
			# Anbennar
			has_government_attribute = anb_special_elections
			has_reform = northern_league_magnates
			has_reform = anisikheioni_naval_stratocracy
			has_reform = golden_republic_reform
		}
	}
	modifiers = {
		leader_land_shock = 1
		army_tradition = 0.5
		republican_tradition = -0.5
		max_absolutism = 10
	}
	custom_attributes = {
		generals_become_rulers = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

dynastic_rulership_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
		NOT = { # Anbennar
			has_government_attribute = anb_special_elections
			has_reform = northern_league_magnates
			has_reform = golden_republic_reform
			culture_group = dwarven
			has_reform = united_federation
		}
	}
	trigger = {
		is_emperor_of_china = no #Anbennar
	}
	modifiers = {
		diplomatic_reputation = 2
		republican_tradition = -0.25
	}
	queen = yes
	royal_marriage = yes
	custom_attributes = {
		election_on_death = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

rule_through_plunder_reform = {
	icon = "rioting_burning_2"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		loot_amount = 1
		land_attrition = -0.05
	}
	raze_province = yes
	
	ai = {
		factor = 0
	}
}

equal_electorate_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		global_unrest = -2
		global_tax_modifier = 0.1
		female_advisor_chance = 0.33
		rr_jacobins_influence = 0.1
	}
	
	ai = {
		factor = 1
	}
}

three_classes_reform = {
	icon = "three_classes_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		core_creation = -0.1
		rr_girondists_influence = 0.1
	}
	
	ai = {
		factor = 1
	}
}

military_electorate_reform = {
	icon = "military_dictatorship_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		leader_land_fire = 1
		army_tradition = 0.25
		rr_royalists_influence = 0.1
	}
	custom_attributes = {
		generals_become_rulers = yes
		has_term_election = no
	}
	
	ai = {
		factor = 1
	}
}

dwarovar_clan_heads = {
	icon = "commander_king_reform"
	potential = { culture_group = dwarven }
	trigger = {
		if = {
			limit = { tag = I02 }
			NOT = { has_reform = krak_free_council }
		}
	}

	modifiers = {
		global_manpower_modifier = 0.1
		max_absolutism = 10
		nobles_loyalty_modifier = 0.05
		nobles_influence_modifier = 0.1 
	}
	royal_marriage = yes

	ai = { factor = 1 }
}


#Office Selection Method

appointment_by_committee_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		advisor_pool = 1
		advisor_cost = -0.05
	}
}

bureaucratic_aparatus_reform = {
	icon = "map_2"
	allow_normal_conversion = yes
	modifiers = {
		min_autonomy_in_territories = -0.10
	}
}


universal_suffrage_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	modifiers = {
		free_dip_policy = 1
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0.1
			NOT = {
				any_owned_province = {
					NOT = { has_owner_accepted_culture = yes }
					NOT = { has_owner_culture = yes }
				}
			}
		}
	}
}

pirate_representation_reform = {
	icon = "council"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		if = {
			limit = { has_dlc = "Common Sense" }
			OR = {
				NOT = { has_estate = estate_nobles }
				crown_stronger_than_estate = { estate = estate_nobles }
				has_reform = pirate_representation_reform
			}
		}
		if = {
			limit = { has_dlc = "Res Publica" }
			NOT = { has_reform = elective_monarchy }
		}
		if = {
			limit = { has_dlc = "Lions of the North" }
			NOT = { has_reform = polish_elective_monarchy }
		}
		if = {
			limit = { NOT = { has_dlc = "Mandate of Heaven" } }
			NOT = { is_emperor_of_china = yes }
			NOT = { is_revolutionary_republic_trigger = yes }
		}
	}
	modifiers = {
		republican_tradition = 0.5
		max_absolutism = -15
	}
	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
	}

	ai = {
		factor = 0
	}
}

#Anbennar

feiten_keju = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = { has_reform = feiten_keju }
	modifiers = {
		advisor_cost = -0.1
		advisor_pool = 1
	}

	custom_attributes = { is_feiten_keju = yes }
}

#Question of Dictatorship

pirates_become_republic_reform = {
	icon = "parliament_highlighted"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = pirate_republic_reform
	}
	effect = {
		remove_government_reform = pirate_republic_reform
		set_country_flag = populists_in_government
	}
	ai = {
		factor = 0
	}
}

seize_executive_power_reform = {
	icon = "king_2_highlighted"
	allow_normal_conversion = yes

	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		stability = 2
	}

	modifiers = {
	}
	effect = {
		if = {
			limit = { has_government_attribute = states_general_mechanic }
			set_country_flag = had_states_general_mechanic
		}
		set_country_flag = populists_in_government
		add_stability = -3
		change_government = monarchy
		# if = {
		# 	limit = {
		# 		tag = AVE
		# 	}
		# 	hidden_effect = {
		# 		country_event = {
		# 			id = flavor_gbr.20
		# 		}
		# 	}
		# }
		if = {
			limit = { has_country_flag = had_states_general_mechanic }
			country_event = { id = dutch_republic.33 }
			clr_country_flag = had_states_general_mechanic
		}
	}
	ai = {
		factor = 0
	}
}

proclaim_divine_guidance_reform = {
	icon = "religious_leader_highlighted"
	allow_normal_conversion = yes
	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		stability = 2
	}
	modifiers = {
	}
	effect = {
		set_country_flag = populists_in_government
		add_stability = -3
		change_government = theocracy
		# if = {
		# 	limit = {
		# 		tag = AVE
		# 	}
		# 	hidden_effect = {
		# 		country_event = {
		# 			id = flavor_gbr.20
		# 		}
		# 	}
		# }
	}
	ai = {
		factor = 0
	}
}

strengthen_executive_powers_reform = {
	icon = "queen"
	allow_normal_conversion = yes
	potential = { 
		is_revolutionary = no 
	}
	modifiers = {
		max_absolutism = 25
	}
}

reinforce_republican_values_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	modifiers = {
		free_adm_policy = 1
		reelection_cost = -0.1
	}
}

federal_senate_reform = {
	icon = "judge"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	modifiers = {
		expand_administration_cost = -1
		candidate_random_bonus = 1
	}

	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
		custom_attributes = {
			halved_parliament_bribes = yes
		}
	}
}

president_for_life_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	has_term_election = no
	potential = { 
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		republican_tradition = -0.5
		monarch_admin_power = 1
		monarch_military_power = 1
	}
}

unified_piratical_confederacy_reform = {
	icon = "pirate_council"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		state_governing_cost = -0.5
		pr_buccaneers_influence = 0.1
	}
}

scourge_of_the_seven_sea_reform = {
	icon = "pirate_ship"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		is_emperor_of_china = no #Anbennar
	}
	modifiers = {
		max_absolutism = 20
		naval_tradition_from_battle = 1
		army_tradition_from_battle = 1
		pr_captains_influence = 0.1
	}
	custom_attributes = {
		raiding_increases_pp = yes
		winning_battles_increases_legitimacy = yes
	}
}

neutral_ground_reform = {
	icon = "neutral_ground"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		diplomatic_reputation = 2
		improve_relation_modifier = 0.15
		pr_smugglers_influence = 0.1
	}
	custom_attributes = {
		vassals_can_hoist_the_black_flag = yes
		pirate_vassal_bonus = yes
	}
}

government_for_people_reform = {
	icon = "government_for_people_reform"
	allow_normal_conversion = yes
	potential = { 
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		max_revolutionary_zeal = 20
	}
}

become_rev_empire_reform = {
	icon = "become_rev_empire_reform"
	allow_normal_conversion = yes

	potential = { 
		is_revolutionary = yes
	}
	
	trigger = {
		has_reform = revolutionary_republic_reform
		if = {
			limit = {
				has_dlc = "Rights of Man"
			}
			faction_influence = {
				faction = rr_royalists
				influence = 75
			}
		}
		else = {
			NOT = { republican_tradition = 40 }
		}
	}

	modifiers = {
	}
	effect = {
		if = {
			limit = { has_government_attribute = states_general_mechanic }
			set_country_flag = had_states_general_mechanic
		}
		set_country_flag = populists_in_government
		hidden_effect = {
			change_government = monarchy
			# if = {
				# limit = {
					# tag = AVE
				# }
				# hidden_effect = {
					# country_event = {
						# id = flavor_gbr.20
					# }
				# }
			# }
		}
		add_government_reform = revolutionary_empire_reform
		if = {
			limit = { has_country_flag = had_states_general_mechanic }
			country_event = { id = dutch_republic.33 }
			clr_country_flag = had_states_general_mechanic
		}
	}
	ai = {
		factor = 0
	}
}

# millenarian_theocracy_reform = {
# 	icon = "rioting_burning_2"
# 	allow_normal_conversion = yes
# 	has_term_election = no
# 	potential = {
# 		religion = catholic
# 		has_ruler = "Girolamo Savonarola"
# 		OR = {
# 			tag = LAN
# 			tag = TUS
# 		}
# 	}
# 	trigger = {
# 		religion = catholic
# 		has_ruler = "Girolamo Savonarola"
# 		OR = {
# 			tag = LAN
# 			tag = TUS
# 		}
# 	}
# 	modifiers = {
# 		devotion = 1
# 		tolerance_own = 2
# 		global_missionary_strength = 0.02
# 	}
# 	custom_attributes = {
# 		election_on_death = yes
# 	}
# 	ai = {
# 		factor = 10
# 	}
# }

#Anbennar
state_council_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = no

	potential = { 
		has_reform = state_council_reform
	}
	modifiers = {
		republican_tradition = 1
		reelection_cost = 0.1
		max_absolutism = -10
	}
}

#Anbennar

#Tier 1
roilsard_elective = {
	icon = "protectorate_parliament_reform"
	allow_normal_conversion = no
	
	potential = {
		OR = {
			has_reform = roilsard_elective
			have_had_reform = roilsard_elective
		}
	}
	
	royal_marriage = yes
	duration = 8	#Longer as it's not a true republic, closer to an elective monarchy
	has_term_election = yes
	lock_level_when_selected = yes
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		locked_government_type = yes
		anb_special_elections = yes
	}

	modifiers = {
		nobles_influence_modifier = 0.10
		nobles_loyalty_modifier = 0.05
		burghers_influence_modifier = -0.15 #Cancels generic republic bonus
		stability_cost_modifier = -0.1
		max_absolutism = 40
	}
	
	effect = {
		custom_tooltip = producing_wine_winelord
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = wine
					}
					add_province_modifier = { 
						name = wine_lord_wine
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = wine_lord_wine
				}
				remove_province_modifier = wine_lord_wine
			}
		}
	}
}

wineport_merchants = {
	icon = "politician"
	allow_normal_conversion = yes
	
	potential = {
		OR = {
			has_reform = wineport_merchants
			have_had_reform = wineport_merchants
		}
	}
	
	modifiers = {
		max_absolutism = -10
		merchants = 1
	}
	
	trigger = {
		OR = {
			has_reform = wineport_merchants
			crown_stronger_than_estate = { estate = all }
		}
	}
	boost_income = yes
	duration = 4
	lock_level_when_selected = yes
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
	}
	
	effect = {
		custom_tooltip = producing_wine_winelord
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = wine
					}
					add_province_modifier = { 
						name = wine_lord_wine
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = wine_lord_wine
				}
				remove_province_modifier = wine_lord_wine
			}
		}
	}
	
	ai = {
		factor = 10
	}
}

malacnar_republic_reform = {
	icon = "black_army_reform"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		OR = {
			AND = {
				tag = G32
				has_country_flag = reformed_malacnar_flag
				NOT = { map_setup = map_setup_random }
			}
			is_playing_custom_nation = yes
		}
	}
	trigger = {
		OR = {
			is_playing_custom_nation = yes
			have_had_reform = malacnar_monarchy
		}
		custom_trigger_tooltip = {
			tooltip = reformed_malacnar_flag_alt_tt
			has_country_flag = reformed_malacnar_flag
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 100
	#legacy_equivalent = prussian_republic
	
	modifiers = {
		war_exhaustion = -0.02
		manpower_recovery_speed = 0.10 #added to offset the loss of militarization mechanic
		leader_land_shock = 1 #added to offset the loss of militarization mechanic
	#	monthly_militarized_society = 0.05
		global_autonomy = -0.075
		republican_tradition = -0.5
		max_absolutism = 30
		governing_capacity_modifier = -0.5
	}
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		generals_become_rulers = yes
	}
	
	has_term_election = no
}

reuyeli_republic = {
	icon = "government_for_people_reform"
	allow_normal_conversion = no
	
	potential = {
		OR = {
			has_reform = reuyeli_republic
			have_had_reform = reuyeli_republic
		}
	}
	
	duration = 4
	has_term_election = yes
	lock_level_when_selected = yes
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		anb_special_elections = yes
	}

	modifiers = {
		idea_cost = -0.05
		num_accepted_cultures = 2
	}
}

administrating_officers_reform = {
	icon = "soldiers_7"
	allow_normal_conversion = yes
	
	potential = {
		OR = {
			has_reform = administrating_officers_reform
			have_had_reform = administrating_officers_reform
		}
	}

	modifiers = {
		state_maintenance_modifier = -0.10
		yearly_army_professionalism = 0.002
	}
}

# Anbennar Northern League stuff
northern_league_magnates = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	lock_level_when_selected = yes	
	duration = 5 # Bit longer cause they don't have a strong republican tradition, it's a continuation of the council of Magnates which wasn't really built for running a country
	
	potential = {
		OR = {
			has_reform = northern_league_magnates
			have_had_reform = northern_league_magnates
		}
		OR = {
			tag = A13 # Gawed
			was_tag = A13
			is_subject_of = A13
		}
	}

	factions = {
		nl_cooperatists
		nl_trade_barons
		nl_old_guard
	}

	modifiers = {
		production_efficiency = 0.10
		development_cost = -0.10
		governing_capacity = 350
		candidate_random_bonus = 1
		max_absolutism = 20
	}
	
	conditional = {
		government_abilities = {
			magnate_mechanic
		}
	}

	effect = {
		if = {
			limit = {
				tag = A13
			}
			override_country_name = NORTHERN_LEAGUE
		}
	}
	
	removed_effect = {
		if = {
			limit = {
				tag = A13
			}
			restore_country_name = yes
		}
	}
	
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		disables_regular_estates = yes
	}
	
	ai = { # Always pick this if you lose it
		factor = 10
	}
}

nothern_league_the_needs_of_the_many = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = northern_league_magnates
	}

	modifiers = {
		global_unrest = -2
		production_efficiency = 0.05
		nl_cooperatists_influence = 0.1
	}
}

nothern_league_freedom_for_all = {
	icon = "assembly_hall"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = northern_league_magnates
	}

	modifiers = {
		trade_efficiency = 0.15
		may_recruit_female_generals = yes
		female_advisor_chance = 0.25
		nl_trade_barons_influence = 0.1
	}
}

nothern_league_a_continuation_of_purpose = {
	icon = "judge"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = northern_league_magnates
	}

	modifiers = {
		reelection_cost = -0.10
		autonomy_change_time = -0.1
		nl_old_guard_influence = 0.1
	}
}

nothern_league_unitary_principle = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = northern_league_magnates
	}

	modifiers = {
		no_religion_penalty = yes
		nl_cooperatists_influence = 0.1
	}
}

nothern_league_autonomous_principle = {
	icon = "revolutionary_council_reform"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = northern_league_magnates
	}

	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = northern_league_magnates
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = northern_league_magnates
	}

	modifiers = {
		global_foreign_trade_power = 0.1
		diplomatic_upkeep = 1
		nl_trade_barons_influence = 0.1
	}
}

nothern_league_military_principle = {
	icon = "imperial_nobility_reform"
	allow_normal_conversion = yes
	
	custom_attributes = {
		winning_wars_gives_rt = yes
	}
	
	potential = {
		has_reform = northern_league_magnates
	}

	modifiers = {
		land_maintenance_modifier = -0.10
		land_forcelimit_modifier = 0.10
		republican_tradition = -0.5
		years_of_nationalism = -5
		nl_old_guard_influence = 0.1
	}
}

nothern_league_single_electorate = {
	icon = "generic_people"
	allow_normal_conversion = yes
	potential = {
		has_reform = northern_league_magnates
	}
	modifiers = {
		stability_cost_modifier = -0.25
		advisor_cost = -0.15
		nl_cooperatists_influence = 0.1
	}
	
	ai = {
		factor = 1
	}
}

northern_league_stratified_electorate = {
	icon = "three_classes_reform"
	allow_normal_conversion = yes
	potential = {
		has_reform = northern_league_magnates
	}
	modifiers = {
		core_creation = -0.15
		nl_trade_barons_influence = 0.1
	}
	
	ai = {
		factor = 1
	}
}

northern_league_military_electorate_reform = {
	icon = "military_dictatorship_reform"
	allow_normal_conversion = yes
	potential = {
		has_reform = northern_league_magnates
		NOT = { has_reform = force_reelection_reform }
	}
	modifiers = {
		leader_land_fire = 1
		army_tradition = 0.25
		nl_old_guard_influence = 0.1
	}
	custom_attributes = {
		generals_become_rulers = yes
		has_term_election = no
		disables_regular_estates = yes
	}
	
	ai = {
		factor = 1
	}
}

#Yingzhin
sinistral_chamber_reform = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = sinistral_chamber_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		spy_offence = 0.4
		global_unrest = -2
		land_forcelimit_modifier = -0.15
		yearly_corruption = +0.05
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	
}

sinistral_republic_reform = {
	icon = "regionally_elected_commanders"
	allow_normal_conversion = no
	has_term_election = no
	# legacy_equivalent = sinistral_republic_legacy
	royal_marriage = no
	potential = {
		has_reform = sinistral_republic_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		stability_cost_modifier = -0.1
		max_absolutism = 50
		global_spy_defence = 0.2
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_nepotism = yes
		election_on_death = yes
	}
}

#Anjiang
anjiang_court_of_envoys_reform = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = anjiang_court_of_envoys_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		global_spy_defence = 0.2
		defensiveness = 0.2
		advisor_cost = 0.2
		mages_loyalty_modifier = 0.1
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	
}

#Guhe
guhe_council_stripes_reform = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = guhe_council_stripes_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		infantry_shock = 0.05
		global_manpower_modifier = 0.1
		movement_speed = 0.05
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	
}

#Yangcheng
yangcheng_xuezhe_reform = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = yangcheng_xuezhe_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		technology_cost = -0.05
		build_time = -0.15
		diplomatic_reputation = 1
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	
}

#Yanzhong
yanzhong_patrol_reform = {
	icon = "mandala_system"
	allow_convert = no
	allow_normal_conversion = no
	valid_for_new_country = no
	lock_level_when_selected = yes
	potential = {
		has_reform = yanzhong_patrol_reform
	}
	valid_for_nation_designer = no
	modifiers = {
		global_manpower_modifier = -0.15
		global_trade_goods_size_modifier = 0.1
		merchants = 1
		
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	
}

bulwar_expended_council_reform = {
	icon = "conciliarism_reform"
	potential = {
		has_reform = bulwar_twelve_families_reform
		has_reform = bulwar_expended_council_reform 
	}
	modifiers = {
        
    }
	custom_attributes = {
		enables_one_more_bulwar_council_member = yes
	}
}

matriarchal_pirate_republic = {
	icon = "pirate_republic"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	modifiers = {
		republican_tradition = -1
		max_absolutism = -10
		naval_forcelimit_modifier = 0.5
		capture_ship_chance = 0.33
		state_governing_cost = 0.75
		may_perform_slave_raid_on_same_religion = yes
		allowed_marine_fraction = 0.5
	}
	trigger = {
		OR = {
			has_government_attribute = is_pirate_republic_reform
			crown_stronger_than_estate = { estate = all }
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	can_form_trade_league = no
	
	nation_designer_trigger = {
		OR = {
			has_dlc = "Lions of the North"
			has_dlc = "Golden Century"
		}
		culture_group = harpy
		capital_scope = {
			has_port = yes
			province_is_on_an_island = yes
		}
	}
	
	removed_effect = {
		clr_country_flag = pirate_mutineer_council
	}
	
	potential = {
		has_reform = matriarchal_pirate_republic
		OR = {
			has_dlc = "Lions of the North"
			has_dlc = "Golden Century"
		}
	}
	
	factions_frame = 9
	factions = {
		pr_buccaneers
		pr_smugglers
		pr_captains
	}
	
	duration = 4
	
	custom_attributes = {
		locked_government_type = yes
		force_admiral_leader = yes
		#does not use admiral to ruler attribute as that happens automatically and kills the heir
		#this instead uses the define_leader_to_ruler effect
		is_pirate_republic_reform = yes
		elections_increase_factions_influence = yes
		cannot_become_dictatorship = yes
		disables_regular_estates = yes #is that wanted?
	}
}

#Orlghelovar
orlghelovar_glasslords = { #Orlghelovar first government reform
	icon = "merchant"
	allow_normal_conversion = no
	duration = 4
	has_term_election = yes
	lock_level_when_selected = yes
	custom_attributes = {
		locked_government_type = yes
	}
	potential = {
		has_reform = orlghelovar_glasslords
	}
	modifiers = {
		improve_relation_modifier = 0.1
	}
	effect = {
		custom_tooltip = orlghelovar_glass_glasslord_tt
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = glass
					}
					add_province_modifier = { 
						name = orlghelovar_glasslord_glass
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
}
orlghelovar_science = {
	icon = "merchant"
	allow_normal_conversion = no
	duration = 4
	has_term_election = yes
	lock_level_when_selected = yes
	custom_attributes = {
		locked_government_type = yes
		is_technocracy = yes
	}
	potential = {
		has_reform = orlghelovar_science
		OR = {
			has_country_flag = magic_artificery_artificery_only
			has_country_flag = magic_artificery_mixed
		}
	}
	modifiers = {
		trade_efficiency = 0.1
		idea_cost = -0.05
	}
	effect = {
		custom_tooltip = orlghelovar_glass_glasslord_tt
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = glass
					}
					add_province_modifier = { 
						name = orlghelovar_glasslord_glass
						duration = -1
						hidden = yes
					}
				}
			}
		}
		artifice_magic_switch_to_artificery_only_mode = yes
	}
}
orlghelovar_glass_worker_reform = {
	icon = "merchant"
	allow_normal_conversion = no
	potential = {
		OR = {
			has_reform = orlghelovar_glass_worker_reform
			have_had_reform = orlghelovar_glass_worker_reform
		}
	}
	effect = {
		custom_tooltip = orlghelovar_glass_worker_reform_tt
		every_owned_province = {
			if = {
				limit = { 
					trade_goods = glass
				}
				add_province_modifier = {
					name = orlghelovar_reformed_glassworkers
					duration = -1
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = orlghelovar_reformed_glassworkers
				}
				remove_province_modifier = orlghelovar_reformed_glassworkers
			}
		}
	}
}

#railskulker
railskulker_councils_of_technocrats = {
	icon = "conciliarism_reform"
	lock_level_when_selected = yes
	has_parliament = yes
	potential = {
		OR = {
			has_reform = technocracy_republic_reform
			has_reform = pentapandemonium_reform
		}
	}
	modifiers = {
		technology_cost = -0.05
		artificers_influence_modifier = 0.1 
	}
}
	
railskulker_capital_on_train_tracks = {
	icon = "conciliarism_reform"
	potential = {
		OR = {
			mission_completed = railskulker_on_the_rails_again
			has_reform = railskulker_capital_on_train_tracks
		}
	}
	modifiers = {
		move_capital_cost_modifier = -0.75
 		artificers_loyalty_modifier = 0.1
	}
}
	
#Barumand
barumand_land_of_equals_reform = {
    icon = "merchant"
    allow_normal_conversion = yes
    potential = {
        has_reform = barumand_land_of_equals_reform
    }
    modifiers = {
        global_unrest = -2
        advisor_cost = -0.15
		candidate_random_bonus = 2
    }
    custom_attributes = {
        lottery_election = yes
        election_on_death = yes
		bonus_stats_for_elected_ruler = yes
    }
    duration = 10
}

#Newshire
newshire_stewardship = {
	icon = "articles_of_agreement"
	allow_normal_conversion = no
	duration = 15
	has_term_election = yes
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	potential = {
		has_reform = newshire_stewardship
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		anb_special_elections = yes
		cannot_become_dictatorship = yes
	}
	modifiers = {
		max_absolutism = -10
		mages_influence_modifier = 0.05
		mages_loyalty_modifier = 0.05
		embracement_cost = -0.1
		global_institution_spread = 0.1
		female_advisor_chance = 0.25
		may_recruit_female_generals = yes
	}
	effect = {
		custom_tooltip = newshire_stewardship_boost_tooltip
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						OR = {
							trade_goods = grain
							trade_goods = livestock
						}
					}
					add_province_modifier = {
						name = newshire_stewardship_boost
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = newshire_stewardship_boost
				}
				remove_province_modifier = newshire_stewardship_boost
			}
		}
	}
}

newshire_high_stewardship = {
	icon = "articles_of_agreement"
	allow_normal_conversion = no
	has_term_election = no
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	potential = {
		has_reform = newshire_high_stewardship
		NOT = {
			has_country_flag = magic_artificery_artificery_only
		}
	}
	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		anb_special_elections = yes
		election_on_death = yes
		is_magocracy = yes
		always_mage = yes
		always_witch_king = yes
	}
	modifiers = {
		max_absolutism = -10
		mages_influence_modifier = 0.05
		mages_loyalty_modifier = 0.05
		embracement_cost = -0.1
		global_institution_spread = 0.1
		female_advisor_chance = 0.25
		may_recruit_female_generals = yes
	}
	effect = {
		custom_tooltip = newshire_stewardship_boost_tooltip
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						OR = {
							trade_goods = grain
							trade_goods = livestock
						}
					}
					add_province_modifier = {
						name = newshire_stewardship_boost
						duration = -1
						hidden = yes
					}
				}
			}
		}
		artifice_magic_switch_to_magic_only_mode = yes
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = newshire_stewardship_boost
				}
				remove_province_modifier = newshire_stewardship_boost
			}
		}
	}
}

#Anisikheion
anisikheioni_naval_stratocracy = {
	icon = "admiralty_reform"
	allow_normal_conversion = no
	has_term_election = no
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	potential = {
		has_reform = anisikheioni_naval_stratocracy
	}
	modifiers = {
		leader_naval_fire = 1
		naval_tradition_from_battle = 1
		leader_naval_manuever = 1
		max_absolutism = 10
		navy_tradition = 0.5
	}
	custom_attributes = {
		admirals_become_rulers = yes
		cannot_become_dictatorship = yes
	}
}

anisikheioni_naval_administration = {
	icon = "admiralty_reform"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	potential = {
		has_reform = anisikheioni_naval_administration
	}
	modifiers = {
		land_maintenance_modifier = 0.10 
		army_tradition = -1
		ship_durability = 0.1 
		galley_power = 0.15
		movement_speed_in_fleet_modifier = 1
	}
}

#Theinos
theinosi_synkletos = {
	icon = "parliament"
	allow_normal_conversion = no
	potential = {
		has_reform = theinosi_synkletos
	}
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	modifiers = {
		colonists = 1
		advisor_pool = 1
		global_autonomy = -0.05
		max_absolutism = 10
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		cannot_become_dictatorship = yes
	}
	conditional = {
		allow = { 
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			} 
		}
		has_parliament = yes
		custom_attributes = {
			blocked_call_diet = yes
			disables_estate_nobles = yes
		}
	}
	duration = 4
}

#Amgremos Pirate Republic

thasaros_kheinisi = {
	icon = "pirate_ship"
	allow_normal_conversion = no
	has_term_election = no
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	potential = { 
		has_reform = thasaros_kheinisi
	}
	legacy_equivalent = pirate_republic
	
	modifiers = {
		naval_forcelimit_modifier = 0.25
		privateer_efficiency = 0.30
		leader_naval_manuever = 1
		naval_tradition_from_battle = 1
		may_perform_slave_raid_on_same_religion = yes
	}
	custom_attributes = {
		raiding_increases_pp = yes
		winning_battles_increases_legitimacy = yes
		vassals_can_hoist_the_black_flag = yes
		pirate_vassal_bonus = yes
	}
}
#Eneion
bharbhen_relations_bureau = {
	icon = "native_trading_with_foreigners_reform"
	allow_normal_conversion = yes
	potential = {
		AND = {
			OR = {
				tag = G55
				was_tag = G55
			}
			has_country_flag = G55_bharbhen_reform_access
		}
	}
	lock_level_when_selected = no
	valid_for_nation_designer = no
	modifiers = {
		native_assimilation = 0.50
		native_uprising_chance = -0.50
	}
}

#Keyolion
G58_agronomers_association_reform = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	potential = {
		AND = {
			OR = {
				tag = G58
				was_tag = G58
			}
			has_country_flag = G58_agronomers_association_flag
		}
	}
	lock_level_when_selected = no
	valid_for_nation_designer = no
	modifiers = {
		free_adm_policy = 1
	}

	effect = {
		custom_tooltip = G58_producing_sugar
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = sugar
					}
					add_province_modifier = { 
						name = G58_sugar_province_goods
						duration = -1
						hidden = yes
					}
				}
			}
		}
		custom_tooltip = G58_sugar_colonies_chance
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = G58_sugar_province_goods
				}
				remove_province_modifier = G58_sugar_province_goods
			}
		}
	}
}

# Mountainshark
mountainshark_govzenszel = {
	icon = "tribal_assimilation"
	allow_normal_conversion = no
	duration = 4
	potential = { 
		has_reform = mountainshark_govzenszel
	}
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	modifiers = {
		advisor_cost = -0.1
		max_absolutism = 20
		female_advisor_chance = 0.5
		may_recruit_female_generals = yes
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		cannot_become_dictatorship = yes
		anb_special_elections = yes
		rulers_can_be_generals = yes
		is_technocracy = yes
	}
	removed_effect = {
		hidden_effect = {
			remove_country_modifier = H84_violent_candidate
			remove_country_modifier = H84_violent_candidate_o
			remove_country_modifier = H84_liberator_candidate
			remove_country_modifier = H84_liberator_candidate_o
			remove_country_modifier = H84_destroyer_candidate
			remove_country_modifier = H84_destroyer_candidate_o
			remove_country_modifier = H84_cunning_candidate
			remove_country_modifier = H84_cunning_candidate_o
			remove_country_modifier = H84_mastermind_candidate
			remove_country_modifier = H84_mastermind_candidate_o
			remove_country_modifier = H84_dominator_candidate
			remove_country_modifier = H84_dominator_candidate_o
			remove_country_modifier = H84_genius_candidate
			remove_country_modifier = H84_genius_candidate_o
			remove_country_modifier = H84_clanfather_candidate
			remove_country_modifier = H84_clanfather_candidate_o
			remove_country_modifier = H84_allknowing_candidate
			remove_country_modifier = H84_allknowing_candidate_o
		}
	}
	ai = { factor = 1 }
}

mountainshark_avatars_of_the_great_shark = {
	icon = "embrace_new_thoughts"
	allow_normal_conversion = no
	potential = { 
		has_reform = mountainshark_avatars_of_the_great_shark
	}
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	modifiers = {}
	effect = {
		custom_tooltip = mountainshark_avatars_of_the_great_shark_tt
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						development = 10
					}
					add_province_modifier = {
						name = H84_avatars_of_the_great_shark
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = H84_avatars_of_the_great_shark
				}
				remove_province_modifier = H84_avatars_of_the_great_shark
			}
		}
	}
	ai = { factor = 1 }
}

###Goblin Republic Reforms###
spoils_for_the_people = {
	icon = "government_for_people_reform"
	allow_normal_conversion = yes
	potential =  {
		OR = {
			culture_group = goblin
			culture_group = kobold
		}
	}
	modifiers = {
		available_province_loot = -0.2
		production_efficiency = -0.1
		land_morale = 0.05
		global_unrest = -2
	}
}

elected_clanspeakers_reform = {
	icon = "house_of_lords"
	allow_normal_conversion = yes
	lock_level_when_selected = no
	potential = {
			capital_scope = { 
				OR = {
					superregion = bulwar_superregion
					continent = serpentspine
				}
			}
			culture_group = goblin
			NOT = {
				has_reform = mountainshark_govzenszel
				has_reform = pentapandemonium_reform
				has_reform = technocracy_republic_reform
			}
		}
	modifiers = {
		republican_tradition = 0.1
		max_absolutism = -10
		reelection_cost = 0.15
		election_cycle = 2
	}
	custom_attributes = {
        lottery_election = yes
		bonus_stats_for_elected_ruler = yes
	}
}

just_another_cult = {
	icon = "mandala_system"
	allow_normal_conversion = yes
	potential = {
		religion = goblinic_shamanism
	}
	modifiers = {
		tolerance_heathen = 2
		tolerance_own = -1
		church_influence_modifier = -0.1
	}
}

goblin_cabinet_positions = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	potential = { culture_group = goblin }

	modifiers = {
		same_culture_advisor_cost = 0.1
	}

	custom_attributes = {
		republican_tradition_from_advisors = yes
	}
}

communal_caves = {
	icon = "free_city"
	allow_normal_conversion = yes
	potential = {
		OR = {
			culture_group = goblin
			culture_group = kobold
		}
	}
	modifiers = {
		global_institution_spread = 0.2
		state_governing_cost = -0.15
		global_autonomy = -0.05
	}
}

goblin_shadow_chancellor = {
	icon = "spy"
	allow_normal_conversion = yes
	potential = { culture_group = goblin }

	modifiers = {
		max_absolutism = -10
		global_spy_defence = 0.25
		loyalty_change_on_revoked = 0.05
		reduced_stab_impacts = yes
	}
}

dwarovar_mandate_of_goblinkind = {
	icon = "feuillant_reform"
	allow_normal_conversion = yes
	potential = {
		dwarovar_goblin_culture_primary = yes
		capital_scope = { continent = serpentspine }
	}

	trigger = {
		government_rank = 3
	}

	modifiers = {
		culture_conversion_cost = -0.25
		culture_conversion_time = -0.25
	}

	effect = {
		hidden_effect = {
			every_owned_province = {
				limit = { culture_group = goblin }
				add_province_modifier = {
					name = goblin_citizens
					duration = -1
				}
			}
		}
	}

	custom_attributes = {
		cheaper_goblin_governance = yes
	}

	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = { 
					has_province_modifier = goblin_citizens
				}
				remove_province_modifier = goblin_citizens
			}
		}
	}
}

isobelin_government_reform_city_of_the_esteemed_widow = {
	icon = "liberte_reform"
	potential = {
		has_reform = isobelin_government_reform_city_of_the_esteemed_widow
	}
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	allow_convert = no
	allow_normal_conversion = no
	legacy_equivalent = merchant_republic
	modifiers = {
		#min_autonomy = 80
		may_recruit_female_generals = yes
		female_advisor_chance = 0.5
		all_estate_influence_modifier = -0.05
		adventurers_loyalty_modifier = -0.1
		years_of_nationalism = 10
		governing_capacity_modifier = -0.5
		state_maintenance_modifier = 0.5
		global_unrest = 10
		max_possible_parliament_seats = 5
	}
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		locked_government_type = yes
		has_parliament = yes
		boost_income = yes
	}
	effect = {
		custom_tooltip = isobelin_government_reform_tooltip
	}
}
pentapandemonium_reform = {
	icon = "embrace_new_thoughts"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = pentapandemonium_reform
	}
	duration = 4
	valid_for_nation_designer = no
	
	factions = {
		pen_discombobulatorium
		pen_erectors
		pen_harmaceuticals
		pen_clodhoppers
		pen_cloak_and_swagger
	}
	
	modifiers = {
		advisor_cost = -0.33
		advisor_pool = 1
		female_advisor_chance = 0.33
		technology_cost = -0.1
		allowed_rajput_fraction = 0.2 #goblinmaxing artificers
		max_absolutism = -20
		administrative_efficiency = -0.05 #it's a miracle this country functions in the first place
		
		
		artificers_influence_modifier = 0.1
	}

	government_abilities = {
		allclan_pandemonium_mechanic
	}
	
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		locked_government_type = yes
		anb_special_elections = yes
		# disables_regular_estates = yes
		cannot_become_dictatorship = yes
		is_technocracy = yes
	}
	effect = {
		add_country_modifier = {
			name = technocracy_rajput_bonus
			duration = -1
		}
		set_country_flag = I98_pentapandemonium_flag
	}
	removed_effect = {
		remove_country_modifier = technocracy_rajput_bonus
	}
}

#Brelar 

brelar_ynnic_dynastic_republic = {
	icon = "ambrosian_republic"
	allow_normal_conversion = no
	potential = {
		has_reform = brelar_ynnic_dynastic_republic
	}
	lock_level_when_selected = yes
	has_term_election = no
	election_on_death = yes
	valid_for_nation_designer = no

	custom_attributes = {
		anb_special_elections = yes
	}

	modifiers = {
		max_absolutism = 20
		nobles_loyalty_modifier = 0.05
		nobles_influence_modifier = 0.05
		republican_tradition = -0.75
	}
	ai = {
		factor = 1
	}
}

breluslad_north_confluence = {
	icon = "map_2"
	allow_normal_conversion = no
	potential = {
		has_reform = breluslad_north_confluence
	}
	lock_level_when_selected = yes
	valid_for_nation_designer = no
	
	conditional = {
		allow = {
			has_dlc = "Common Sense"
		}
		has_parliament = yes
		custom_attributes = {
			disables_estate_nobles = yes
			blocked_call_diet = yes
		}
	}

	modifiers = {
		republican_tradition = 0.2
		num_accepted_cultures = 2
	}
	ai = {
		factor = 1
	}
}

medasi_reform = {
	icon = "feudal_theocracy"
	allow_normal_conversion = no
	allow_convert = no
	valid_for_new_country = no
	potential = {
		has_reform = medasi_reform
	}
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	duration = 10
	modifiers = {
		all_estate_influence_modifier = 0.1
		religious_unity = -0.25
	}
	
	government_abilities = {
		anb_medasi_power_share
	}
	custom_attributes = {
		locked_government_type = yes
		anb_special_elections = yes
		cannot_become_dictatorship = yes
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
}

frontier_republic_reform = {
	icon = "native_land_tradition_reform"
	legacy_equivalent = oligarchic_republic
	allow_normal_conversion = no
	valid_for_new_country = no
	potential = {
		OR = {
			has_reform = frontier_republic_reform
			have_had_reform = frontier_republic_reform
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 5
	duration = 6

	modifiers = {
		adventurers_influence_modifier = 0.1
		cavalry_fire = 0.5
	}
	effect = {
		custom_tooltip = producing_livestock_frontier
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = livestock
					}
					add_province_modifier = { 
						name = livestock_boost_frontier
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	effect = {
		custom_tooltip = frontier_republic_steppe_expansion_tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_terrain = steppe
				}
				add_province_modifier = {
					name = frontier_republic_steppe_expansion
					duration = -1
					hidden = yes
				}
			}
		}
	}
	removed_effect = {
		custom_tooltip = frontier_republic_steppe_expansion_lost_tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_terrain = steppe
				}
				remove_province_modifier = frontier_republic_steppe_expansion
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = livestock_boost_frontier
				}
				remove_province_modifier = livestock_boost_frontier
			}
		}
	}
	ai = {
		factor = 5
	}
}
haraf_kinah_conclave = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "retain_tribal_hierarchy"
	potential = {
		OR = {
			has_reform = haraf_kinah_conclave
			have_had_reform = haraf_kinah_conclave
		}
	}
	
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
	duration = 12

	modifiers = {
		all_estate_loyalty_equilibrium = 0.1
		max_absolutism = 10
	}
}

# Ovdal Tngr
F23_the_port_hold = {
	icon = "admiralty_reform"
	allow_normal_conversion = no
	duration = 8
	potential = { 
		has_unlocked_government_reform = { government_reform = F23_the_port_hold }
	}

	modifiers = {
		diplomatic_reputation = 1
		advisor_pool = 1
		caravan_power = 0.25
		trade_steering = 0.25
		state_governing_cost = 1
		trade_company_governing_cost = -0.25
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		enables_nepotism = yes
	}
	effect = {
		tooltip = {
			526 = {
				add_province_modifier = { name = F23_improved_trading_post_1 duration = -1 }

				if = { limit = { owner = { mission_completed = F23_resting_yet_productive } }
					add_province_modifier = { name = F23_improved_trading_post_granary_improved duration = -1 }
				}
				else_if = { limit = { owner = { mission_completed = F23_our_granary } }
					add_province_modifier = { name = F23_improved_trading_post_granary duration = -1 }
				}
			}				
		}
		custom_tooltip = F23_the_port_hold_tt
		hidden_effect = {
			every_owned_province = {
				if = { limit = { FROM = { tag = F23 has_reform = F23_the_port_hold } OR = { province_has_center_of_trade_of_level = 1 has_river_estuary_trigger = yes } }
					F23_apply_improved_trading_post = yes
				}
			}
		}
	}
	ai = { factor = 10 }
}	
F23_trading_post_oversight = {
	icon = "constitution"
	allow_normal_conversion = yes
	
	potential = {
		has_unlocked_government_reform = { government_reform = F23_trading_post_oversight }
	}
	
	modifiers = {
		global_trade_power = 0.1
		burghers_loyalty_modifier = -0.1
		min_autonomy_in_territories = -0.1
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		can_use_trade_post = yes
	}
	trigger = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	boost_income = yes
	ai = {
		factor = 1
	}
}
F23_uthojdihr_backing = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	potential = {
		has_unlocked_government_reform = { government_reform = F23_uthojdihr_backing }
	}
	modifiers = {
		trade_efficiency = 0.1
		trade_steering = 0.25
		expand_infrastructure_cost_modifier	= -0.25
		burghers_loyalty_modifier = 0.1
		burghers_influence_modifier = 0.2
	}
	ai = {
		factor = 1
	}
}


crathanori_assembly = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -40
		merchants = 1
		republican_tradition = 0.15
		trade_efficiency = 0.1	
		advisor_cost = -0.10	
	}
	valid_for_nation_designer = no
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	potential = {
		AND = {
			OR = {
				tag = U17
				AND = {
					tag = F52
					was_tag = U17
				}
			}
			mission_completed = crathanor_embrace_the_two_principles
		}
	}
	boost_income = yes
	duration = 4
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
		elections_increase_factions_influence = yes
	}
}

isagumze_scaled_lords_reform = {
	icon = "house_of_lords"
	allow_normal_conversion = no
	allow_convert = no
	valid_for_new_country = no
	potential = {
		OR = {	
			tag = L03
			was_tag = L03
		}
		has_country_flag = isagumze_our_right_to_rule
	}
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	duration = 10
	modifiers = {
		nobles_influence_modifier = 0.1
		nobles_loyalty_modifier = 0.1
	}

	custom_attributes = {
		locked_government_type = yes
		anb_special_elections = yes
		cannot_become_dictatorship = yes
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
	}
}

lake_emissary_liberty = {
	icon = "revolutionary_republic"
	allow_normal_conversion = no
	allow_convert = no
	valid_for_new_country = no
	potential = {
		has_reform = lake_emissary_liberty
	}
	lock_level_when_selected = yes
	modifiers = {
		spy_offence = 0.25
		rebel_support_efficiency = 1
		diplomats = 1
		yearly_revolutionary_zeal = 1
		max_revolutionary_zeal = 25
	}
	custom_attributes = {
		emissary_of_liberty = yes
		uses_revolutionary_zeal = yes
	}
}

vels_bacar_bacaran_republic = {
	icon = "revolutionary_republic"
	allow_normal_conversion = no
	allow_convert = no
	valid_for_new_country = no
	has_term_election = yes
	potential = {
		has_reform = vels_bacar_bacaran_republic
	}
	lock_level_when_selected = yes
	modifiers = {
		embracement_cost = -0.1
		global_institution_spread = 0.2
		defensiveness = 0.2
	}
	custom_attributes = {
		has_parliament = yes
		anb_special_elections = yes
	}
}

vels_bacar_rule_of_the_panykorun = {
	icon = "legislative_sejm_reform"
	allow_normal_conversion = no
	allow_convert = no
	valid_for_new_country = no
	potential = {
		has_reform = vels_bacar_rule_of_the_panykorun
	}
	lock_level_when_selected = yes
	modifiers = {
		embracement_cost = -0.1
		governing_capacity = 100
		max_absolutism = 10
	}
}

besolaki_chaotic_republicanism = {
	icon = "dutch_republic"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	republican_name = no	#to enable last names with the special elections
	potential = {
		OR = {
			has_reform = besolaki_chaotic_republicanism
			have_had_reform = besolaki_chaotic_republicanism
		}
	}
	modifiers = {
		republican_tradition = 0.1
		election_cycle = -1
	}
	custom_attributes = {
		anb_special_elections = yes
		cannot_become_dictatorship = yes
	}
	factions = {
		beso_caribhen
		beso_kheinbhen
		beso_nautabhen
		beso_skighubhen
		beso_dhorbhen
	}
	effect = {
		custom_tooltip = G54_elections_based_on_factions_tt
		custom_tooltip = G54_disables_reelections_tt
		custom_tooltip = G54_factions_in_power_get_influence_tt
		custom_tooltip = G54_reelecting_loses_republican_tradition_tt
	}
}

elemental_right_to_rule = {
	icon = "commander_king_reform"
	potential = { 
		capital_scope = { 
			continent = africa 
		}
	}
	trigger = {
		NOT = { has_estate_privilege = estate_adventurers_suhuskar_palace }
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		max_absolutism = +5
		republican_tradition = -0.2
	}
	effect = {
		custom_tooltip = planetouched_in_republics_tt
	}
	
	ai = { 
		factor = 1 
	}
}

karakhanbar_black_hearth_council_reform = { #Karakhanbar 
	icon = "legislative_sejm_reform"
	allow_normal_conversion = no 
	lock_level_when_selected = yes 
	republican_name = no 
	potential = { 
		OR = { 
			has_reform = karakhanbar_black_hearth_council_reform
			have_had_reform = karakhanbar_black_hearth_council_reform 
		} 
	} 
	valid_for_nation_designer = no 
 
	modifiers = { 
		max_absolutism = 50 
		production_efficiency = 0.1 
		governing_capacity = 100 
	} 
	 
	government_abilities = { 
		karakhanbar_flames_of_the_black_hearth_mechanic
	} 
 
	custom_attributes = {
		scorch_earth_slash_and_burn_effect = yes
		election_on_death = yes	 
		lottery_election = yes
		locked_government_type = yes
		cannot_become_dictatorship = yes
	} 
 
	has_term_election = no 
}

#Grombar formed by Broken Jaw
grombari_council_reform = {
	icon = "legislative_sejm_reform"
	allow_normal_conversion = no 
	lock_level_when_selected = yes 
	potential = { 
		OR = { 
			has_reform = grombari_council_reform
			have_had_reform = grombari_council_reform
		} 
	} 

	modifiers = { 
		advisor_cost = -0.1
		monarch_military_power = 1
	} 

	custom_attributes = {
		locked_government_type = yes
		ruler_become_general = yes
		can_change_primary_culture = no
		disabled_expelling_troll = yes
		disabled_purging_troll = yes
		grombari_council_advisor_modifier = yes
	} 
}

#silver republic

reformed_silver_council_reform = {
	icon = "people_walking"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	duration = 8
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	potential = {
		OR = {	
			tag = U08
			was_tag = U08
		}
		has_country_flag = ekha_forth_to_a_silver_age
	}
	modifiers = {
		trade_efficiency = 0.1
		reelection_cost = 0.3
		max_absolutism = -15
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
		locked_government_type = yes
		anb_special_elections = yes
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	ai = {
		factor = 1
	}
}

eordand_moon_republic_reform = {
	icon = "midnight_monarchy"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -20
		merchants = 1
		monarch_lifespan = 0.25
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	potential = {
		OR = {
			has_reform = eordand_moon_republic_reform
			have_had_reform = eordand_moon_republic_reform
		}
	}
	trigger = {
		OR = {
			has_reform = eordand_moon_republic_reform
			have_had_reform = eordand_moon_republic_reform
		}
	}
	boost_income = yes
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	 custom_attributes = {
		has_parliament = yes
		enables_plutocratic_idea_group = yes
 		enables_aristocratic_idea_group = no
 		lottery_election = yes
 		election_on_death = yes
 		is_merchant_republic = yes
 		elections_increase_factions_influence = yes
 		bonus_stats_for_elected_ruler = yes
 	}
 	has_term_election = no
}

racial_tolerance_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			AND = {
				has_government_attribute = anb_special_elections
				NOT = { has_reform = racial_tolerance_reform }
			}
		}
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = anbennar_racial_tolerance_trigger_tooltip
			calc_true_if = {
				high_tolerance_centaur_race_trigger = yes
				high_tolerance_dwarven_race_trigger = yes
				high_tolerance_elven_race_trigger = yes
				high_tolerance_gnollish_race_trigger = yes
				high_tolerance_gnomish_race_trigger = yes
				high_tolerance_goblin_race_trigger = yes
				high_tolerance_half_elven_race_trigger = yes
				high_tolerance_half_orcish_race_trigger = yes
				high_tolerance_halfling_race_trigger = yes
				high_tolerance_harimari_race_trigger = yes
				high_tolerance_harpy_race_trigger = yes
				high_tolerance_hobgoblin_race_trigger = yes
				high_tolerance_human_race_trigger = yes
				high_tolerance_kobold_race_trigger = yes
				high_tolerance_lizardfolk_race_trigger = yes
				high_tolerance_mechanim_race_trigger = yes
				high_tolerance_ogre_race_trigger = yes
				high_tolerance_orcish_race_trigger = yes
				high_tolerance_ruinborn_race_trigger = yes
				high_tolerance_troll_race_trigger = yes
				amount = 3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
	}
	modifiers = {
		years_of_nationalism = -5
		global_tax_modifier = 0.15
	}
	custom_attributes = {
		locked_government_type = yes
		cannot_become_dictatorship = yes
		anb_special_elections = yes
		racial_election = yes
	}
	ai = {
		factor = 1
	}
}